{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{\"+7AZ\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__extends\",function(){return i}),n.d(e,\"__assign\",function(){return o}),n.d(e,\"__rest\",function(){return a}),n.d(e,\"__decorate\",function(){return s}),n.d(e,\"__param\",function(){return u}),n.d(e,\"__metadata\",function(){return l}),n.d(e,\"__awaiter\",function(){return c}),n.d(e,\"__generator\",function(){return h}),n.d(e,\"__exportStar\",function(){return f}),n.d(e,\"__values\",function(){return p}),n.d(e,\"__read\",function(){return d}),n.d(e,\"__spread\",function(){return y}),n.d(e,\"__await\",function(){return m}),n.d(e,\"__asyncGenerator\",function(){return g}),n.d(e,\"__asyncDelegator\",function(){return v}),n.d(e,\"__asyncValues\",function(){return b}),n.d(e,\"__makeTemplateObject\",function(){return w}),n.d(e,\"__importStar\",function(){return _}),n.d(e,\"__importDefault\",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?\"return\":o[0]?\"throw\":\"next\"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e=\"function\"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(t,e||[]),o=[];return r={},a(\"next\"),a(\"throw\"),a(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function u(t){s(\"next\",t)}function l(t){s(\"throw\",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r(\"next\"),r(\"throw\",function(t){throw t}),r(\"return\"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:m(t[r](e)),done:\"return\"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},6:function(t,e,n){t.exports=n(\"zUnb\")},\"6Joi\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=(r=n(\"wj3C\"))&&\"object\"==typeof r&&\"default\"in r?r.default:r,o=n(\"q/0M\"),a=n(\"os0x\"),s=n(\"FGoP\"),u=i.SDK_VERSION,l=new o.Logger(\"@firebase/firestore\"),c=function(t){return t[t.DEBUG=0]=\"DEBUG\",t[t.ERROR=1]=\"ERROR\",t[t.SILENT=2]=\"SILENT\",t}({});function h(){return l.logLevel===o.LogLevel.DEBUG?c.DEBUG:l.logLevel===o.LogLevel.SILENT?c.SILENT:c.ERROR}function f(t){switch(t){case c.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case c.ERROR:l.logLevel=o.LogLevel.ERROR;break;case c.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error(\"Firestore (\"+u+\"): Invalid value passed to `setLogLevel`\")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(y);l.debug.apply(l,[\"Firestore (\"+u+\") [\"+t+\"]: \"+e].concat(i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=e.map(y);l.error.apply(l,[\"Firestore (\"+u+\"): \"+t].concat(r))}}function y(t){if(\"string\"==typeof t)return t;var e=v.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function m(t){var e=\"FIRESTORE (\"+u+\") INTERNAL ASSERTION FAILED: \"+t;throw d(e),new Error(e)}function g(t,e){t||m(e)}var v=function(){function t(){}return t.setPlatform=function(e){t.platform&&m(\"Platform already defined\"),t.platform=e},t.getPlatform=function(){return t.platform||m(\"Platform not set\"),t.platform},t}();function b(){return v.getPlatform().emptyByteString}var w={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},_=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name=\"FirebaseError\",r.toString=function(){return r.name+\": [code=\"+r.code+\"]: \"+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t=\"This constructor is private.\";throw e&&(t+=\" \",t+=e),new _(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in g(null!=t&&\"object\"==typeof t,\"isEmpty() expects object parameter.\"),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t){g(t&&\"object\"==typeof t,\"shallowCopy() expects object parameter.\");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function O(t,e,n){if(e.length!==n)throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires \"+W(n,\"argument\")+\", but was called with \"+W(e.length,\"argument\")+\".\")}function N(t,e,n){if(e.length<n)throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires at least \"+W(n,\"argument\")+\", but was called with \"+W(e.length,\"argument\")+\".\")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires between \"+n+\" and \"+r+\" arguments, but was called with \"+W(e.length,\"argument\")+\".\")}function P(t,e,n,r){V(t,e,H(n)+\" argument\",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function D(t,e,n,r){V(t,e,n+\" option\",r)}function M(t,e,n,r){void 0!==r&&D(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(j(u))}var l=j(r);throw new _(w.INVALID_ARGUMENT,\"Invalid value \"+l+\" provided to function \"+t+'() for option \"'+n+'\". Acceptable values: '+o.join(\", \"))}(t,0,n,r,i)}function V(t,e,n,r){if(typeof r!==e||\"object\"===e&&!F(r)){var i=j(r);throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" to be of type \"+e+\", but it was: \"+i)}}function F(t){return\"object\"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function j(t){if(void 0===t)return\"undefined\";if(null===t)return\"null\";if(\"string\"==typeof t)return t.length>20&&(t=t.substring(0,20)+\"...\"),JSON.stringify(t);if(\"number\"==typeof t||\"boolean\"==typeof t)return\"\"+t;if(\"object\"==typeof t){if(t instanceof Array)return\"an array\";var e=function(t){if(t.constructor){var e=/function\\s+([^\\s(]+)\\s*\\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?\"a custom \"+e+\" object\":\"an object\"}return\"function\"==typeof t?\"a function\":m(\"Unknown wrong type: \"+typeof t)}function U(t,e,n){if(void 0===n)throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires a valid \"+H(e)+\" argument, but it was undefined.\")}function B(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new _(w.INVALID_ARGUMENT,\"Unknown option '\"+e+\"' passed to function \"+t+\"(). Available options: \"+n.join(\", \"))})}function q(t,e,n,r){var i=j(r);return new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+H(n)+\" argument to be a \"+e+\", but it was: \"+i)}function H(t){switch(t){case 1:return\"first\";case 2:return\"second\";case 3:return\"third\";default:return t+\"th\"}}function W(t,e){return t+\" \"+e+(1===t?\"\":\"s\")}var G=function(){function t(){}return t.newId=function(){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",e=\"\",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,\"Invalid auto ID: \"+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function z(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Q(){if(\"undefined\"==typeof Uint8Array)throw new _(w.UNIMPLEMENTED,\"Uint8Arrays are not available in this environment.\")}function X(){if(!v.getPlatform().base64Available)throw new _(w.UNIMPLEMENTED,\"Blobs are unavailable in Firestore in this environment.\")}var Y=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){O(\"Blob.fromBase64String\",arguments,1),P(\"Blob.fromBase64String\",\"string\",1,e),X();try{return new t(v.getPlatform().atob(e))}catch(t){throw new _(w.INVALID_ARGUMENT,\"Failed to construct Blob from Base64 string: \"+t)}},t.fromUint8Array=function(e){if(O(\"Blob.fromUint8Array\",arguments,1),Q(),!(e instanceof Uint8Array))throw q(\"Blob.fromUint8Array\",\"Uint8Array\",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(\"\"))},t.prototype.toBase64=function(){return O(\"Blob.toBase64\",arguments,0),X(),v.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O(\"Blob.toUint8Array\",arguments,0),Q();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return\"Blob(base64: \"+this.toBase64()+\")\"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),J=E(Y,\"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.\"),Z=function(){function t(t,e){if(O(\"GeoPoint\",arguments,2),P(\"GeoPoint\",\"number\",1,t),P(\"GeoPoint\",\"number\",2,e),!isFinite(t)||t<-90||t>90)throw new _(w.INVALID_ARGUMENT,\"Latitude must be a number between -90 and 90, but was: \"+t);if(!isFinite(e)||e<-180||e>180)throw new _(w.INVALID_ARGUMENT,\"Longitude must be a number between -180 and 180, but was: \"+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,\"latitude\",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"longitude\",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),$=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _(w.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(e>=1e9)throw new _(w.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(t<-62135596800)throw new _(w.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t);if(t>=253402300800)throw new _(w.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return\"Timestamp(seconds=\"+this.seconds+\", nanoseconds=\"+this.nanoseconds+\")\"},t}(),tt=\"(default)\",et=function(){function t(t,e){this.projectId=t,this.database=e||tt}return Object.defineProperty(t.prototype,\"isDefaultDatabase\",{get:function(){return this.database===tt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),nt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&m(\"offset \"+e+\" out of range \"+t.length),void 0===n?n=t.length-e:n>t.length-e&&m(\"length \"+n+\" out of range \"+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,\"length\",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):\"string\"==typeof e?n.push(e):m(\"Unknown parameter type for Path.child(): \"+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return g(this.length>=(t=void 0===t?1:t),\"Can't call popFirst() with less segments\"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),\"Can't call popLast() on empty path\"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),\"Can't call firstSegment() on empty path\"),this.segments[this.offset]},t.prototype.lastSegment=function(){return g(!this.isEmpty(),\"Can't call lastSegment() on empty path\"),this.segments[this.limit()-1]},t.prototype.get=function(t){return g(t<this.length,\"Index out of range\"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join(\"/\")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf(\"//\")>=0)throw new _(w.INVALID_ARGUMENT,\"Invalid path (\"+t+\"). Paths must not contain // in them.\");return new e(t.split(\"/\").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(nt),it=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return it.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(\"\\\\\",\"\\\\\\\\\").replace(\"`\",\"\\\\`\"),e.isValidIdentifier(t)||(t=\"`\"+t+\"`\"),t}).join(\".\")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&\"__name__\"===this.get(0)},e.keyField=function(){return new e([\"__name__\"])},e.fromServerFormat=function(t){for(var n=[],r=\"\",i=0,o=function(){if(0===r.length)throw new _(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");n.push(r),r=\"\"},a=!1;i<t.length;){var s=t[i];if(\"\\\\\"===s){if(i+1===t.length)throw new _(w.INVALID_ARGUMENT,\"Path has trailing escape character: \"+t);var u=t[i+1];if(\"\\\\\"!==u&&\".\"!==u&&\"`\"!==u)throw new _(w.INVALID_ARGUMENT,\"Path has invalid escape sequence: \"+t);r+=u,i+=2}else\"`\"===s?(a=!a,i++):\".\"!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new _(w.INVALID_ARGUMENT,\"Unterminated ` in path: \"+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(nt),at=function(){function t(e){this.path=e,g(t.isDocumentKey(e),\"Invalid DocumentKey with an odd number of segments: \"+e.toArray().join(\"/\"))}return t.prototype.isEqual=function(t){return null!==t&&0===rt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rt(e.slice()))},t.fromPathString=function(e){return new t(rt.fromString(e))},t.EMPTY=new t(new rt([])),t}(),st=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return\"Document(\"+this.key+\", \"+this.version+\", \"+this.data.toString()+\", {hasLocalMutations: \"+this.hasLocalMutations+\"})\"},t.compareByKey=function(t,e){return at.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):m(\"Trying to compare documents on fields that don't exist\")},t}(),ut=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return\"NoDocument(\"+this.key+\", \"+this.version+\")\"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return at.comparator(t.key,e.key)},t}(),lt=function(){function t(t,e){this.comparator=t,this.root=e||ht.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!0)},t}(),ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,\"getNext() called on iterator when hasNext() is false.\");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ht=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed())throw m(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check();if(t!==this.right.check())throw m(\"Black depths differ\");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();ht.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ht(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ft=function(t){return t[t.NullValue=0]=\"NullValue\",t[t.BooleanValue=1]=\"BooleanValue\",t[t.NumberValue=2]=\"NumberValue\",t[t.TimestampValue=3]=\"TimestampValue\",t[t.StringValue=4]=\"StringValue\",t[t.BlobValue=5]=\"BlobValue\",t[t.RefValue=6]=\"RefValue\",t[t.GeoPointValue=7]=\"GeoPointValue\",t[t.ArrayValue=8]=\"ArrayValue\",t[t.ObjectValue=9]=\"ObjectValue\",t}({}),pt=function(t){return t[t.Default=0]=\"Default\",t[t.Estimate=1]=\"Estimate\",t[t.Previous=2]=\"Previous\",t}({}),dt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case\"estimate\":return new t(pt.Estimate,n);case\"previous\":return new t(pt.Previous,n);case\"none\":case void 0:return new t(pt.Default,n);default:return m(\"fromSnapshotOptions() called with invalid options.\")}},t}(),yt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?\"null\":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,\"Default compareTo should not be used for values of same type.\"),K(this.typeOrder,t.typeOrder)},t}(),mt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ft.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(yt),gt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(yt),vt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(yt);function bt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var wt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&bt(this.internalValue,t.internalValue)},e}(vt),_t=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&bt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(vt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(yt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ct?-1:this.defaultCompareTo(t)},e}(yt),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ft.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===pt.Estimate?new St(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===pt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof St?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return\"<ServerTimestamp localTime=\"+this.localWriteTime.toString()+\">\"},e}(yt),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(yt),It=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ft.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:at.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(yt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(yt),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=K(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),\"Cannot set field for empty path on ObjectValue\"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),\"Cannot delete field for empty path on ObjectValue\"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),\"Can't get field of empty path\");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new lt(K)),e}(yt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ft.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(yt),Nt=Number,xt=Nt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Pt=Nt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Rt=Nt.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Dt(t){return null===t||void 0===t}var Mt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,\"orderBy\",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Ht]:[new qt(t),Ht];else{g(null===t||null!==e&&t.isEqual(e),\"First orderBy should match inequality field.\"),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Ut.ASCENDING)===Ut.ASCENDING?Ht:Wt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Vt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),\"Query must only have one inequality field.\"),g(!at.isDocumentKey(this.path),\"No filtering allowed for document query\");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!at.isDocumentKey(this.path),\"No ordering allowed for document query\"),g(!this.startAt&&!this.endAt,\"Bounds must be set after orderBy\");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+=\"|f:\";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=\",\";t+=\"|ob:\";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=\",\";Dt(this.limit)||(t+=\"|l:\",t+=this.limit),this.startAt&&(t+=\"|lb:\",t+=this.startAt.canonicalId()),this.endAt&&(t+=\"|ub:\",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=\"Query(\"+this.path.canonicalString();return this.filters.length>0&&(t+=\", filters: [\"+this.filters.join(\", \")+\"]\"),Dt(this.limit)||(t+=\", limit: \"+this.limit),this.explicitOrderBy.length>0&&(t+=\", orderBy: [\"+this.explicitOrderBy.join(\", \")+\"]\"),this.startAt&&(t+=\", startAt: \"+this.startAt.canonicalId()),this.endAt&&(t+=\", endAt: \"+this.endAt.canonicalId()),t+\")\"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,\"orderBy used that doesn't compare on key field\"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Dt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Vt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Vt&&t.op===Lt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return at.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return at.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,\"Bound is longer than orderBy\")},t}(),Lt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case\"<\":return t.LESS_THAN;case\"<=\":return t.LESS_THAN_OR_EQUAL;case\"==\":return t.EQUAL;case\">=\":return t.GREATER_THAN_OR_EQUAL;case\">\":return t.GREATER_THAN;case\"array-contains\":return t.ARRAY_CONTAINS;default:return m(\"Unknown relation: \"+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t(\"<\"),t.LESS_THAN_OR_EQUAL=new t(\"<=\"),t.EQUAL=new t(\"==\"),t.GREATER_THAN=new t(\">\"),t.GREATER_THAN_OR_EQUAL=new t(\">=\"),t.ARRAY_CONTAINS=new t(\"array-contains\"),t}(),Vt=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof It,\"Comparing on key, but filter value not a RefValue\"),g(this.op!==Lt.ARRAY_CONTAINS,\"array-contains queries don't make sense on document keys.\");var e=at.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},t.prototype.matchesValue=function(t){var e=this;return this.op===Lt.ARRAY_CONTAINS?t instanceof Ot&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Lt.LESS_THAN:return t<0;case Lt.LESS_THAN_OR_EQUAL:return t<=0;case Lt.EQUAL:return 0===t;case Lt.GREATER_THAN:return t>0;case Lt.GREATER_THAN_OR_EQUAL:return t>=0;default:return m(\"Unknown relation op\"+this.op)}},t.prototype.isInequality=function(){return this.op!==Lt.EQUAL&&this.op!==Lt.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+\" \"+this.op+\" \"+this.value.value()},t}(),Ft=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+\" IS null\"},t.prototype.toString=function(){return this.field.canonicalString()+\" IS null\"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),jt=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return\"number\"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+\" IS NaN\"},t.prototype.toString=function(){return this.field.canonicalString()+\" IS NaN\"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),Ut=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t(\"asc\"),t.DESCENDING=new t(\"desc\"),t}(),Bt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?\"b:\":\"a:\",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,\"Bound has more components than query's orderBy\");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof It,\"Bound has a non-key value where the key path is being used.\"),n=at.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,\"Field should exist since document matched the orderBy already.\"),n=o.compareTo(a)}if(i.dir===Ut.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),qt=function(){function t(t,e){this.field=t,void 0===e&&(e=Ut.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?st.compareByKey(t,e):st.compareByField(this.field,t,e);switch(this.dir){case Ut.ASCENDING:return n;case Ut.DESCENDING:return-1*n;default:return m(\"Unknown direction: \"+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+\" (\"+this.dir+\")\"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Ht=new qt(ot.keyField(),Ut.ASCENDING),Wt=new qt(ot.keyField(),Ut.DESCENDING),Gt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new $(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return\"SnapshotVersion(\"+this.timestamp.toString()+\")\"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new $(0,0)),t}(),Kt=function(t){return t[t.Listen=0]=\"Listen\",t[t.ExistenceFilterMismatch=1]=\"ExistenceFilterMismatch\",t[t.LimboResolution=2]=\"LimboResolution\",t}({}),zt=function(){function t(t,e,n,r,i){void 0===r&&(r=Gt.MIN),void 0===i&&(i=b()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Qt=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return z(this.fields,t.fields)},t}(),Xt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Yt=function(t){return t[t.Set=0]=\"Set\",t[t.Patch=1]=\"Patch\",t[t.Transform=2]=\"Transform\",t[t.Delete=3]=\"Delete\",t}({}),Jt=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify \"exists\" or \"updateTime\" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,\"isNone\",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof st&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof st:null===t||t instanceof ut:(g(this.isNone,\"Precondition should be empty\"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!==(e=this.updateTime)&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Zt=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),\"Can only apply a mutation to a document with the same key\")},t.getPostMutationVersion=function(t){return t instanceof st?t.version:Gt.MIN},t}(),$t=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Yt.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,\"Transform results received by SetMutation.\");var n=Zt.getPostMutationVersion(t);return new st(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Zt.getPostMutationVersion(t);return new st(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Zt),te=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Yt.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,\"Transform results received by PatchMutation.\"),!this.precondition.isValidFor(t))return t;var n=Zt.getPostMutationVersion(t),r=this.patchDocument(t);return new st(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Zt.getPostMutationVersion(t),i=this.patchDocument(t);return new st(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof st?t.data:At.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(Zt),ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Yt.Transform,r.precondition=Jt.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,\"Transform results missing for TransformMutation.\"),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=this.transformObject(n.data,r);return new st(this.key,n.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new st(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&z(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof st,\"Unknown MaybeDocument type \"+t);var e=t;return g(e.key.isEqual(this.key),\"Can only transform a document with the same key\"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,\"server transform result count (\"+e.length+\") should match field transform count (\"+this.fieldTransforms.length+\")\");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof st&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof st&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,\"TransformResults length mismatch.\");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Zt),ne=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Yt.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,\"Transform results received by DeleteMutation.\"),new ut(this.key,Gt.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),\"Can only apply mutation to document with same key\"),new ut(this.key,Gt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Zt),re=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ie=function(t){return t[t.OK=0]=\"OK\",t[t.CANCELLED=1]=\"CANCELLED\",t[t.UNKNOWN=2]=\"UNKNOWN\",t[t.INVALID_ARGUMENT=3]=\"INVALID_ARGUMENT\",t[t.DEADLINE_EXCEEDED=4]=\"DEADLINE_EXCEEDED\",t[t.NOT_FOUND=5]=\"NOT_FOUND\",t[t.ALREADY_EXISTS=6]=\"ALREADY_EXISTS\",t[t.PERMISSION_DENIED=7]=\"PERMISSION_DENIED\",t[t.UNAUTHENTICATED=16]=\"UNAUTHENTICATED\",t[t.RESOURCE_EXHAUSTED=8]=\"RESOURCE_EXHAUSTED\",t[t.FAILED_PRECONDITION=9]=\"FAILED_PRECONDITION\",t[t.ABORTED=10]=\"ABORTED\",t[t.OUT_OF_RANGE=11]=\"OUT_OF_RANGE\",t[t.UNIMPLEMENTED=12]=\"UNIMPLEMENTED\",t[t.INTERNAL=13]=\"INTERNAL\",t[t.UNAVAILABLE=14]=\"UNAVAILABLE\",t[t.DATA_LOSS=15]=\"DATA_LOSS\",t}({});function oe(t){switch(t){case w.OK:return m(\"Treated status OK as error\");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return m(\"Unknown status code: \"+t)}}function ae(t){if(void 0===t)return d(\"GRPC error has no .code\"),w.UNKNOWN;switch(t){case ie.OK:return w.OK;case ie.CANCELLED:return w.CANCELLED;case ie.UNKNOWN:return w.UNKNOWN;case ie.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ie.INTERNAL:return w.INTERNAL;case ie.UNAVAILABLE:return w.UNAVAILABLE;case ie.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ie.NOT_FOUND:return w.NOT_FOUND;case ie.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ie.ABORTED:return w.ABORTED;case ie.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ie.DATA_LOSS:return w.DATA_LOSS;default:return m(\"Unknown status code: \"+t)}}var se=function(){function t(t){this.comparator=t,this.data=new lt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),\"SortedSet(\"+t.toString()+\")\"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ue=new lt(at.comparator);function le(){return ue}var ce=new lt(at.comparator);function he(){return ce}var fe=new lt(at.comparator);function pe(){return fe}var de=new se(at.comparator);function ye(){return de}var me=function(){function t(t,e,n,r){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n,this.limboDocuments=r}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new be,snapshotVersion:Gt.MIN,currentStatusUpdate:ge.MarkNotCurrent,resumeToken:b()}},t.prototype.synthesizeDeleteForLimboTargetChange=function(t,e){t.currentStatusUpdate!==ge.MarkCurrent||this.documentUpdates.get(e)||(this.documentUpdates=this.documentUpdates.insert(e,new ut(e,this.snapshotVersion)),this.limboDocuments=this.limboDocuments.add(e))},t}(),ge=function(t){return t[t.None=0]=\"None\",t[t.MarkNotCurrent=1]=\"MarkNotCurrent\",t[t.MarkCurrent=2]=\"MarkCurrent\",t}({}),ve=ye(),be=function(){function t(){this.docs=ve}return Object.defineProperty(t.prototype,\"documents\",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.isEqual=function(t){return null!==t&&this.docs.isEqual(t.docs)},t.prototype.filterUpdates=function(t){},t}(),we=function(){function t(){this.addedDocuments=ve,this.removedDocuments=ve}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.isEqual=function(t){return null!==t&&this.addedDocuments.isEqual(t.addedDocuments)&&this.removedDocuments.isEqual(t.removedDocuments)},t.prototype.filterUpdates=function(t){var e=this.addedDocuments;this.addedDocuments.forEach(function(n){t.has(n)&&(e=e.delete(n))}),this.addedDocuments=e},t}(),_e=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Ee=function(t,e){this.targetId=t,this.existenceFilter=e},Se=function(t){return t[t.NoChange=0]=\"NoChange\",t[t.Added=1]=\"Added\",t[t.Removed=2]=\"Removed\",t[t.Current=3]=\"Current\",t[t.Reset=4]=\"Reset\",t}({}),Ce=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Te=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=le(),this.frozen=!1,this.limboDocuments=ye(),this.pendingTargetResponses=A(n)}return t.prototype.add=function(t){g(!this.frozen,\"Trying to modify frozen WatchChangeAggregator.\"),t instanceof _e?this.addDocumentChange(t):t instanceof Ce?this.addTargetChange(t):t instanceof Ee?this.addExistenceFilterChange(t):m(\"Unknown watch change: \"+t)},t.prototype.addChanges=function(t){var e=this;g(!this.frozen,\"Trying to modify frozen WatchChangeAggregator.\"),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return T(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new me(this.snapshotVersion,e,this.documentUpdates,this.limboDocuments)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:ge.None,snapshotVersion:this.snapshotVersion,mapping:new we,resumeToken:b()},this.targetChanges[t]=e),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.listenTargets[t];return e&&!S(this.pendingTargetResponses,t)?e:null},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.updateLimboDocuments=function(t,e,n){return!!n&&(this.documentUpdates.get(t)?e.purpose===Kt.LimboResolution||(this.limboDocuments=this.limboDocuments.delete(t),!1):e.purpose===Kt.LimboResolution&&(this.limboDocuments=this.limboDocuments.add(t),!0))},t.prototype.addDocumentChange=function(t){for(var e=!1,n=!0,r=0,i=t.updatedTargetIds;r<i.length;r++)if(l=this.queryDataForActiveTarget(u=i[r])){var o=this.ensureTargetChange(u);n=this.updateLimboDocuments(t.key,l,n),o.mapping.add(t.key),e=!0}for(var a=0,s=t.removedTargetIds;a<s.length;a++){var u,l;(l=this.queryDataForActiveTarget(u=s[a]))&&(o=this.ensureTargetChange(u),n=this.updateLimboDocuments(t.key,l,n),o.mapping.delete(t.key),e=!0)}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Se.NoChange:e.isActiveTarget(n)&&Ie(r,t.resumeToken);break;case Se.Added:e.recordTargetResponse(n),S(e.pendingTargetResponses,n)||(r.mapping=new we,r.currentStatusUpdate=ge.None,delete e.existenceFilters[n]),Ie(r,t.resumeToken);break;case Se.Removed:e.recordTargetResponse(n),g(!t.cause,\"WatchChangeAggregator does not handle errored targets\");break;case Se.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=ge.MarkCurrent,Ie(r,t.resumeToken));break;case Se.Reset:e.isActiveTarget(n)&&(r.mapping=new be,Ie(r,t.resumeToken));break;default:m(\"Unknown target watch change state: \"+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();function Ie(t,e){e.length>0&&(t.resumeToken=e)}var ke=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Ct(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Ae=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ne(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&z(e.elements,this.elements)},t}(),Oe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ne(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&z(e.elements,this.elements)},t}();function Ne(t){return t instanceof Ot?t.internalValue.slice():[]}var xe,Pe,Re=((xe={})[Ut.ASCENDING.name]=\"ASCENDING\",xe[Ut.DESCENDING.name]=\"DESCENDING\",xe),De=((Pe={})[Lt.LESS_THAN.name]=\"LESS_THAN\",Pe[Lt.LESS_THAN_OR_EQUAL.name]=\"LESS_THAN_OR_EQUAL\",Pe[Lt.GREATER_THAN.name]=\"GREATER_THAN\",Pe[Lt.GREATER_THAN_OR_EQUAL.name]=\"GREATER_THAN_OR_EQUAL\",Pe[Lt.EQUAL.name]=\"EQUAL\",Pe[Lt.ARRAY_CONTAINS.name]=\"ARRAY_CONTAINS\",Pe),Me=new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);function Le(t,e){g(!Dt(t),e+\" is missing\")}function Ve(t){return\"number\"==typeof t?t:\"string\"==typeof t?Number(t):m(\"can't parse \"+t)}var Fe=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?\"\":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:ae(t.code);return new _(e,t.message||\"\")},t.prototype.toInt32Value=function(t){return Dt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Dt(e=\"object\"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if(\"string\"==typeof t)return this.fromIso8601String(t);g(!!t,\"Cannot deserialize null or undefined timestamp.\");var e=Ve(t.seconds||\"0\");return new $(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=Me.exec(t);if(g(!!n,\"invalid timestamp: \"+t),n[1]){var r=n[1];r=(r+\"000000000\").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new $(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return\"string\"==typeof t?(g(this.options.useProto3Json,\"Expected bytes to be passed in as Uint8Array, but got a string instead.\"),Y.fromBase64String(t)):(g(!this.options.useProto3Json,\"Expected bytes to be passed in as string, but got something else instead.\"),Y.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,\"Trying to deserialize version that isn't set\"),Gt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child(\"documents\").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=rt.fromString(t);return g(this.isValidResourceName(e),\"Tried to deserialize invalid key \"+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,\"Tried to deserialize key from different project: \"+e.get(1)+\" vs \"+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,\"Tried to deserialize key from different database: \"+e.get(3)+\" vs \"+this.databaseId.database),new at(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?rt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,\"encodedDatabaseId\",{get:function(){return new rt([\"projects\",this.databaseId.projectId,\"databases\",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new rt([\"projects\",t.projectId,\"databases\",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&\"documents\"===t.get(4),\"tried to deserialize invalid key \"+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&\"projects\"===t.get(0)&&\"databases\"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof mt)return{nullValue:\"NULL_VALUE\"};if(t instanceof gt)return{booleanValue:t.value()};if(t instanceof wt)return{integerValue:\"\"+t.value()};if(t instanceof _t){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:\"NaN\"};if(e===1/0)return{doubleValue:\"Infinity\"};if(e===-1/0)return{doubleValue:\"-Infinity\"}}return{doubleValue:t.value()}}return t instanceof Et?{stringValue:t.value()}:t instanceof At?{mapValue:this.toMapValue(t)}:t instanceof Ot?{arrayValue:this.toArrayValue(t)}:t instanceof St?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof kt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Tt?{bytesValue:this.toBytes(t.value())}:t instanceof It?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:m(\"Unknown FieldValue \"+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(je(t,n,\"nullValue\"))return mt.INSTANCE;if(je(t,n,\"booleanValue\"))return gt.of(t.booleanValue);if(je(t,n,\"integerValue\"))return new wt(Ve(t.integerValue));if(je(t,n,\"doubleValue\")){if(this.options.useProto3Json){if(\"NaN\"===t.doubleValue)return _t.NAN;if(\"Infinity\"===t.doubleValue)return _t.POSITIVE_INFINITY;if(\"-Infinity\"===t.doubleValue)return _t.NEGATIVE_INFINITY}return new _t(t.doubleValue)}if(je(t,n,\"stringValue\"))return new Et(t.stringValue);if(je(t,n,\"mapValue\"))return this.fromFields(t.mapValue.fields||{});if(je(t,n,\"arrayValue\"))return Le(t.arrayValue,\"arrayValue\"),new Ot((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(je(t,n,\"timestampValue\"))return Le(t.timestampValue,\"timestampValue\"),new St(this.fromTimestamp(t.timestampValue));if(je(t,n,\"geoPointValue\"))return Le(t.geoPointValue,\"geoPointValue\"),new kt(new Z(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(je(t,n,\"bytesValue\")){Le(t.bytesValue,\"bytesValue\");var r=this.fromBlob(t.bytesValue);return new Tt(r)}if(je(t,n,\"referenceValue\")){Le(t.referenceValue,\"referenceValue\");var i=this.fromResourceName(t.referenceValue),o=new et(i.get(1),i.get(3)),a=new at(this.extractLocalPathFromResourceName(i));return new It(o,a)}return m(\"Unknown Value proto \"+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,\"Can't serialize documents with mutations.\"),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new st(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=At.EMPTY;return I(t,function(t,r){n=n.set(new ot([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,\"Tried to deserialize a found document from a missing document.\"),Le(t.found.name,\"doc.found.name\"),Le(t.found.updateTime,\"doc.found.updateTime\");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new st(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){g(!!t.missing,\"Tried to deserialize a missing document from a found document.\"),g(!!t.readTime,\"Tried to deserialize a missing document without a read time.\");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ut(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return je(t,e,\"found\")?this.fromFound(t):je(t,e,\"missing\")?this.fromMissing(t):m(\"invalid batch get response: \"+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Se.Added:return\"ADD\";case Se.Current:return\"CURRENT\";case Se.NoChange:return\"NO_CHANGE\";case Se.Removed:return\"REMOVE\";case Se.Reset:return\"RESET\";default:return m(\"Unknown WatchTargetChangeState: \"+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ee)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof _e){var e;if(t.newDoc instanceof st)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ut)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ce){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return ie.OK;switch(t){case w.OK:return ie.OK;case w.CANCELLED:return ie.CANCELLED;case w.UNKNOWN:return ie.UNKNOWN;case w.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case w.INTERNAL:return ie.INTERNAL;case w.UNAVAILABLE:return ie.UNAVAILABLE;case w.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case w.NOT_FOUND:return ie.NOT_FOUND;case w.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case w.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case w.ABORTED:return ie.ABORTED;case w.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case w.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case w.DATA_LOSS:return ie.DATA_LOSS;default:return m(\"Unknown status code: \"+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return m(\"Unrecognized watch change: \"+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(je(t,n,\"targetChange\")){Le(t.targetChange,\"targetChange\");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||\"NO_CHANGE\"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ce(r,i,o,s||null)}else if(je(t,n,\"documentChange\")){Le(t.documentChange,\"documentChange\"),Le(t.documentChange.document,\"documentChange.name\"),Le(t.documentChange.document.name,\"documentChange.document.name\"),Le(t.documentChange.document.updateTime,\"documentChange.document.updateTime\");var u=t.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new st(l,c,h,{hasLocalMutations:!1});e=new _e(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(je(t,n,\"documentDelete\")){Le(t.documentDelete,\"documentDelete\"),Le(t.documentDelete.document,\"documentDelete.document\");var p=t.documentDelete;l=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):Gt.forDeletedDoc(),f=new ut(l,c),e=new _e([],p.removedTargetIds||[],f.key,f)}else if(je(t,n,\"documentRemove\")){Le(t.documentRemove,\"documentRemove\"),Le(t.documentRemove.document,\"documentRemove\");var d=t.documentRemove;l=this.fromName(d.document),e=new _e([],d.removedTargetIds||[],l,null)}else{if(!je(t,n,\"filter\"))return m(\"Unknown change type \"+JSON.stringify(t));Le(t.filter,\"filter\"),Le(t.filter.targetId,\"filter.targetId\");var y=t.filter,g=new re(y.count||0);e=new Ee(y.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return\"NO_CHANGE\"===t?Se.NoChange:\"ADD\"===t?Se.Added:\"REMOVE\"===t?Se.Removed:\"CURRENT\"===t?Se.Current:\"RESET\"===t?Se.Reset:m(\"Got unexpected TargetChange.state: \"+t)},t.prototype.versionFromListenResponse=function(t){if(!je(t,t.response_type,\"targetChange\"))return Gt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Gt.MIN:e.readTime?this.fromVersion(e.readTime):Gt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof $t)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ne)e={delete:this.toName(t.key)};else if(t instanceof te)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ee))return m(\"Unknown mutation type \"+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Jt.NONE;if(t.update){Le(t.update.name,\"name\");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new te(r,i,o,n)}return new $t(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new ne(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition \"exists == true\"'),new ee(r,a)}return m(\"unknown mutation proto: \"+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,\"Can't serialize an empty precondition\"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m(\"Unknown precondition\")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Jt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Jt.exists(t.exists):Jt.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;return n instanceof ke?{fieldPath:t.field.canonicalString(),setToServerValue:\"REQUEST_TIME\"}:n instanceof Ae?{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}}:n instanceof Oe?{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}}:void m(\"Unknown transform: \"+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;je(t,n,\"setToServerValue\")?(g(\"REQUEST_TIME\"===t.setToServerValue,\"Unknown server value transform proto: \"+JSON.stringify(t)),r=ke.instance):je(t,n,\"appendMissingElements\")?r=new Ae((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)})):je(t,n,\"removeAllFromArray\")?r=new Oe((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)})):m(\"Unknown transform proto: \"+JSON.stringify(t));var i=ot.fromServerFormat(t.fieldPath);return new Xt(i,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return g(1===e,\"DocumentsTarget contained other than 1 document: \"+e),Mt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(rt.EMPTY_PATH);else{var n=t.path;g(n.length%2!=0,\"Document queries with filters are not supported.\"),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(g(1===r,\"StructuredQuery.from with more than one collection is not supported.\"),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new Mt(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{\"goog-listen-tags\":e}},t.prototype.toLabel=function(t){switch(t){case Kt.Listen:return null;case Kt.ExistenceFilterMismatch:return\"existence-filter-mismatch\";case Kt.LimboResolution:return\"limbo-document\";default:return m(\"Unrecognized query purpose: \"+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Vt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:\"AND\",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):m(\"Unknown filter: \"+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Bt(r,n)},t.prototype.toDirection=function(t){return Re[t.name]},t.prototype.fromDirection=function(t){switch(t){case\"ASCENDING\":return Ut.ASCENDING;case\"DESCENDING\":return Ut.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return De[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case\"EQUAL\":return Lt.EQUAL;case\"GREATER_THAN\":return Lt.GREATER_THAN;case\"GREATER_THAN_OR_EQUAL\":return Lt.GREATER_THAN_OR_EQUAL;case\"LESS_THAN\":return Lt.LESS_THAN;case\"LESS_THAN_OR_EQUAL\":return Lt.LESS_THAN_OR_EQUAL;case\"ARRAY_CONTAINS\":return Lt.ARRAY_CONTAINS;case\"OPERATOR_UNSPECIFIED\":return m(\"Unspecified relation\");default:return m(\"Unknown relation\")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ot.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new qt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Vt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:m(\"Unrecognized filter: \"+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Vt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof jt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:\"IS_NAN\"}}:t instanceof Ft?{unaryFilter:{field:this.toFieldPathReference(t.field),op:\"IS_NULL\"}}:m(\"Unrecognized filter: \"+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case\"IS_NAN\":var e=this.fromFieldPathReference(t.unaryFilter.field);return new jt(e);case\"IS_NULL\":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ft(n);case\"OPERATOR_UNSPECIFIED\":return m(\"Unspecified filter\");default:return m(\"Unknown filter\")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ot.fromServerFormat(t)});return new Qt(e)},t}();function je(t,e,n){return e===n||!e&&n in t}var Ue=Error.captureStackTrace,Be=function(){return function(t,e){if(this.code=t,this.message=e,Ue)Ue(this,qe.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=\"FirebaseError\",Object.defineProperty(this,\"stack\",{get:function(){return t.stack}})}}}();Be.prototype=Object.create(Error.prototype),Be.prototype.constructor=Be,Be.prototype.name=\"FirebaseError\";var qe=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\\{\\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+\"/\"+t;n=void 0===r?\"Error\":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():\"<\"+n+\"?>\"});var o=new Be(i,n=this.serviceName+\": \"+n+\" (\"+i+\").\");for(var a in e)e.hasOwnProperty(a)&&\"_\"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),He=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,\"Called onOpen on stream twice!\"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,\"Called onClose on stream twice!\"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,\"Called onMessage on stream twice!\"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,\"Cannot call onOpen because no callback was set\"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,\"Cannot call onClose because no callback was set\"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,\"Cannot call onMessage because no callback was set\"),this.wrappedOnMessage(t)},t}(),We=\"Connection\",Ge={BatchGetDocuments:\"batchGet\",Commit:\"commit\"},Ke=\"gl-js/ fire/\"+u,ze=function(){function t(t){this.databaseId=t.databaseId,this.pool=new s.XhrIoPool,this.baseUrl=(t.ssl?\"https\":\"http\")+\"://\"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t[\"X-Goog-Api-Client\"]=Ke},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){r.pool.getObject(function(u){u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();p(We,\"XHR received:\",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:p(We,'RPC \"'+t+'\" timed out'),a(new _(w.DEADLINE_EXCEEDED,\"Request time out\"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();p(We,'RPC \"'+t+'\" failed with status:',n,\"response text:\",u.getResponseText()),n>0?a(new _(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),\"Server responded with status \"+u.getStatusText())):(p(We,'RPC \"'+t+'\" failed'),a(new _(w.UNAVAILABLE,\"Connection failed.\")));break;default:m('RPC \"'+t+'\" failed with unanticipated webchannel error '+u.getLastErrorCode()+\": \"+u.getLastError()+\", giving up.\")}}finally{p(We,'RPC \"'+t+'\" completed.'),r.pool.releaseObject(u)}});var l=JSON.stringify(e);p(We,\"XHR sending: \",i+\" \"+l);var c={\"Content-Type\":\"text/plain\"};r.modifyHeadersForRequest(c,n),u.send(i,\"POST\",l,c,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,\"/\",\"google.firestore.v1beta1.Firestore\",\"/\",t,\"/channel\"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:\"gsessionid\",initMessageHeaders:{},messageUrlParams:{database:\"projects/\"+this.databaseId.projectId+\"/databases/\"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),\"object\"==typeof navigator&&\"ReactNative\"===navigator.product||(i.httpHeadersOverwriteParam=\"$httpHeaders\");var o=n.join(\"\");p(We,\"Creating WebChannel: \"+o+\" \"+i);var a=r.createWebChannel(o,i),u=!1,l=!1,c=new He({sendFn:function(t){l?p(We,\"Not sending because WebChannel is closed:\",t):(u||(p(We,\"Opening WebChannel transport.\"),a.open(),u=!0),p(We,\"WebChannel sending:\",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s.WebChannel.EventType.OPEN,function(){l||p(We,\"WebChannel transport opened.\")}),h(s.WebChannel.EventType.CLOSE,function(){l||(l=!0,p(We,\"WebChannel transport closed\"),c.callOnClose())}),h(s.WebChannel.EventType.ERROR,function(t){l||(l=!0,p(We,\"WebChannel transport errored:\",t),c.callOnClose(new _(w.UNAVAILABLE,\"The operation could not be completed\")))}),h(s.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,\"Got a webchannel message without data.\");var n=e.error||e[0]&&e[0].error;if(n){p(We,\"WebChannel received error:\",n);var r=n.status,i=function(t){var e=ie[r];if(void 0!==e)return ae(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o=\"Unknown error status: \"+r+\" with message \"+n.message),l=!0,c.callOnClose(new _(i,o)),a.close()}else p(We,\"WebChannel received:\",e),c.callOnMessage(e)}}),setTimeout(function(){c.callOnOpen()},0),c},t.prototype.makeUrl=function(t){var e=Ge[t];g(void 0!==e,\"Unknown REST mapping for: \"+t);var n=[this.baseUrl,\"/\",\"v1beta1\"];return n.push(\"/projects/\"),n.push(this.databaseId.projectId),n.push(\"/databases/\"),n.push(this.databaseId.database),n.push(\"/documents\"),n.push(\":\"),n.push(e),n.join(\"\")},t}();v.setPlatform(new(function(){function t(){this.emptyByteString=\"\",this.base64Available=\"undefined\"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new ze(t))},t.prototype.newSerializer=function(t){return new Fe(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var Qe=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new _(w.INVALID_ARGUMENT,\"Function FieldPath() requires its fieldNames argument to be an array with at least \"+W(1,\"element\")+\".\")}();for(var n=0;n<t.length;++n)if(P(\"FieldPath\",\"string\",n,t[n]),0===t[n].length)throw new _(w.INVALID_ARGUMENT,\"Invalid field name at argument $(i + 1). Field names must not be empty.\");this._internalPath=new ot(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q(\"isEqual\",\"FieldPath\",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ot.keyField().canonicalString()),t}(),Xe=new RegExp(\"[~\\\\*/\\\\[\\\\]]\"),Ye=function(t){return t[t.Unknown=0]=\"Unknown\",t[t.Online=1]=\"Online\",t[t.Offline=2]=\"Offline\",t}({}),Je=function(t){return t[t.Added=0]=\"Added\",t[t.Removed=1]=\"Removed\",t[t.Modified=2]=\"Modified\",t[t.Metadata=3]=\"Metadata\",t}({}),Ze=function(t){return t[t.Local=0]=\"Local\",t[t.Synced=1]=\"Synced\",t}({}),$e=function(){function t(){this.changeMap=new lt(at.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Je.Added&&n.type===Je.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Je.Metadata&&n.type!==Je.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Je.Modified&&n.type===Je.Modified?this.changeMap=this.changeMap.insert(e,{type:Je.Modified,doc:t.doc}):t.type===Je.Modified&&n.type===Je.Added?this.changeMap=this.changeMap.insert(e,{type:Je.Added,doc:t.doc}):t.type===Je.Removed&&n.type===Je.Added?this.changeMap=this.changeMap.remove(e):t.type===Je.Removed&&n.type===Je.Modified?this.changeMap=this.changeMap.insert(e,{type:Je.Removed,doc:n.doc}):t.type===Je.Added&&n.type===Je.Removed?this.changeMap=this.changeMap.insert(e,{type:Je.Modified,doc:t.doc}):m(\"unsupported combination of changes: \"+JSON.stringify(t)+\" after \"+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),tn=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=i,this.hasPendingWrites=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),en=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||at.comparator(e.key,n.key)}:function(t,e){return at.comparator(t.key,e.key)},this.keyedMap=he(),this.sortedSet=new lt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?\"DocumentSet ()\":\"DocumentSet (\\n  \"+t.join(\"  \\n\")+\"\\n)\"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),nn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return k(this.inner)},t}(),rn=function(){function t(t){this.syncEngine=t,this.queries=new nn(function(t){return t.canonicalId()}),this.onlineState=Ye.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),on=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Ye.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,\"We got a new snapshot with no changes?\"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Je.Metadata&&e.push(i)}t=new tn(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return g(!this.raisedInitialEvent,\"Determining whether to raise first event but already had first event\"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Ye.Offline?(g(t.fromCache,\"Waiting for sync, but snapshot is not from cache\"),!1):!t.docs.isEmpty()||e===Ye.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(e){g(!this.raisedInitialEvent,\"Trying to raise initial events for second time\"),e=new tn(e.query,e.docs,en.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0,!1),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:Je.Added,doc:t})}),e},t}(),an=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&m(\"Called next() or catch() twice for PersistencePromise\"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e.length;if(0===n)return t.resolve();var r=0;return new t(function(t,i){for(var o=0,a=e;o<a.length;o++)a[o].next(function(){++r===n&&t()},function(t){return i(t)})})},t.map=function(e){for(var n=[],r=[],i=function(t){r[t]=e[t].next(function(e){n[t]=e})},o=0;o<e.length;++o)i(o);return t.waitFor(r).next(function(){return n})},t}(),sn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=ye()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=ye();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),an.resolve()}))}),this.potentialGarbage=ye(),an.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=an.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?an.resolve(!0):e()})},n)},t}(),un=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=ye(),r=ye(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case Je.Added:n=n.add(a.doc.key);break;case Je.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),ln=function(){function t(){this.refsByKey=new se(cn.compareByKey),this.refsByTarget=new se(cn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new cn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new cn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=at.EMPTY,r=new cn(n,t),i=new cn(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=at.EMPTY,n=new cn(e,t),r=new cn(e,t+1),i=ye();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new cn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return an.resolve(null!==r&&e.isEqual(r.key))},t}(),cn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return at.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||at.comparator(t.key,e.key)},t}(),hn=1,fn=function(t){return t[t.LocalStore=0]=\"LocalStore\",t[t.SyncEngine=1]=\"SyncEngine\",t}({}),pn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>hn<<hn;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<hn)}return t.prototype.next=function(){return this.previousId+=1<<hn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(fn.LocalStore,e)},t.forSyncEngine=function(){return new t(fn.SyncEngine)},t}(),dn=function(t){this.key=t},yn=function(t){this.key=t},mn=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=ye(),this.mutatedKeys=ye(),this.documentSet=new en(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,\"syncedDocuments\",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new $e,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),c=e instanceof st?e:null;if(c&&(g(t.isEqual(c.key),\"Mismatching keys found in document changes: \"+t+\" != \"+c.key),c=n.query.matches(c)?c:null),c?(a=a.add(c),o=c.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),l&&c){var h=l.data.isEqual(c.data);h&&l.hasLocalMutations===c.hasLocalMutations||(r.track(h?{type:Je.Metadata,doc:c}:{type:Je.Modified,doc:c}),u&&n.query.docComparator(c,u)>0&&(s=!0))}else!l&&c?r.track({type:Je.Added,doc:c}):l&&!c&&(r.track({type:Je.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:Je.Removed,doc:l})}return g(!s||!e,\"View was refilled using docs that themselves needed refilling.\"),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;g(!t.needsRefill,\"Cannot apply changes that need a refill\");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Je.Added:return 1;case Je.Modified:case Je.Metadata:return 2;case Je.Removed:return 0;default:return m(\"Unknown ChangeType: \"+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var o=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?Ze.Synced:Ze.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:new tn(this.query,t.documentSet,r,i,a===Ze.Local,!t.mutatedKeys.isEmpty(),s,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Ye.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new $e,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){if(t){var e=t.mapping;switch(e instanceof be?this._syncedDocuments=e.documents:e instanceof we&&(this._syncedDocuments=e.applyToKeySet(this._syncedDocuments)),t.currentStatusUpdate){case ge.MarkCurrent:this.current=!0;break;case ge.MarkNotCurrent:this.current=!1;break;case ge.None:break;default:m(\"Unknown current status update: \"+t.currentStatusUpdate)}}},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=ye(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new yn(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new dn(t))}),n},t}(),gn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new nn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new lt(at.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new ln,this.limboCollector=new sn,this.mutationUserCallbacks={},this.targetIdGenerator=pn.forSyncEngine()}return t.prototype.subscribe=function(t,e){g(null!==t&&null!==e,\"View and error handlers cannot be null\"),g(null===this.viewHandler&&null===this.errorHandler,\"SyncEngine already has a subscriber.\"),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed(\"listen()\"),g(!this.queryViewsByQuery.has(t),\"We already listen to the query: \"+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new mn(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);g(0===s.limboChanges.length,\"View returned limbo docs before target ack from the server.\"),g(!!s.snapshot,\"applyChanges for new view should always return a snapshot\");var u=new function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed(\"unlisten()\");var n=this.queryViewsByQuery.get(t);return g(!!n,\"Trying to unlisten on query not found:\"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed(\"write()\"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,\"Got negative number of retries for transaction.\");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Dt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error(\"Transaction callback must return a Promise\"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed(\"applyRemoteEvent()\"),T(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];if(i)t.synthesizeDeleteForLimboTargetChange(r,i);else{var o=e.queryViewsByTarget[n];g(!!o,\"Missing QueryView for non-limbo query: \"+n),r.mapping.filterUpdates(o.view.syncedDocuments)}}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,\"OnlineState should not affect limbo documents.\"),i.snapshot&&e.push(i.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed(\"rejectListens()\");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new lt(at.comparator);i=i.insert(r,new ut(r,Gt.forDeletedDoc()));var o=ye().add(r),a=new me(Gt.MIN,{},i,o);return this.applyRemoteEvent(a)}var s=this.queryViewsByTarget[t];return g(!!s,\"Unknown targetId: \"+t),this.localStore.releaseQuery(s.query).then(function(){return n.removeAndCleanupQuery(s).then(function(){n.errorHandler(s.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed(\"applySuccessfulWrite()\"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed(\"rejectFailedWrite()\"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new lt(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),\"Mutation callbacks processed out-of-order?\"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof dn?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof yn?(p(\"SyncEngine\",\"Document no longer in limbo: \"+i.key),this.limboDocumentRefs.removeReference(i.key,t)):m(\"Unknown limbo change: \"+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p(\"SyncEngine\",\"New document in limbo: \"+e);var n=this.targetIdGenerator.next(),r=Mt.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new zt(r,n,Kt.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=un.fromSnapshot(o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){g(null!==this.viewHandler&&null!==this.errorHandler,\"Trying to call \"+t+\" before calling subscribe().\")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),vn=-1,bn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),\"applyToRemoteDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,\"Mismatch between mutations length\\n      (\"+this.mutations.length+\") and mutation results length\\n      (\"+r.length+\").\");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),\"applyToLocalDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=ye(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&z(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),wn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,\"Mutations sent \"+e.mutations.length+\" must equal results received \"+r.length);for(var o=pe(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),_n=\"\\x01\",En=\"\\x01\",Sn=\"\\x10\",Cn=\"\\x11\";function Tn(t){for(var e=\"\",n=0;n<t.length;n++)e.length>0&&(e=kn(e)),e=In(t.get(n),e);return kn(e)}function In(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case\"\\0\":n+=_n+Sn;break;case _n:n+=_n+Cn;break;default:n+=o}}return n}function kn(t){return t+_n+En}function An(t){var e=t.length;if(g(e>=2,\"Invalid path \"+t),2===e)return g(t.charAt(0)===_n&&t.charAt(1)===En,\"Non-empty path \"+t+\" had length 2\"),rt.EMPTY_PATH;for(var n=e-2,r=[],i=\"\",o=0;o<e;){var a=t.indexOf(_n,o);switch((a<0||a>n)&&m('Invalid encoded resource path: \"'+t+'\"'),t.charAt(a+1)){case En:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=\"\"),r.push(u);break;case Sn:i+=t.substring(o,a),i+=\"\\0\";break;case Cn:i+=t.substring(o,a+1);break;default:m('Invalid encoded resource path: \"'+t+'\"')}o=a+2}return new rt(r)}function On(t,e,n,r){g(n<r&&n>=0&&r<=2,\"Unexpected schema upgrade from v${fromVersion} to v{toVersion}.\"),n<1&&r>=1&&(function(t){t.createObjectStore(xn.store)}(t),function(t){t.createObjectStore(Pn.store,{keyPath:Pn.keyPath}),t.createObjectStore(Rn.store,{keyPath:Rn.keyPath}),t.createObjectStore(Dn.store)}(t),function(t){t.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.documentTargetsIndex,Vn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.queryTargetsIndexName,Ln.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fn.store)}(t),function(t){t.createObjectStore(Mn.store)}(t));var i=an.resolve();return n<2&&r>=2&&(i=function(t){var e=t.store(Fn.store);return e.get(Fn.key).next(function(t){return null!=t?an.resolve(t):(t=new Fn(0,0,Gt.MIN.toTimestamp(),0),e.put(Fn.key,t).next(function(){return t}))})}(e).next(function(t){return function(t,e){var n=t.store(Fn.store);return t.store(Ln.store).count().next(function(t){return e.targetCount=t,n.put(Fn.key,e)})}(e,t)})),i}var Nn=function(t,e){this.seconds=t,this.nanoseconds=e},xn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store=\"owner\",t}(),Pn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store=\"mutationQueues\",t.keyPath=\"userId\",t}(),Rn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store=\"mutations\",t.keyPath=[\"userId\",\"batchId\"],t}(),Dn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tn(e)]},t.key=function(t,e,n){return[t,Tn(e),n]},t.store=\"documentMutations\",t.PLACEHOLDER=new t,t}(),Mn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store=\"remoteDocuments\",t}(),Ln=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store=\"targets\",t.keyPath=\"targetId\",t.queryTargetsIndexName=\"queryTargetsIndex\",t.queryTargetsKeyPath=[\"canonicalId\",\"targetId\"],t}(),Vn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store=\"targetDocuments\",t.keyPath=[\"targetId\",\"path\"],t.documentTargetsIndex=\"documentTargetsIndex\",t.documentTargetsKeyPath=[\"path\",\"targetId\"],t}(),Fn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key=\"targetGlobalKey\",t.store=\"targetGlobal\",t}(),jn=[Pn.store,Rn.store,Dn.store,Mn.store,Ln.store,xn.store,Fn.store,Vn.store],Un=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Bn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),\"IndexedDB not supported in current environment.\"),p(\"SimpleDb\",\"Opening database:\",e),new an(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){p(\"SimpleDb\",'Database \"'+e+'\" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Hn(a.transaction);r(n,i,t.oldVersion,2).next(function(){p(\"SimpleDb\",\"Database upgrade to version 2 complete\")})}}).toPromise()},t.delete=function(t){return p(\"SimpleDb\",\"Removing database:\",t),Gn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if(\"undefined\"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return\"YES\"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf(\"MSIE \")>0||t.indexOf(\"Trident/\")>0||t.indexOf(\"Edge/\")>0)},t.prototype.runTransaction=function(t,e,n){var r=Hn.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),qn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,\"isDone\",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"skipToKey\",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cursor\",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Gn(this.dbCursor.delete())},t}(),Hn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Un,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,\"completionPromise\",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p(\"SimpleDb\",\"Aborting transaction: %s\",t?t.message:\"Client-initiated abort\"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,\"Object store not part of transaction: \"+t),new Wn(e)},t}(),Wn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p(\"SimpleDb\",\"PUT\",this.store.name,t,e),n=this.store.put(e,t)):(p(\"SimpleDb\",\"PUT\",this.store.name,\"<auto-key>\",t),n=this.store.put(t)),Gn(n)},t.prototype.get=function(t){var e=this;return Gn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p(\"SimpleDb\",\"GET\",e.store.name,t,n),n})},t.prototype.delete=function(t){return p(\"SimpleDb\",\"DELETE\",this.store.name,t),Gn(this.store.delete(t))},t.prototype.count=function(){return p(\"SimpleDb\",\"COUNT\",this.store.name),Gn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p(\"SimpleDb\",\"DELETE ALL\",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new an(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new qn(i),a=e(i.primaryKey,i.value,o);a instanceof an&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return an.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&(\"string\"==typeof t?n=t:(g(void 0===e,\"3rd argument must not be defined if 2nd is a range.\"),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e=\"next\";if(t.reverse&&(e=\"prev\"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Gn(t){return new an(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var Kn=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return g(\"\"!==e.uid,\"UserID must not be an empty string.\"),new t(e.isAuthenticated()?e.uid:\"\",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,Yn(e).get(n.userId)}).next(function(t){return t||(t=new Pn(n.userId,vn,\"\")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return g(t,\"Reset nextBatchID is only possible when the queue is empty\"),n.metadata.lastAcknowledgedBatchId=vn,Yn(e).put(n.metadata)}):an.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=vn;return Qn(t).iterate({reverse:!0},function(t,n,r){var i,o,a=t[0];if(t[1]>e&&(e=n.batchId),\"\"===a)r.done();else{var s=(o=(i=a).length-1,0===i.length?\"\":\"\\0\"===i.charAt(o)?i.substring(0,o):i.substring(0,o)+String.fromCharCode(i.charCodeAt(o)-1));r.skip([s])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return Qn(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return an.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return an.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return g(r>this.metadata.lastAcknowledgedBatchId,\"Mutation batchIDs must be acknowledged in order\"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=zn(n),Yn(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return an.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=zn(e),Yn(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new bn(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return Qn(t).put(a).next(function(){for(var e=[],o=0,a=n;o<a.length;o++){var s=Dn.key(r.userId,a[o].key.path,i);e.push(Xn(t).put(s,Dn.PLACEHOLDER))}return an.waitFor(e)}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qn(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,i=IDBKeyRange.lowerBound(this.keyForBatchId(r)),o=null;return Qn(t).iterate({range:i},function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r,\"Should have found mutation after \"+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(vn),this.keyForBatchId(Number.POSITIVE_INFINITY));return Qn(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(vn),this.keyForBatchId(e));return Qn(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Dn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xn(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],l=An(r[1]);if(s===n.userId&&e.path.isEqual(l)){var c=n.keyForBatchId(u);return Qn(t).get(c).next(function(t){null===t&&m(\"Dangling document-mutation reference found: \"+r+\" which points to \"+c),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),\"Document queries shouldn't go down this path\");var r=e.path,i=r.length+1,o=Dn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new se(K);return Xn(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],l=An(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(Qn(t).get(o).next(function(t){null===t&&m(\"Dangling document-mutation reference found, which points to \"+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),an.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=Qn(t),r=Xn(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){g(1===o,\"Dangling document-mutation reference found: Missing batch \"+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var c=l[u],h=Dn.key(a.userId,c.key.path,t.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(c.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return an.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return an.resolve();var r=IDBKeyRange.lowerBound(Dn.prefixForUser(e.userId)),i=[];return Xn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=An(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,\"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: \"+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=Dn.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Xn(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function zn(t){return t instanceof Uint8Array?(g(\"YES\"===process.env.USE_MOCK_PERSISTENCE,\"Persisting non-string stream tokens is only supported with mock persistence .\"),t.toString()):t}function Qn(t){return Jn(t,Rn.store)}function Xn(t){return Jn(t,Dn.store)}function Yn(t){return Jn(t,Pn.store)}function Jn(t,e){return t instanceof Hn?t.store(e):m(\"Invalid transaction object provided!\")}var Zn=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Gt.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return tr(t).get(Fn.key).next(function(t){g(null!==t,\"Missing metadata row that should be added by schema migration.\"),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Gt.fromTimestamp(new $(n.seconds,n.nanoseconds)),an.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),tr(t).put(Fn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):an.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return g(this.metadata.targetCount>0,\"Removing from an empty query cache\"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return $n(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return tr(t).put(Fn.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return $n(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,\"count\",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return $n(t).iterate({range:i,index:Ln.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=er(t);return e.forEach(function(t){var e=Tn(t.path);r.push(i.put(new Vn(n,e)))}),an.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=er(t);return e.forEach(function(t){var e=Tn(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),an.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=er(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=er(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=An(t[1]),o=new at(i);g(null!==n.garbageCollector,\"GarbageCollector for query cache set to null during key removal.\"),n.garbageCollector.addPotentialGarbageKey(o)}):an.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=er(t),i=ye();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=An(t[1]),o=new at(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){g(null!==t,\"Persistence Transaction cannot be null for query cache containsKey\");var n,r=Tn(e.path),i=IDBKeyRange.bound([r],[(n=r,n+\"\\0\")],!1,!0),o=0;return er(t).iterate({index:Vn.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}();function $n(t){return nr(t,Ln.store)}function tr(t){return nr(t,Fn.store)}function er(t){return nr(t,Vn.store)}function nr(t,e){return t instanceof Hn?t.store(e):m(\"Invalid transaction object provided!\")}var rr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return ir(t).put(or(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return ir(t).delete(or(e))},t.prototype.getEntry=function(t,e){var n=this;return ir(t).get(or(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=he(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return ir(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof st&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}();function ir(t){return t instanceof Hn?t.store(Mn.store):m(\"Invalid transaction object provided!\")}function or(t){return t.path.toArray()}var ar,sr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=at.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new $(n.seconds,n.nanoseconds);return new ut(e,Gt.fromTimestamp(r))}return m(\"Unexpected DbRemoteDocument\")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof st){var e=this.remoteSerializer.toDocument(t);return new Mn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Nn(r.seconds,r.nanoseconds);return new Mn(new function(t,e){this.path=t,this.readTime=e}(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Rn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=$.fromMillis(t.localWriteTimeMs);return new bn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new $(t.readTime.seconds,t.readTime.nanoseconds),r=Gt.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new zt(e,t.targetId,Kt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Kt.Listen===t.purpose,\"Only queries with purpose \"+Kt.Listen+\" may be stored, got \"+t.purpose);var e,n,r=t.snapshotVersion.toTimestamp(),i=new Nn(r.seconds,r.nanoseconds);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g(\"YES\"===process.env.USE_MOCK_PERSISTENCE,\"Persisting non-string stream tokens is only supported with mock persistence .\"),n=t.resumeToken.toString()):n=t.resumeToken,new Ln(t.targetId,t.query.canonicalId(),i,n,0,e)},t}(),ur=\"IndexedDbPersistence\",lr=\"There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.\",cr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new sr(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(g(!this.started,\"IndexedDbPersistence double-started!\"),this.started=!0,Bn.openOrCreate(this.dbName,2,On).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new _(w.UNIMPLEMENTED,\"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\"),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(t){var e=this;return g(this.started,\"IndexedDbPersistence shutdown without start!\"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){if(e.simpleDb.close(),t)return Bn.delete(e.dbName)})},t.prototype.getMutationQueue=function(t){return Kn.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new Zn(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new rr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(p(ur,\"Starting transaction:\",t),this.simpleDb.runTransaction(\"readwrite\",jn,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Bn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+=\".\"+t.databaseId.database),\"firestore/\"+t.persistenceKey+\"/\"+e+\"/\"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction(\"readwrite\",[xn.store],function(e){var n=e.store(xn.store);return n.get(\"owner\").next(function(e){if(t.validOwner(e))return p(ur,\"Valid owner already. Failing. Current owner:\",e),t.persistenceError=new _(w.FAILED_PRECONDITION,lr),an.reject(t.persistenceError);var r=new xn(t.ownerId,Date.now());return p(ur,\"No valid owner. Acquiring owner lease. Current owner:\",e,\"New owner:\",r),n.put(\"owner\",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction(\"readwrite\",[xn.store],function(e){var n=e.store(xn.store);return n.get(\"owner\").next(function(e){return null!==e&&e.ownerId===t.ownerId?(p(ur,\"Releasing owner lease.\"),n.delete(\"owner\")):an.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(xn.store).get(\"owner\").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new _(w.FAILED_PRECONDITION,lr),an.reject(e.persistenceError)):an.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(d(\"Persistence owner-lease is in the future. Discarding.\",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction(\"Refresh owner timestamp\",function(e){return e.store(xn.store).put(\"owner\",new xn(t.ownerId,Date.now()))}).catch(function(e){d(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;\"object\"==typeof window&&\"function\"==typeof window.addEventListener&&(this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener(\"unload\",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g(\"object\"==typeof window&&\"function\"==typeof window.removeEventListener,\"Expected 'window.removeEventListener' to be a function\"),window.removeEventListener(\"unload\",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return p(ur,\"Zombied ownerID from LocalStorage:\",t),t}catch(t){return d(\"Failed to get zombie owner id.\",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){d(\"Failed to set zombie owner id.\",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+\"zombiedOwnerId\"},t.prototype.generateOwnerId=function(){return G.newId()},t.MAIN_DATABASE=\"main\",t}(),hr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=le();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ut(e,Gt.forDeletedDoc())),i=i.insert(e,t)}))}),an.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return at.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new at(e)).next(function(t){var e=he();return t instanceof st&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=ye(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var l=u[s];n.get(l.key)||(i=i.add(l.key))}var c=[];return i.forEach(function(e){c.push(r.getDocument(t,e).next(function(t){t instanceof st&&(n=n.insert(t.key,t))}))}),an.waitFor(c)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++)n=i[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof st?e=e.insert(t.key,t):t instanceof ut?e=e.remove(t.key):m(\"Unknown MaybeDocument: \"+t)}))}),an.waitFor(r).next(function(){return e})},t}(),fr=function(){function t(t){this.remoteDocumentCache=t,this.changes=le()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?an.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,an.waitFor(n)},t.prototype.assertChanges=function(){return g(null!==this.changes,\"Changes have already been applied.\"),this.changes},t}(),pr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new ln,this.targetIds={},this.targetIdGenerator=pn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new hr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction(\"Start LocalStore\",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction(\"Handle user change\",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new hr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=ye(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++)i=i.add(c[l].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=pn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==vn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):an.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):an.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction(\"Locally write mutations\",function(n){var r,i=$.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction(\"Acknowledge batch\",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=ye(),an.resolve();var i=new fr(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction(\"Reject batch\",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return g(null!=i,\"Attempt to reject nonexistent batch!\"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return g(t>e,\"Acknowledged batches can't be rejected.\"),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction(\"Get last stream token\",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction(\"Set last stream token\",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new fr(this.remoteDocuments);return this.persistence.runTransaction(\"Apply remote event\",function(r){var i=[];T(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof be)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof we))return m(\"Unknown mapping type: \"+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.updateQueryData(r,o)))}});var o=ye();t.documentUpdates.forEach(function(t,a){o=o.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||a.version.isEqual(Gt.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):p(\"LocalStore\",\"Ignoring outdated watch update for \",t,\". Current version:\",r.version,\" Watch version:\",a.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var a,s=e.queryCache.getLastRemoteSnapshotVersion(),u=t.snapshotVersion;return u.isEqual(Gt.MIN)||(g(u.compareTo(s)>=0,\"Watch stream reverted to previous snapshot?? \"+u+\" < \"+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,u))),an.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return a=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,o.unionWith(a))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction(\"Notify local view changes\",function(n){for(var r=[],i=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){g(null!==n,\"Local view changes contain unallocated query.\");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},o=0,a=t;o<a.length;o++)i(a[o]);return an.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction(\"Get next mutation batch\",function(n){return void 0===t&&(t=vn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction(\"read document\",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction(\"Allocate query\",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,an.resolve();var o=e.targetIdGenerator.next();return r=new zt(t,o,Kt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return g(!e.targetIds[r.targetId],\"Tried to allocate an already allocated query: \"+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction(\"Release query\",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return g(null!=r,\"Tried to release nonexistent query: \"+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):an.resolve()}).next(function(){if(k(e.targetIds)){var t=new fr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return an.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction(\"Execute query\",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction(\"Remote document keys\",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction(\"Garbage collection\",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),an.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?an.resolve(ye()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||k(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=an.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=ye(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=an.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);g(null!==a,\"ackVersions should contain every doc in the write.\"),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):g(!t,\"Mutation batch \"+r+\" applied to document \"+t+\" resulted in null\"))})}),o},t}(),dr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=vn,this.lastStreamToken=b(),this.garbageCollector=null,this.batchesByDocumentKey=new se(cn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=vn),g(this.highestAcknowledgedBatchId<this.nextBatchId,\"highestAcknowledgedBatchId must be less than the nextBatchId\"),an.resolve()},t.prototype.checkEmpty=function(t){return an.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return an.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return an.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;g(r>this.highestAcknowledgedBatchId,\"Mutation batchIDs must be acknowledged in order\");var i=this.indexOfExistingBatchId(r,\"acknowledged\"),o=this.mutationQueue[i];return g(r===o.batchId,\"Queue ordering failure: expected batch \"+r+\", got batch \"+o.batchId),g(!o.isTombstone(),\"Can't acknowledge a previously removed batch\"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,an.resolve()},t.prototype.getLastStreamToken=function(t){return an.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,an.resolve()},t.prototype.addMutationBatch=function(t,e,n){g(0!==n.length,\"Mutation batches should not be empty\");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<r,\"Mutation batchIDs must be monotonically increasing order\");var i=new bn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new cn(a[o].key,r));return an.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return an.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return an.resolve(a)}return an.resolve(null)},t.prototype.getAllMutationBatches=function(t){return an.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,an.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new cn(e,0),i=new cn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),\"Should only iterate over a single key's batches\");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,\"Batches in the index must exist in the main table\"),o.push(r)}),an.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;at.isDocumentKey(o)||(o=o.child(\"\"));var a=new cn(new at(o),0),s=new se(K);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),an.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;g(n>0,\"Should not remove mutations when none exist.\");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,\"removed\");g(this.mutationQueue[o].batchId===r,\"Removed batches must exist in the queue\");for(var a=1,s=o+1;a<n&&s<i;)(f=this.mutationQueue[s]).isTombstone()?s++:(g(f.batchId===e[a].batchId,\"Removed batches must be contiguous in the queue\"),a++,s++);if(0===o){for(;s<i&&(f=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var l=this.batchesByDocumentKey,c=0,h=e;c<h.length;c++)for(var f,p=(f=h[c]).batchId,d=0,y=f.mutations;d<y.length;d++){var m=y[d].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(m);var v=new cn(m,p);l=l.delete(v)}return this.batchesByDocumentKey=l,an.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new cn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return an.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),\"Document leak -- detected dangling mutation references when queue is empty.\"),an.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,\"Batches must exist to be \"+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,\"If found batch must match\"),n.isTombstone()?null:n},t}(),yr=function(){function t(){this.queries=new nn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Gt.MIN,this.highestTargetId=0,this.references=new ln,this.targetCount=0}return t.prototype.start=function(t){return an.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,an.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),\"Adding a query that already exists\"),this.saveQueryData(e),this.targetCount+=1,an.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),\"Updating a non-existent query\"),this.saveQueryData(e),an.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,\"Removing a target from an empty cache\"),g(this.queries.has(e.query),\"Removing a non-existent target from the cache\"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,an.resolve()},Object.defineProperty(t.prototype,\"count\",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return an.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),an.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),an.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),an.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return an.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),mr=function(){function t(){this.docs=le()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),an.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),an.resolve()},t.prototype.getEntry=function(t,e){return an.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=he(),r=new at(e.path.child(\"\")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof st&&e.matches(a)&&(n=n.insert(a.key,a))}return an.resolve(n)},t}(),gr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new mr,this.queryCache=new yr,this.started=!1}return t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return g(!this.started,\"MemoryPersistence double-started!\"),this.started=!0,[2]})})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return g(this.started,\"MemoryPersistence shutdown without start!\"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new dr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return p(\"MemoryPersistence\",\"Starting transaction:\",t),e(new vr).toPromise()},t}(),vr=function(){},br=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return an.resolve(ye())},t}();!function(t){t.All=\"all\",t.ListenStreamIdle=\"listen_stream_idle\",t.ListenStreamConnectionBackoff=\"listen_stream_connection_backoff\",t.WriteStreamIdle=\"write_stream_idle\",t.WriteStreamConnectionBackoff=\"write_stream_connection_backoff\",t.OnlineStateTimeout=\"online_state_timeout\"}(ar||(ar={}));var wr=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(w.CANCELLED,\"Operation cancelled\"+(t?\": \"+t:\"\"))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),_r=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||\"\";throw d(\"INTERNAL UNHANDLED ERROR: \",n),n.indexOf(\"Firestore Test Simulated Error\")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(!this.containsDelayedOperation(t),\"Attempted to schedule multiple operations with timer id \"+t+\".\");var i=wr.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&m(\"AsyncQueue is already failed: \"+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,\"verifyOpInProgress() called when no op in progress on this queue.\")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===ar.All||e.containsDelayedOperation(t),\"Attempted to drain to missing operation \"+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ar.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,\"Delayed operation not found.\"),this.delayedOperations.splice(e,1)},t}(),Er=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&p(\"ExponentialBackoff\",\"Backing off for \"+e+\" ms (base delay: \"+this.currentBaseMs+\" ms)\"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Sr=function(t){return t[t.Initial=0]=\"Initial\",t[t.Auth=1]=\"Auth\",t[t.Open=2]=\"Open\",t[t.Error=3]=\"Error\",t[t.Backoff=4]=\"Backoff\",t[t.Stopped=5]=\"Stopped\",t}({}),Cr=1e3,Tr=6e4,Ir=1.5,kr=function(){function t(t,e,n,r,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new Er(t,e,Cr,Ir,Tr),this.state=Sr.Initial}return t.prototype.isStarted=function(){return this.state===Sr.Backoff||this.state===Sr.Auth||this.state===Sr.Open},t.prototype.isOpen=function(){return this.state===Sr.Open},t.prototype.start=function(t){this.state!==Sr.Error?(g(this.state===Sr.Initial,\"Already started\"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(Sr.Stopped)},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),\"Can only inhibit backoff in a stopped state\"),this.state=Sr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(Sr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){return g(t===Sr.Error||Dt(e),\"Can't provide an error when not in an error state.\"),this.cancelIdleCheck(),this.backoff.cancel(),t!==Sr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED&&(d(e.toString()),d(\"Using maximum backoff delay to prevent overloading the backend.\"),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==Sr.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===Sr.Initial,\"Must be in initial state to auth\"),this.state=Sr.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(n){return this.state!==Sr.Stopped?(t=new _(w.UNKNOWN,\"Fetching auth token failed: \"+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==Sr.Stopped){g(this.state===Sr.Auth,\"Trying to start stream in a non-auth state\");var n=function(t,n){e.queue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return g(e.state===Sr.Auth,\"Expected stream to be in state auth, but was \"+e.state),e.state=Sr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;g(this.state===Sr.Error,\"Should only perform backoff in an error case\"),this.state=Sr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.state===Sr.Stopped?[2]:(this.state=Sr.Initial,this.start(t),g(this.isStarted(),\"PersistentStream should have started\"),[2])})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),\"Can't handle server close on non-started stream\"),p(\"PersistentStream\",\"close with error: \"+t),this.stream=null,this.close(Sr.Error,t)},t}(),Ar=function(t){function e(e,n,r,i){var o=t.call(this,e,ar.ListenStreamConnectionBackoff,ar.ListenStreamIdle,n,r)||this;return o.serializer=i,o}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream(\"Listen\",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(kr),Or=function(t){function e(e,n,r,i){var o=t.call(this,e,ar.WriteStreamConnectionBackoff,ar.WriteStreamIdle,n,r)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return a.__extends(e,t),Object.defineProperty(e.prototype,\"handshakeComplete\",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream(\"Write\",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,\"Got a write response without a stream token\"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,\"Got mutation results for handshake\"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),\"Writing handshake requires an opened stream\"),g(!this.handshakeComplete_,\"Handshake already completed\");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),\"Writing mutations requires an opened stream\"),g(this.handshakeComplete_,\"Handshake must be complete before writing mutations\"),g(this.lastStreamToken.length>0,\"Trying to write mutation without a token\");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(kr),Nr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(){return new Or(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new Ar(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC(\"Commit\",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC(\"BatchGetDocuments\",n).then(function(n){var r=le();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,\"Missing entity in write response for \"+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeRPC(t,e,r)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeStreamingRPC(t,e,r)})},t}(),xr=function(){function t(t){this.datastore=t,this.readVersions=pe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ut&&(e=Gt.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new _(w.ABORTED,\"Document version changed between two reads.\")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject(\"Transaction has already completed.\"):this.mutations.length>0?Promise.reject(\"Transactions lookups are invalid after writes.\"):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new _(w.FAILED_PRECONDITION,\"Transaction has already completed.\");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Jt.updateTime(e):Jt.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Gt.forDeletedDoc()))throw new _(w.FAILED_PRECONDITION,\"Can't update a document that doesn't exist.\");return e?Jt.updateTime(e):Jt.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ne(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Gt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error(\"Every document read in a transaction must also be written.\"))},t}(),Pr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Ye.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Ye.Unknown),g(null===this.onlineStateTimer,\"onlineStateTimer shouldn't be started yet\"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ar.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===Ye.Unknown,\"Timer should be canceled if we transitioned to a different state.\"),t.logClientOfflineWarningIfNecessary(\"Backend didn't respond within 10 seconds.\"),t.setAndBroadcast(Ye.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Ye.Online?(this.setAndBroadcast(Ye.Unknown),g(0===this.watchStreamFailures,\"watchStreamFailures must be 0\"),g(null===this.onlineStateTimer,\"onlineStateTimer must be null\")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(\"Connection failed 2 times. Most recent error: \"+t.toString()),this.setAndBroadcast(Ye.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Ye.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e=\"Could not reach Cloud Firestore backend. \"+t+\"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";this.shouldWarnClientIsOffline?(d(e),this.shouldWarnClientIsOffline=!1):p(\"OnlineStateTracker\",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Rr=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.pendingWrites=[],this.lastBatchSeen=vn,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new Pr(n,r)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return g(null==this.watchStream==(null==this.writeStream),\"WatchStream and WriteStream should both be null or non-null\"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(Ye.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(Ye.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return p(\"RemoteStore\",\"RemoteStore shutting down.\"),this.disableNetworkInternal(),this.onlineStateTracker.set(Ye.Unknown),Promise.resolve()},t.prototype.listen=function(t){g(!S(this.listenTargets,t.targetId),\"listen called with duplicate targetId!\"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(S(this.listenTargets,t),\"unlisten called without assigned target ID!\"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),k(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),\"startWriteStream() called when shouldStartWatchStream() is false.\"),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!k(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return g(this.isNetworkEnabled(),\"onWatchStreamClose() should only be called when the network is enabled\"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(t&&this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Ye.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){return this.onlineStateTracker.set(Ye.Online),t instanceof Ce&&t.state===Se.Removed&&t.cause?[2,this.handleTargetError(t)]:(this.accumulatedWatchChanges.push(t),!e.isEqual(Gt.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(e,n)]):[2])})})},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Te(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return T(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new at(s.path),l=new ut(u,t);i.addDocumentUpdate(l)}else g(1===r.count,\"Single document existence filter with count: \"+r.count);else{var c=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof we?t=o.applyToKeySet(t):(g(o instanceof be,\"Expected either reset or update mapping but got something else: \"+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new zt(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var l=new zt(s,e,Kt.ExistenceFilterMismatch);n.sendWatchRequest(l)}});o.push(c)}}}),Promise.all(o).then(function(){return T(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,\"Handling target error without a cause\");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=vn,p(\"RemoteStore\",\"Stopping write stream with \"+this.pendingWrites.length+\" pending writes\"),this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){if(null!==e)return t.commit(e),t.fillWritePipeline();0===t.pendingWrites.length&&t.writeStream.markIdle()})]:[2]})})},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){g(this.canWriteMutations(),\"commit called when batches can't be written\"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),\"startWriteStream() called when shouldStartWriteStream() is false.\"),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;g(this.pendingWrites.length>0,\"Got result for empty pending writes\");var r=this.pendingWrites.shift(),i=wn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return g(this.isNetworkEnabled(),\"onWriteStreamClose() should only be called when the network is enabled\"),t&&this.pendingWrites.length>0?(g(!!t,\"We have pending writes, but the write stream closed without an error\"),[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return oe(t.code)||t.code===w.ABORTED?(p(\"RemoteStore\",\"RemoteStore error before completed handshake; resetting stream token: \",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b())]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return oe(t.code)?(e=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new xr(this.datastore)},t.prototype.handleUserChange=function(t){if(p(\"RemoteStore\",\"RemoteStore changing users: uid=\",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(Ye.Unknown),this.enableNetwork()},t}(),Dr=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Un,r=new Un,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn(\"Error enabling offline storage. Falling back to storage disabled: \"+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof _?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(\"undefined\"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new br;var t=cr.buildStoragePrefix(this.databaseInfo),e=new Fe(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new cr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new sn,this.persistence=new gr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new pr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Nr(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Rr(e.localStore,i,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new gn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new rn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p(\"FirestoreClient\",\"User Changed: \"+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)})},t.prototype.listen=function(t,e,n){var r=this,i=new on(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof st)return t;throw new _(w.UNAVAILABLE,\"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=ye(),r=new mn(t,n),i=r.computeDocChanges(e);return r.applyChanges(i).snapshot})},t.prototype.write=function(t){var e=this,n=new Un;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Mr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?\"uid:\"+this.uid:\"anonymous-user\"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t(\"google-credentials-uid\"),t.FIRST_PARTY=new t(\"first-party-uid\"),t}(),Vr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){g(!this.userListener,\"Can only call setUserChangeListener() once.\"),this.userListener=t,t(Lr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){g(null!==this.userListener,\"removeUserChangeListener() when no listener registered\"),this.userListener=null},t}(),Fr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;g(null!=this.tokenListener,\"getToken cannot be called after listener removed.\");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new _(w.ABORTED,\"getToken aborted due to uid change.\");return t?(g(\"string\"==typeof t.accessToken,\"Invalid tokenData returned from getToken():\"+t),new function(t,e){this.user=e,this.type=\"OAuth\",this.authHeaders={Authorization:\"Bearer \"+t}}(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){g(!this.userListener,\"Can only call setUserChangeListener() once.\"),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){g(null!=this.tokenListener,\"removeUserChangeListener() called twice\"),g(null!==this.userListener,\"removeUserChangeListener() called when no listener registered\"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){\"function\"!=typeof this.app.INTERNAL.getUid&&m(\"This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.\");var t=this.app.INTERNAL.getUid();return g(null===t||\"string\"==typeof t,\"Received invalid UID: \"+t),new Lr(t)},t}(),jr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type=\"FirstParty\",this.user=Lr.FIRST_PARTY,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,\"unexpected gapi interface\")}return Object.defineProperty(t.prototype,\"authHeaders\",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),\"X-Goog-AuthUser\":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Ur=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,\"unexpected gapi interface\")}return t.prototype.getToken=function(t){return Promise.resolve(new jr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(Lr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();function Br(t){return function(t,e){if(\"object\"!=typeof t||null===t)return!1;for(var n=t,r=0,i=[\"next\",\"error\",\"complete\"];r<i.length;r++){var o=i[r];if(o in n&&\"function\"==typeof n[o])return!0}return!1}(t)}var qr=function(){function t(t){this.methodName=t}return t.delete=function(){return Hr.instance},t.serverTimestamp=function(){return Wr.instance},t._arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N(\"FieldValue.arrayUnion\",arguments,1),new Gr(t)},t._arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N(\"FieldValue.arrayRemove\",arguments,1),new Kr(t)},t.prototype.isEqual=function(t){return this===t},t}(),Hr=function(t){function e(){return t.call(this,\"FieldValue.delete\")||this}return a.__extends(e,t),e.instance=new e,e}(qr),Wr=function(t){function e(){return t.call(this,\"FieldValue.serverTimestamp\")||this}return a.__extends(e,t),e.instance=new e,e}(qr),Gr=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayUnion\")||this;return n._elements=e,n}return a.__extends(e,t),e}(qr),Kr=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayRemove\")||this;return n._elements=e,n}return a.__extends(e,t),e}(qr),zr=E(qr,\"Use FieldValue.<field>() instead.\"),Qr=/^__.*__$/,Xr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new te(t,this.data,this.fieldMask,e):new $t(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ee(t,this.fieldTransforms)),n},t}(),Yr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new te(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ee(t,this.fieldTransforms)),n},t}(),Jr=function(t){return t[t.Set=0]=\"Set\",t[t.Update=1]=\"Update\",t[t.MergeSet=2]=\"MergeSet\",t[t.Argument=3]=\"Argument\",t}({});function Zr(t){switch(t){case Jr.Set:case Jr.MergeSet:case Jr.Update:return!0;case Jr.Argument:return!1;default:throw m(\"Unexpected case for UserDataSource: \"+t)}}var $r=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?\"\":\" (found in field \"+this.path.toString()+\")\";return new _(w.INVALID_ARGUMENT,\"Function \"+this.methodName+\"() called with invalid data. \"+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Zr(this.dataSource)&&Qr.test(t))throw this.createError(\"Document fields cannot begin and end with __\")},t}(),ti=function(t,e){this.databaseId=t,this.key=e},ei=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new $r(Jr.Set,t,ot.EMPTY_PATH);ri(\"Data must be an object, but it was:\",n,e);var r=this.parseData(e,n);return new Xr(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new $r(Jr.MergeSet,t,ot.EMPTY_PATH);ri(\"Data must be an object, but it was:\",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Qe?h=c:\"string\"==typeof c?h=oi(t,c):m(\"Expected stringOrFieldPath to be a string or a FieldPath\"),!a.contains(h))throw new _(w.INVALID_ARGUMENT,\"Field '\"+h+\"' is specified in your field mask but missing from your input data.\");s.push(h)}i=new Qt(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new Qt(r.fieldMask),o=r.fieldTransforms;return new Xr(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new $r(Jr.Update,t,ot.EMPTY_PATH);ri(\"Data must be an object, but it was:\",r,e);var i=[],o=At.EMPTY;I(e,function(e,a){var s=oi(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Hr)i.push(s);else{var l=n.parseData(a,u);null!=l&&(i.push(s),o=o.set(s,l))}});var a=new Qt(i);return new Yr(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new $r(Jr.Update,t,ot.EMPTY_PATH),o=[ii(t,e)],a=[n];if(r.length%2!=0)throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() needs to be called with an even number of arguments that alternate between field names and values.\");for(var s=0;s<r.length;s+=2)o.push(ii(t,r[s])),a.push(r[s+1]);var u=[],l=At.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[s],h);if(f instanceof Hr)u.push(c);else{var p=this.parseData(f,h);null!=p&&(u.push(c),l=l.set(c,p))}}var d=new Qt(u);return new Yr(l,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new $r(Jr.Argument,t,ot.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,\"Parsed data should not be null.\"),g(0===n.fieldTransforms.length,\"Field transforms should have been disallowed.\"),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=ai(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(ni(t=this.runPreConverter(t,e)))return ri(\"Unsupported field value:\",e,t),this.parseObject(t,e);if(t instanceof qr)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError(\"Nested arrays are not supported\");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new lt(K);return I(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new At(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=mt.INSTANCE),n.push(a),r++}return new Ot(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Zr(e.dataSource))throw e.createError(t.methodName+\"() can only be used with update() and set()\");if(null===e.path)throw e.createError(t.methodName+\"() is not currently supported inside arrays\");if(t instanceof Hr){if(e.dataSource!==Jr.MergeSet)throw e.dataSource===Jr.Update?(g(e.path.length>0,\"FieldValue.delete() at the top level should have already been handled.\"),e.createError(\"FieldValue.delete() can only appear at the top level of your update data\")):e.createError(\"FieldValue.delete() cannot be used with set() unless you pass {merge:true}\");e.fieldMask.push(e.path)}else if(t instanceof Wr)e.fieldTransforms.push(new Xt(e.path,ke.instance));else if(t instanceof Gr){var n=this.parseArrayTransformElements(t.methodName,t._elements),r=new Ae(n);e.fieldTransforms.push(new Xt(e.path,r))}else if(t instanceof Kr){n=this.parseArrayTransformElements(t.methodName,t._elements);var i=new Oe(n);e.fieldTransforms.push(new Xt(e.path,i))}else m(\"Unknown FieldValue type: \"+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return mt.INSTANCE;if(\"number\"==typeof t)return function(t){return Rt(t)&&t<=Pt&&t>=xt}(t)?new wt(t):new _t(t);if(\"boolean\"==typeof t)return gt.of(t);if(\"string\"==typeof t)return new Et(t);if(t instanceof Date)return new St($.fromDate(t));if(t instanceof $)return new St(new $(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Z)return new kt(t);if(t instanceof Y)return new Tt(t);if(t instanceof ti)return new It(t.databaseId,t.key);throw e.createError(\"Unsupported field value: \"+j(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new $r(Jr.Argument,t,ot.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function ni(t){return!(\"object\"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $||t instanceof Z||t instanceof Y||t instanceof ti||t instanceof qr)}function ri(t,e,n){if(!ni(n)||!F(n)){var r=j(n);throw e.createError(\"an object\"===r?t+\" a custom object\":t+\" \"+r)}}function ii(t,e){if(e instanceof Qe)return e._internalPath;if(\"string\"==typeof e)return oi(t,e);throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. Field path arguments must be of type string or FieldPath.\")}function oi(t,e){try{return function(t){if(t.search(Xe)>=0)throw new _(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not contain '~', '*', '/', '[', or ']'\");try{return new(Qe.bind.apply(Qe,[void 0].concat(t.split(\".\"))))}catch(e){throw new _(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\")}}(e)._internalPath}catch(e){var n=ai(e);throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. \"+n)}}function ai(t){return t instanceof Error?t.message:t.toString()}var si=\"firestore.googleapis.com\",ui=!0,li=!1,ci=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new _(w.INVALID_ARGUMENT,\"Can't provide ssl option if host option is not set\");this.host=si,this.ssl=ui}else D(\"settings\",\"string\",\"host\",t.host),this.host=t.host,M(\"settings\",\"boolean\",\"ssl\",t.ssl),this.ssl=C(t.ssl,ui);B(\"settings\",t,[\"host\",\"ssl\",\"credentials\",\"timestampsInSnapshots\"]),M(\"settings\",\"object\",\"credentials\",t.credentials),this.credentials=t.credentials,M(\"settings\",\"boolean\",\"timestampsInSnapshots\",t.timestampsInSnapshots),this.timestampsInSnapshots=C(t.timestampsInSnapshots,li)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),hi=function(){},fi=function(){function t(e){var n=this;this._queue=new _r,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new hi;if(\"object\"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Fr(i)}else{var o=e;if(!o.projectId)throw new _(w.INVALID_ARGUMENT,\"Must provide projectId\");r.databaseId=new et(o.projectId,o.database),r.persistenceKey=\"[DEFAULT]\",r.credentials=new Vr}r.settings=new ci({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(O(\"Firestore.settings\",arguments,1),P(\"Firestore.settings\",\"object\",1,t),S(t,\"persistence\"))throw new _(w.INVALID_ARGUMENT,'\"persistence\" is now specified with a separate call to firestore.enablePersistence().');var e=new ci(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new _(w.FAILED_PRECONDITION,\"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Vr;switch(t.type){case\"gapi\":return new Ur(t.client,t.sessionIndex||\"0\");case\"provider\":return t.client;default:throw new _(w.INVALID_ARGUMENT,\"makeCredentialsProvider failed due to invalid credential type\")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new _(w.FAILED_PRECONDITION,\"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.\");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,\"FirestoreSettings.host cannot be falsey\"),this._config.settings.timestampsInSnapshots||d(\"\\nThe behavior for Date objects stored in Firestore is going to change\\nAND YOUR APP MAY BREAK.\\nTo hide this warning and ensure your app does not break, you need to add the\\nfollowing code to your app before calling any other Cloud Firestore methods:\\n\\n  const firestore = firebase.firestore();\\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\\n  firestore.settings(settings);\\n\\nWith this change, timestamps stored in Cloud Firestore will be read back as\\nFirebase Timestamp objects instead of as system Date objects. So you will also\\nneed to update code expecting a Date to instead expect a Timestamp. For example:\\n\\n  // Old:\\n  const date = snapshot.get('created_at');\\n  // New:\\n  const timestamp = snapshot.get('created_at');\\n  const date = timestamp.toDate();\\n\\nPlease audit all existing usages of Date when you enable the new behavior. In a\\nfuture release, the behavior will change to the new behavior, so if you do not\\nfollow these steps, YOUR APP MAY BREAK.\"),g(!this._firestoreClient,\"configureClient() called multiple times\");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ei(function(t){if(t instanceof yi){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new _(w.INVALID_ARGUMENT,\"Document reference is for database \"+r.projectId+\"/\"+r.database+\" but should be for database \"+n.projectId+\"/\"+n.database);return new ti(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Dr(v.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,\"projectId\")){if(S(e,\"firestoreId\"))throw new _(w.INVALID_ARGUMENT,'\"firestoreId\" is now specified as \"projectId\" in firebase.initializeApp.');throw new _(w.INVALID_ARGUMENT,'\"projectId\" not provided in firebase.initializeApp.')}if(S(e,\"firestoreOptions\"))throw new _(w.INVALID_ARGUMENT,'\"firestoreOptions\" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||\"string\"!=typeof n)throw new _(w.INVALID_ARGUMENT,\"projectId must be a string in FirebaseApp.options\");return new et(n)},Object.defineProperty(t.prototype,\"app\",{get:function(){if(!this._config.firebaseApp)throw new _(w.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O(\"Firestore.collection\",arguments,1),P(\"Firestore.collection\",\"string\",1,t),!t)throw new _(w.INVALID_ARGUMENT,\"Must provide a non-empty collection path to collection()\");return this.ensureClientConfigured(),new _i(rt.fromString(t),this)},t.prototype.doc=function(t){if(O(\"Firestore.doc\",arguments,1),P(\"Firestore.doc\",\"string\",1,t),!t)throw new _(w.INVALID_ARGUMENT,\"Must provide a non-empty document path to doc()\");return this.ensureClientConfigured(),yi.forPath(rt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return O(\"Firestore.runTransaction\",arguments,1),P(\"Firestore.runTransaction\",\"function\",1,t),this.ensureClientConfigured().transaction(function(n){return t(new pi(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new di(this)},Object.defineProperty(t,\"logLevel\",{get:function(){switch(h()){case c.DEBUG:return\"debug\";case c.ERROR:return\"error\";case c.SILENT:return\"silent\";default:return m(\"Unknown log level: \"+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O(\"Firestore.setLogLevel\",arguments,1),P(\"Firestore.setLogLevel\",\"string\",1,t),t){case\"debug\":f(c.DEBUG);break;case\"error\":f(c.ERROR);break;case\"silent\":f(c.SILENT);break;default:throw new _(w.INVALID_ARGUMENT,\"Invalid log level: \"+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),pi=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O(\"Transaction.get\",arguments,1);var n=Ci(\"Transaction.get\",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return m(\"Mismatch in docs returned from document lookup.\");var r=t[0];return new gi(e._firestore,n._key,r instanceof ut?null:r,!1)})},t.prototype.set=function(t,e,n){x(\"Transaction.set\",arguments,2,3);var r=Ci(\"Transaction.set\",t,this._firestore),i=(n=Ei(\"Transaction.set\",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(\"Transaction.set\",e,n.mergeFields):this._firestore._dataConverter.parseSetData(\"Transaction.set\",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return\"string\"==typeof e||e instanceof Qe?(N(\"Transaction.update\",arguments,3),r=Ci(\"Transaction.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs(\"Transaction.update\",e,n,o)):(O(\"Transaction.update\",arguments,2),r=Ci(\"Transaction.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData(\"Transaction.update\",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){O(\"Transaction.delete\",arguments,1);var e=Ci(\"Transaction.delete\",t,this._firestore);return this._transaction.delete(e._key),this},t}(),di=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){x(\"WriteBatch.set\",arguments,2,3),this.verifyNotCommitted();var r=Ci(\"WriteBatch.set\",t,this._firestore),i=(n=Ei(\"WriteBatch.set\",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(\"WriteBatch.set\",e,n.mergeFields):this._firestore._dataConverter.parseSetData(\"WriteBatch.set\",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Jt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),\"string\"==typeof e||e instanceof Qe?(N(\"WriteBatch.update\",arguments,3),r=Ci(\"WriteBatch.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs(\"WriteBatch.update\",e,n,o)):(O(\"WriteBatch.update\",arguments,2),r=Ci(\"WriteBatch.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData(\"WriteBatch.update\",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Jt.exists(!0))),this},t.prototype.delete=function(t){O(\"WriteBatch.delete\",arguments,1),this.verifyNotCommitted();var e=Ci(\"WriteBatch.delete\",t,this._firestore);return this._mutations=this._mutations.concat(new ne(e._key,Jt.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new _(w.FAILED_PRECONDITION,\"A write batch can no longer be used after commit() has been called.\")},t}(),yi=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new _(w.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+e.canonicalString()+\" has \"+e.length);return new t(new at(e),n)},Object.defineProperty(t.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return new _i(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O(\"DocumentReference.collection\",arguments,1),P(\"DocumentReference.collection\",\"string\",1,t),!t)throw new _(w.INVALID_ARGUMENT,\"Must provide a non-empty collection name to collection()\");var e=rt.fromString(t);return new _i(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q(\"isEqual\",\"DocumentReference\",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){x(\"DocumentReference.set\",arguments,1,2);var n=(e=Ei(\"DocumentReference.set\",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData(\"DocumentReference.set\",t,e.mergeFields):this.firestore._dataConverter.parseSetData(\"DocumentReference.set\",t);return this._firestoreClient.write(n.toMutations(this._key,Jt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return\"string\"==typeof t||t instanceof Qe?(N(\"DocumentReference.update\",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs(\"DocumentReference.update\",t,e,r)):(O(\"DocumentReference.update\",arguments,1),n=this.firestore._dataConverter.parseUpdateData(\"DocumentReference.update\",t)),this._firestoreClient.write(n.toMutations(this._key,Jt.exists(!0)))},t.prototype.delete=function(){return O(\"DocumentReference.delete\",arguments,0),this._firestoreClient.write([new ne(this._key,Jt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x(\"DocumentReference.onSnapshot\",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;\"object\"!=typeof t[i]||Br(t[i])||(B(\"DocumentReference.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),M(\"DocumentReference.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Br(t[i])?n=t[i]:(P(\"DocumentReference.onSnapshot\",\"function\",i,t[i]),R(\"DocumentReference.onSnapshot\",\"function\",i+1,t[i+1]),R(\"DocumentReference.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Mr({next:function(t){if(e.next){g(t.docs.size<=1,\"Too many documents returned on a document query\");var r=t.docs.get(n._key);e.next(new gi(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(Mt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return B(\"DocumentReference.get\",t,[\"source\"]),t&&L(\"DocumentReference.get\",0,\"source\",t.source,[\"default\",\"server\",\"cache\"]),new Promise(function(n,r){t&&\"cache\"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new gi(e.firestore,e._key,t,!0))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new _(w.UNAVAILABLE,\"Failed to get document because the client is offline.\")):i.exists&&i.metadata.fromCache&&n&&\"server\"===n.source?e(new _(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')):t(i)},error:e})},t}(),mi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),gi=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return x(\"DocumentSnapshot.data\",arguments,0,1),t=Si(\"DocumentSnapshot.data\",t),this._document?this.convertObject(this._document.data,dt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(x(\"DocumentSnapshot.get\",arguments,1,2),e=Si(\"DocumentSnapshot.get\",e),this._document){var n=this._document.data.field(ii(\"DocumentSnapshot.get\",t));if(void 0!==n)return this.convertValue(n,dt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ref\",{get:function(){return new yi(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"exists\",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"metadata\",{get:function(){return new mi(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q(\"isEqual\",\"DocumentSnapshot\",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof At)return this.convertObject(t,e);if(t instanceof Ot)return this.convertArray(t,e);if(t instanceof It){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||d(\"Document \"+this._key.path+\" contains a document reference within a different database (\"+t.databaseId.projectId+\"/\"+t.databaseId.database+\") which is not supported. It will be treated as a reference in the current database (\"+r.projectId+\"/\"+r.database+\") instead.\"),new yi(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),vi=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g(\"object\"==typeof n,\"Document in a QueryDocumentSnapshot should exist\"),n},e}(gi),bi=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;O(\"Query.where\",arguments,3),P(\"Query.where\",\"string\",2,n),U(\"Query.where\",3,r);var o=ii(\"Query.where\",e),a=Lt.fromString(n);if(o.isKeyField()){if(a===Lt.ARRAY_CONTAINS)throw new _(w.INVALID_ARGUMENT,\"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.\");if(\"string\"==typeof r){if(-1!==r.indexOf(\"/\"))throw new _(w.INVALID_ARGUMENT,\"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.\");if(\"\"===r)throw new _(w.INVALID_ARGUMENT,\"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.\");var s=this._query.path.child(new rt([r]));g(s.length%2==0,\"Path should be a document key\"),i=new It(this.firestore._databaseId,new at(s))}else{if(!(r instanceof yi))throw new _(w.INVALID_ARGUMENT,\"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: \"+j(r)+\".\");i=new It(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue(\"Query.where\",r);var u=function(t,e,n){if(n.isEqual(mt.INSTANCE)){if(e!==Lt.EQUAL)throw new _(w.INVALID_ARGUMENT,\"Invalid query. You can only perform equals comparisons on null.\");return new Ft(t)}if(n.isEqual(_t.NAN)){if(e!==Lt.EQUAL)throw new _(w.INVALID_ARGUMENT,\"Invalid query. You can only perform equals comparisons on NaN.\");return new jt(t)}return new Vt(t,e,n)}(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(x(\"Query.orderBy\",arguments,1,2),R(\"Query.orderBy\",\"string\",2,n),void 0===n||\"asc\"===n)r=Ut.ASCENDING;else{if(\"desc\"!==n)throw new _(w.INVALID_ARGUMENT,\"Function Query.orderBy() has unknown direction '\"+n+\"', expected 'asc' or 'desc'.\");r=Ut.DESCENDING}if(null!==this._query.startAt)throw new _(w.INVALID_ARGUMENT,\"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().\");if(null!==this._query.endAt)throw new _(w.INVALID_ARGUMENT,\"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().\");var i=ii(\"Query.orderBy\",e),o=new qt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(O(\"Query.limit\",arguments,1),P(\"Query.limit\",\"number\",1,e),e<=0)throw new _(w.INVALID_ARGUMENT,\"Invalid Query. Query limit (\"+e+\") is invalid. Limit must be positive.\");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N(\"Query.startAt\",arguments,1);var i=this.boundFromDocOrFields(\"Query.startAt\",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N(\"Query.startAfter\",arguments,1);var i=this.boundFromDocOrFields(\"Query.startAfter\",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N(\"Query.endBefore\",arguments,1);var i=this.boundFromDocOrFields(\"Query.endBefore\",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N(\"Query.endAt\",arguments,1);var i=this.boundFromDocOrFields(\"Query.endAt\",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q(\"isEqual\",\"Query\",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof gi){if(n.length>0)throw new _(w.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"().\");var i=e;if(!i.exists)throw new _(w.NOT_FOUND,\"Can't use a DocumentSnapshot that doesn't exist for \"+t+\"().\");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new It(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new _(w.INVALID_ARGUMENT,\"Invalid query. You are trying to start or end a query using a document for which the field '\"+u+\"' (used as the orderBy) does not exist.\")}r.push(s)}}return new Bt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new _(w.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses\");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if(\"string\"!=typeof a)throw new _(w.INVALID_ARGUMENT,\"Invalid query. Expected a string for document ID in \"+t+\"(), but got a \"+typeof a);if(-1!==a.indexOf(\"/\"))throw new _(w.INVALID_ARGUMENT,\"Invalid query. Document ID '\"+a+\"' contains a slash in \"+t+\"()\");var s=new at(this._query.path.child(a));i.push(new It(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Bt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x(\"Query.onSnapshot\",arguments,1,4);var n,r={},i=0;return\"object\"!=typeof t[i]||Br(t[i])||(B(\"Query.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),M(\"Query.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++),Br(t[i])?n=t[i]:(P(\"Query.onSnapshot\",\"function\",i,t[i]),R(\"Query.onSnapshot\",\"function\",i+1,t[i+1]),R(\"Query.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Mr({next:function(t){e.next&&e.next(new wi(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return x(\"Query.get\",arguments,0,1),new Promise(function(n,r){t&&\"cache\"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new wi(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&\"server\"===n.source?e(new _(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Vt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new _(w.INVALID_ARGUMENT,\"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '\"+e.toString()+\"' and '\"+t.field.toString()+\"'\");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Lt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new _(w.INVALID_ARGUMENT,\"Invalid query. Queries only support a single array-contains filter.\")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new _(w.INVALID_ARGUMENT,\"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '\"+t.toString()+\"' and so you must also use '\"+t.toString()+\"' as your first Query.orderBy(), but your first Query.orderBy() is on field '\"+e.toString()+\"' instead.\")},t}(),wi=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new mi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,\"docs\",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"empty\",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x(\"QuerySnapshot.forEach\",arguments,1,2),P(\"QuerySnapshot.forEach\",\"function\",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,\"query\",{get:function(){return new bi(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){B(\"QuerySnapshot.docChanges\",t,[\"includeMetadataChanges\"]),t&&M(\"QuerySnapshot.docChanges\",\"boolean\",\"includeMetadataChanges\",t.includeMetadataChanges);var e=t&&t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _(w.INVALID_ARGUMENT,\"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new vi(t,e.doc.key,e.doc,n.fromCache);return g(e.type===Je.Added,\"Invalid event type for first snapshot\"),g(!r||n.query.docComparator(r,e.doc)<0,\"Got added events in wrong order\"),r=e.doc,{type:\"added\",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Je.Metadata}).map(function(e){var r=new vi(t,e.doc.key,e.doc,n.fromCache),i=-1,a=-1;return e.type!==Je.Added&&(g((i=o.indexOf(e.doc.key))>=0,\"Index for document not found\"),o=o.delete(e.doc.key)),e.type!==Je.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case Je.Added:return\"added\";case Je.Modified:case Je.Metadata:return\"modified\";case Je.Removed:return\"removed\";default:return m(\"Unknown change type: \"+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q(\"isEqual\",\"QuerySnapshot\",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new vi(this._firestore,t.key,t,this.metadata.fromCache)},t}();[\"length\",\"forEach\",\"map\"].concat(\"undefined\"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(wi.prototype.docChanges,t,{get:function(){return function(){throw new _(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like \"querySnapshot.docChanges\" should become \"querySnapshot.docChanges()\"')}()}})}catch(t){}});var _i=function(t){function e(e,n){var r=t.call(this,Mt.atPath(e),n)||this;if(e.length%2!=1)throw new _(w.INVALID_ARGUMENT,\"Invalid collection reference. Collection references must have an odd number of segments, but \"+e.canonicalString()+\" has \"+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,\"id\",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new yi(new at(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(x(\"CollectionReference.doc\",arguments,0,1),0===arguments.length&&(t=G.newId()),P(\"CollectionReference.doc\",\"string\",1,t),\"\"===t)throw new _(w.INVALID_ARGUMENT,\"Document path must be a non-empty string\");var e=rt.fromString(t);return yi.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O(\"CollectionReference.add\",arguments,1),P(\"CollectionReference.add\",\"object\",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(bi);function Ei(t,e){if(void 0===e)return{merge:!1};if(B(t,e,[\"merge\",\"mergeFields\"]),M(t,\"boolean\",\"merge\",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its mergeFields option to be an array, but it was: \"+j(r));for(var o=0;o<r.length;++o)if(!(\"string\"==typeof(a=r[o])||a instanceof Qe))throw new _(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires all mergeFields elements to be a string or a FieldPath, but the value at index \"+o+\" was: \"+j(r[o]));var a}(t,0,0,n),void 0!==e.mergeFields&&void 0!==e.merge)throw new _(w.INVALID_ARGUMENT,\"Invalid options passed to function \"+t+'(): You cannot specify both \"merge\" and \"mergeFields\".');var n;return e}function Si(t,e){return void 0===e?{}:(B(t,e,[\"serverTimestamps\"]),L(t,0,\"serverTimestamps\",e.serverTimestamps,[\"estimate\",\"previous\",\"none\"]),e)}function Ci(t,e,n){if(e instanceof yi){if(e.firestore!==n)throw new _(w.INVALID_ARGUMENT,\"Provided document reference is from a different Firestore instance.\");return e}throw q(t,\"DocumentReference\",1,e)}var Ti=E(fi,\"Use firebase.firestore() instead.\"),Ii=E(pi,\"Use firebase.firestore().runTransaction() instead.\"),ki=E(di,\"Use firebase.firestore().batch() instead.\"),Ai=E(yi,\"Use firebase.firestore().doc() instead.\"),Oi=E(gi),Ni=E(vi),xi=E(bi),Pi=E(wi),Ri=E(_i,\"Use firebase.firestore().collection() instead.\"),Di={Firestore:Ti,GeoPoint:Z,Timestamp:$,Blob:J,Transaction:Ii,WriteBatch:ki,DocumentReference:Ai,DocumentSnapshot:Oi,Query:xi,QueryDocumentSnapshot:Ni,QuerySnapshot:Pi,CollectionReference:Ri,FieldPath:Qe,FieldValue:zr,setLogLevel:fi.setLogLevel};function Mi(t){t.INTERNAL.registerService(\"firestore\",function(t){return new fi(t)},A(Di))}Mi(i),e.registerFirestore=Mi},FGoP:function(module,exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(t){return\"string\"==typeof t}function n(t,e){t=t.split(\".\"),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if(\"object\"==e){if(!t)return\"null\";if(t instanceof Array)return\"array\";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if(\"[object Window]\"==n)return\"object\";if(\"[object Array]\"==n||\"number\"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==e&&void 0===t.call)return\"object\";return e}function p(t){return\"array\"==ba(t)}function ca(t){var e=ba(t);return\"array\"==e||\"object\"==e&&\"number\"==typeof t.length}function da(t){return\"function\"==ba(t)}function ea(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}var q=\"closure_uid_\"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n=\"\",r=(t=t.split(\"%s\")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:\"%s\");ka.call(this,n+t[r])}function ma(t,e){throw new la(\"Failure\"+(t?\": \"+t:\"\"),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name=\"CustomError\",u(la,ka),la.prototype.name=\"AssertionError\";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+\" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(\"\"):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\\s\\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=\"\"}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function Ha(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ga.length;o++)n=Ga[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[\" \"](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[\" \"]=aa;var La=y(\"Opera\"),z=y(\"Trident\")||y(\"MSIE\"),Ma=y(\"Edge\"),Na=Ma||z,Oa=y(\"Gecko\")&&!(-1!=x.toLowerCase().indexOf(\"webkit\")&&!y(\"Edge\"))&&!(y(\"Trident\")||y(\"MSIE\"))&&!y(\"Edge\"),Pa=-1!=x.toLowerCase().indexOf(\"webkit\")&&!y(\"Edge\"),Ra,a;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa=\"\",Ta=(a=x,Oa?/rv:([^\\);]+)(\\)|;)/.exec(a):Ma?/Edge\\/([\\d\\.]+)/.exec(a):z?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a):Pa?/WebKit\\/(\\S+)/.exec(a):La?/(?:Version)[ \\/]?(\\S+)/.exec(a):void 0);if(Ta&&(Sa=Ta?Ta[1]:\"\"),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split(\".\"),r=ya(String(t)).split(\".\"),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||\"\",s=r[o]||\"\";do{if(a=/(\\d*)(\\D*)(.*)/.exec(a)||[\"\",\"\",\"\",\"\"],s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||(\"CSS1Compat\"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va(\"9\"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});return k.addEventListener(\"test\",aa,e),k.removeEventListener(\"test\",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:\"\"),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||\"\",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:\"touch\",3:\"pen\",4:\"mouse\"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db=\"closure_listenable_\"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Z&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}hb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ib(t,e,r,i);return-1<a?(e=t[a],n||(e.ba=!1)):((e=new fb(e,this.src,o,!!r,i)).ba=n,t.push(e)),e};var kb=\"closure_lm_\"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,i){if(r&&r.once)return ob(t,e,n,r,i);if(p(e)){for(var o=0;o<e.length;o++)nb(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!1,r,i)}function qb(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var a=ea(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new hb(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,i){if(p(e)){for(var o=0;o<e.length;o++)ob(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!0,r,i)}function vb(t,e,n,r,i){if(p(e))for(var o=0;o<e.length;o++)vb(t,e[o],n,r,i);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(o=t.a[e],n,r,i))&&(gb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,i)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if(\"number\"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]=\"on\"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Z&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n(\"window.event\");e=new bb(r,this);var i=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var a=xb(r[o],t,!0,e);i=i&&a}for(o=0;o<r.length;o++)e.a=r[o],a=xb(r[o],t,!1,e),i=i&&a}return i}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ra}function Bb(t){return!/^\\s*$/.test(t)&&/^[\\],:{}\\s\\u2028\\u2029]*$/.test(t.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\"))}function Cb(a){if(a=String(a),Bb(a))try{return eval(\"(\"+a+\")\")}catch(t){}throw Error(\"Invalid JSON string: \"+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join(\"\")}function Fb(){}function Eb(t,e,n){if(null==e)n.push(\"null\");else{if(\"object\"==typeof e){if(p(e)){var r=e;e=r.length,n.push(\"[\");for(var i=\"\",o=0;o<e;o++)n.push(i),Eb(t,r[o],n),i=\",\";return void n.push(\"]\")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push(\"{\"),i=\"\",e)Object.prototype.hasOwnProperty.call(e,r)&&\"function\"!=typeof(o=e[r])&&(n.push(i),Gb(r,n),n.push(\":\"),Eb(t,o,n),i=\",\");return void n.push(\"}\")}e=e.valueOf()}switch(typeof e){case\"string\":Gb(e,n);break;case\"number\":n.push(isFinite(e)&&!isNaN(e)?String(e):\"null\");break;case\"boolean\":n.push(String(e));break;case\"function\":n.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ha(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(i=Ab(a=t.a=n,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ab(a=t.a=e[o],r,!1,t)&&i;return i},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\v\":\"\\\\u000b\"},Ib=/\\uffff/.test(\"\\uffff\")?/[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;function Gb(t,e){e.push('\"',t.replace(Ib,function(t){var e=Hb[t];return e||(e=\"\\\\u\"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'\"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener&&!y(\"Presto\")&&(t=function(){var t=document.createElement(\"IFRAME\");t.style.display=\"none\",t.src=\"\",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(\"\"),t.close();var n=\"callImmediate\"+Math.random(),i=\"file:\"==e.location.protocol?\"*\":e.location.protocol+\"//\"+e.location.host;t=r(function(t){\"*\"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener(\"message\",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y(\"Trident\")&&!y(\"MSIE\")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return\"undefined\"!=typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(t){var e=document.createElement(\"SCRIPT\");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf(\"[native code]\")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y(\"Edge\")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent(\"tick\"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var i=0;i<n.length;i++){var o=nb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error(\"EventHandler.handleEvent not implemented\")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,i,o){\"number\"==typeof o||gc++,i||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C(\"SEVERE\",1e3),jc=new C(\"WARNING\",900),kc=new C(\"INFO\",800),lc=new C(\"CONFIG\",700),mc=new C(\"FINE\",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma(\"Root logger has no level set.\"),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(\"\"),oc[\"\"]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf(\".\"),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc(\"goog.labs.net.webChannel.WebChannelDebug\"),this.b=!0}function tc(t,e,n,r,i,o){F(t,function(){if(t.b)if(o)for(var a=\"\",s=o.split(\"&\"),u=0;u<s.length;u++){var l=s[u].split(\"=\");if(1<l.length){var c=l[0];l=l[1];var h=c.split(\"_\");a=2<=h.length&&\"type\"==h[1]?a+(c+\"=\")+l+\"&\":a+(c+\"=redacted&\")}}else a=null;else a=o;return\"XMLHTTP REQ (\"+r+\") [attempt \"+i+\"]: \"+e+\"\\n\"+n+\"\\n\"+a})}function uc(t,e,n,r,i,o,a){F(t,function(){return\"XMLHTTP RESP (\"+r+\") [ attempt \"+i+\"]: \"+e+\"\\n\"+n+\"\\n\"+o+\" \"+a})}function G(t,e,n,r){F(t,function(){return\"XMLHTTP TEXT (\"+e+\"): \"+vc(t,n)+(r?\" \"+r:\"\")})}function wc(t,e){F(t,function(){return\"TIMEOUT: \"+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||\"Exception\",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var i=n[r];if(!(2>i.length)){var o=i[1];if(p(o)&&!(1>o.length)){var a=o[0];if(\"noop\"!=a&&\"stop\"!=a&&\"close\"!=a)for(var s=1;s<o.length;s++)o[s]=\"\"}}}return Db(n)}catch(n){return H(t,\"Exception parsing expected JS array - probably was not JS\"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,\"serverreachability\",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,\"statevent\",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,\"timingevent\",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error(\"Fn must not be null and must be a function\");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:\"complete\",Gb:\"success\",Va:\"error\",Ua:\"abort\",Eb:\"ready\",Fb:\"readystatechange\",TIMEOUT:\"timeout\",Ab:\"incrementaldata\",Db:\"progress\",vb:\"downloadprogress\",Hb:\"uploadprogress\"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:\"a\",sb:\"b\",Va:\"c\",Bb:\"d\"},Oc;function Mc(){A.call(this,\"d\")}function Nc(){A.call(this,\"c\")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var e=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,this.S=new Xb(t=Na?125:void 0),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return\"Non-200 return code (\"+e+\")\";case 1:return\"XMLHTTP failure (no data)\";case 2:return\"HttpConnection timeout\";default:return\"Unknown error\"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,\"t\",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,\"readystatechange\",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o=\"POST\"),n[\"Content-Type\"]=\"application/x-www-form-urlencoded\",e.a.fa(e.g,e.o,e.l,n)):(e.o=\"GET\",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var i=t.a.W();t.C=i,(n=t.a.V())||H(t.b,function(){return\"No response text for uri \"+t.g+\" status \"+i}),t.f=200==i,uc(t.b,t.o,t.g,t.c,t.T,e,i),t.f?((r=cd(t))&&(G(t.b,t.c,r,\"Initial handshake response via X-HTTP-Initial-Response\"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==i&&0<n.indexOf(\"Unknown SID\")?(t.m=3,K(12),D(t.b.a,\"XMLHTTP Unknown SID (\"+t.c+\")\")):(t.m=0,K(13),D(t.b.a,\"XMLHTTP Bad status \"+i+\" (\"+t.c+\")\")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,\"X-HTTP-Initial-Response\"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var i=jd(t,n);if(i==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,\"[Incomplete Response]\");break}if(i==Tc){t.m=4,K(15),G(t.b,t.c,n,\"[Invalid Chunk]\"),r=!1;break}G(t.b,t.c,i,null),dd(t,i)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,\"[Invalid Chunked Response]\"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,\"tick\",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf(\"\\n\",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error(\"WatchDog timer not null\");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&\"function\"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,\"Error in httprequest callback\")}}function ld(t){if(t.A&&\"function\"==typeof t.A)return t.A();if(l(t))return t.split(\"\");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&\"function\"==typeof t.M)var n=t.M();else if(t.A&&\"function\"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Ea(t);i=(r=ld(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)P(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,\"Throttling readystatechange.\"),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,\"Called back with an unexpected xmlhttp\")}catch(t){if(H(this.b,\"Failed call to OnXmlHttpReadyStateChanged_\"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return\"ResponseText: \"+e.a.V()})}else xc(this.b,t,\"No response text\")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,\"Received watchdog timeout even though request loaded successfully\"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,\"WatchDog timer called too early\"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function rd(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r=t[n].indexOf(\"=\"),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\\+/g,\" \")):\"\")}}}function Q(t,e){var n;this.b=this.j=this.f=\"\",this.i=null,this.g=this.a=\"\",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||\"\",!0),this.j=xd(n[2]||\"\"),td(this,n[3]||\"\",!0),ud(this,n[4]),this.a=xd(n[5]||\"\",!0),vd(this,n[6]||\"\",!0),this.g=xd(n[7]||\"\")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,\"\"))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error(\"Bad port number \"+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,\"zx\",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var i=new Q(null,void 0);return t&&sd(i,t),e&&td(i,e),n&&ud(i,n),r&&(i.a=r),i}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),t):null}function Jd(t){return\"%\"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),\":\");var n=this.b;return(n||\"file\"==e)&&(t.push(\"//\"),(e=this.j)&&t.push(zd(e,Ad,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),null!=(n=this.i)&&t.push(\":\",String(n))),(n=this.a)&&(this.b&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(zd(n,\"/\"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push(\"?\",n),(n=this.g)&&t.push(\"#\",zd(n,Dd)),t.join(\"\")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if(\"/\"!=r.charAt(0))if(this.b&&!this.a)r=\"/\"+r;else{var i=e.a.lastIndexOf(\"/\");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(\"..\"==(i=r)||\".\"==i)r=\"\";else if(-1!=i.indexOf(\"./\")||-1!=i.indexOf(\"/.\")){r=0==i.lastIndexOf(\"/\",0),i=i.split(\"/\");for(var o=[],a=0;a<i.length;){var s=i[a++];\".\"==s?r&&a==i.length&&o.push(\"\"):\"..\"==s?((1<o.length||1==o.length&&\"\"!=o[0])&&o.pop(),r&&a==i.length&&o.push(\"\")):(o.push(s),r=!0)}r=o.join(\"/\")}else r=i}return n?e.a=r:n=\"\"!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\\/\\?@]/g,Cd=/[#\\?:]/g,Bd=/[#\\?]/g,Fd=/[#\\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\\+/g,\" \")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.A(r);for(var o=0;o<r.length;o++){var a=i;\"\"!==r[o]&&(a+=\"=\"+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join(\"&\")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,\"TestConnection: starting stage 2\");var e=t.a.I.a;if(null!=e)H(t.b,function(){return\"Buffered\"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,\"TYPE\",\"xmlhttp\");var r=t.a.j,i=t.a.K;r&&i&&R(n,r,i),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return\"object\"==e&&t||\"function\"==e?\"o\"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType(\"navigation\")).length&&(\"hq\"==t[0].nextHopProtocol||\"h2\"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,\"TestConnection: Got data for stage 1\"),!this.a.o&&(t=t.a)){var n=id(t,\"X-Client-Wire-Protocol\");this.l=n||null,this.a.j&&((t=id(t,\"X-HTTP-Session-Id\"))?this.a.K=t:D(this.b.a,\"Missing X_HTTP_SESSION_ID in the handshake response\"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=r[0]}else H(this.b,\"TestConnection: Null responseText\"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):\"11111\"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,\"Test connection succeeded; using streaming connection\"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,\"TestConnection: request complete for initial check\"),Sd(this)):1==this.P&&(H(this.b,\"TestConnection: request complete for stage 2\"),this.h?(H(this.b,\"Test connection succeeded; using streaming connection\"),K(11),Td(this.a,this,!0)):(H(this.b,\"Test connection failed; not using streaming\"),K(10),Td(this.a,this,!1))):(H(this.b,\"TestConnection: request failed, in state \"+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf(\"spdy\")&&-1==e.indexOf(\"quic\")&&-1==e.indexOf(\"h2\")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||\"\";try{md(t,function(t,n){var i=t;ea(t)&&(i=Db(t)),e.push(r+n+\"=\"+encodeURIComponent(i))})}catch(t){throw e.push(r+\"type=\"+encodeURIComponent(\"_badmap\")),t}}function le(t,e){var n=new sc;H(n,\"TestLoadImage: loading \"+t);var r=new Image;r.onload=ja(me,n,r,\"TestLoadImage: loaded\",!0,e),r.onerror=ja(me,n,r,\"TestLoadImage: error\",!1,e),r.onabort=ja(me,n,r,\"TestLoadImage: abort\",!1,e),r.ontimeout=ja(me,n,r,\"TestLoadImage: timeout\",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,i){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B=\"\",this.j=0,this.g=\"\",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne=\"\";T.prototype.b=qc(\"goog.net.XhrIo\");var oe=/^https?$/i,pe=[\"POST\",\"PUT\"];function se(t){return z&&Va(9)&&\"number\"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return\"content-type\"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent(\"complete\"),t.dispatchEvent(\"error\"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,\"Local request error detected and ignored\"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent(\"readystatechange\"),4==N(t)){E(t.b,U(t,\"Request complete\")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!oe.test(o?o.toLowerCase():\"\")}e=i}e?(t.dispatchEvent(\"complete\"),t.dispatchEvent(\"success\")):(t.j=6,t.g=t.Ha()+\" [\"+t.W()+\"]\",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent(\"ready\");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ic,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+\" [\"+t.K+\" \"+t.B+\" \"+t.W()+\"]\"}function we(t){var e=\"\";return Ca(t,function(t,n){e+=n,e+=\":\",e+=t,e+=\"\\r\\n\"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?\"=\"+encodeURIComponent(String(n)):\"\"){if(0>(n=t.indexOf(\"#\"))&&(n=t.length),0>(r=t.indexOf(\"?\"))||r>n){r=n;var i=\"\"}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+\"&\"+e:e:n,t=t[0]+(t[1]?\"?\"+t[1]:\"\")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n(\"internalChannelParams.failFast\",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n(\"internalChannelParams.baseRetryDelayMs\",t)||5e3,this.$a=n(\"internalChannelParams.retryDelaySeedMs\",t)||1e4,this.Ya=n(\"internalChannelParams.forwardChannelMaxRetries\",t)||2,this.wa=n(\"internalChannelParams.forwardChannelRequestTimeoutMs\",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J=\"\",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,\"Force backgroundChannelTest when fastHandshake is enabled.\"),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,\"disconnect()\"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,\"SID\",e.J),R(r,\"RID\",n),R(r,\"TYPE\",\"terminate\"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),\"\")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return\"Already have 1000 queued maps upon queueing \"+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,\"Unexpected retry request is scheduled.\"),!1):t.m?(H(t.a,\"Use the retry request that is already scheduled.\"),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,\"Going to retry POST\"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,\"SID\",t.J),R(r,\"RID\",n),R(r,\"AID\",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.ab,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=[\"count=\"+n];-1==a?0<n?s.push(\"ofs=\"+(a=o[0].a)):a=0:s.push(\"ofs=\"+a);for(var u=!0,l=0;l<n;l++){var c=o[l].a,h=o[l].b;if(0>(c-=a))a=Math.max(0,o[l].a-100),u=!1;else try{ke(h,s,\"req\"+c+\"_\")}catch(t){i&&i(h)}}if(u){i=s.join(\"&\");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,\"Request already in progress\"),!1):!(3<=t.B||(H(t.a,\"Going to retry GET\"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,\"Test Connection Finished\");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,\"connectChannel_()\"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,\"Test Connection Failed\"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,\"Inactive channel\"),n*=2),n*e}function V(t,e){if(F(t.a,\"Error code \"+e),2==e){var n=null;t.f&&(n=null);var i=r(t.pb,t);n||(n=new Q(\"//www.google.com/images/cleardot.gif\"),k.location&&\"http\"==k.location.protocol||sd(n,\"https\"),Wc(n)),le(n.toString(),i)}else K(2);H(t.a,\"HttpChannel: error - \"+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return\"Number of undelivered maps, pending: \"+e.length+\", outgoing: \"+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,\"GetForwardChannelUri: \"+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,\"GetBackChannelUri: \"+e),e}function Ne(t,e,n){var r=Hd(n);if(\"\"!=r.b)e&&td(r,e+\".\"+r.b),ud(r,r.i);else{var i=k.location;r=Id(i.protocol,e?e+\".\"+i.hostname:i.hostname,i.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),n=t.K,(e=t.j)&&n&&R(r,e,n),R(r,\"VER\",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf(\"/\",0)?e=i:((r=\"\"==e)||(r=0<=(r=e.length-1)&&e.indexOf(\"/\",r)==r),e+=r?i:\"/\"+i)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error(\"Environmental error: no available transport.\")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,\"test\"),this.c=qc(\"goog.labs.net.webChannel.WebChannelBaseTransport\"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t[\"X-Client-Protocol\"]=\"webchannel\":t={\"X-Client-Protocol\":\"webchannel\"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t[\"X-WebChannel-Content-Type\"]=e.messageContentType:t={\"X-WebChannel-Content-Type\":e.messageContentType}),e&&e.Ea&&(t?t[\"X-WebChannel-Client-Profile\"]=e.Ea:t={\"X-WebChannel-Client-Profile\":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,\"Ignore httpSessionIdParam also specified with messageUrlParams: \"+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.B+\"; newUri=\"+t);e=e?e.toUpperCase():\"GET\",this.B=t,this.g=\"\",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,\"Opening Xhr\")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,\"Error opening Xhr: \"+t.message)),void qe(this,t)}t=n||\"\";var o=new O(this.headers);i&&md(i,function(t,e){o.set(e,t)}),i=sa(o.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||i||n||o.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),\"withCredentials\"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,\"Will abort after \"+this.l+\"ms if incomplete, xhr2 \"+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,\"Sending request\")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,\"Send error: \"+t.message)),qe(this,t)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g=\"Timed out after \"+this.l+\"ms, aborting\",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent(\"timeout\"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,\"Aborting\")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:\"\"}catch(t){return E(this.b,\"Can not get status: \"+t.message),\"\"}},g.V=function(){try{return this.a?this.a.responseText:\"\"}catch(t){return E(this.b,\"Can not get responseText: \"+t.message),\"\"}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,\"startForwardChannel_\"),1==this.F)if(t)J(this.a,\"Not supposed to retry the open\");else{H(this.a,\"open_()\"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),i=M(this.D);R(i,\"RID\",t),R(i,\"CVER\",22),this.o&&this.j&&R(i,\"X-HTTP-Session-Id\",this.j),Be(this,i),this.h&&n&&xe(i,this.h,n),ce(this.c,e),this.va?(R(i,\"$req\",r),R(i,\"SID\",\"null\"),e.X=!0,Vc(e,i,null)):Vc(e,i,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,\"startForwardChannel_ returned: nothing to send\"):de(this.c)?J(this.a,\"startForwardChannel_ returned: connection already in progress\"):(Je(this),H(this.a,\"startForwardChannel_ finished, sent request\")))},g.Pa=function(){this.l=null,H(this.a,\"Creating new HttpRequest\"),this.b=new L(this,this.a,\"rpc\",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,\"RID\",\"rpc\"),R(t,\"SID\",this.J),R(t,\"CI\",this.ka?\"0\":\"1\"),R(t,\"AID\",this.N),Be(this,t),R(t,\"TYPE\",\"xmlhttp\"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,\"New Request created\")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,\"Server claims our backchannel is missing.\"),this.l)H(this.a,\"But we are currently starting the request.\");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,\"We do not have a BackChannel established\");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(H(this.a,(e=e[2])+\" bytes (in \"+t+\" arrays) are outstanding on the BackChannel\"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,\"Bad POST response data returned\"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.N=i[0],i=i[1],2==this.F)if(\"c\"==i[0]){this.J=i[1],this.X=i[2];var o=i[3];null!=o&&(this.na=o,F(this.a,\"VER=\"+this.na)),null!=(o=i[4])&&(this.ya=o,F(this.a,\"SVER=\"+this.ya)),null!=(i=i[5])&&\"number\"==typeof i&&0<i&&(this.G=i*=1.5,F(this.a,\"backChannelRequestTimeoutMs_=\"+i)),this.o&&(i=t.a)&&((o=id(i,\"X-Client-Wire-Protocol\"))&&be(this.c,o),this.j&&((i=id(i,\"X-HTTP-Session-Id\"))?(this.K=i,R(this.D,this.j,i)):D(this.a.a,\"Missing X_HTTP_SESSION_ID in the handshake response\"))),this.F=3,this.f&&this.f.Da(),i=t,this.ua=Ud(this,this.X,this.ja),i.v?(H(this.a,\"Upgrade the handshake request to a backchannel.\"),fe(this.c,i),(o=this.G)&&i.setTimeout(o),i.s&&(bd(i),Zc(i)),this.b=i):Ke(this)}else\"stop\"!=i[0]&&\"close\"!=i[0]||V(this,7);else 3==this.F&&(\"stop\"==i[0]||\"close\"==i[0]?\"stop\"==i[0]?V(this,7):ze(this):\"noop\"!=i[0]&&this.f&&this.f.Ca(i),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,\"Request complete\");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var i=e.m;if(3==i||0==i&&0<this.u)H(this.a,\"Not retrying due to error type\");else{var o=this;if(H(this.a,function(){return\"Maybe retrying, last error: \"+Sc(i,o.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,\"Exceeded max number of retries\")}switch(n&&0<n.length&&he(this.c,n),H(this.a,\"Error: HTTP request failed\"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,\"Successfully pinged google.com\"),K(2)):(F(this.a,\"Failed to ping google.com\"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error(\"Can't create secondary domain capable XhrIo object.\");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,\"connect()\"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,\"connect() bypassed channel-test.\"),t.I.b=[],t.I.a=!1),H(t.a,\"connectTest_()\"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,\"MODE\",\"init\"),!t.a.o&&t.a.j&&$c(e,\"X-HTTP-Session-Id\",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,\"WebChannel opened on \"+this.a.b),this.a.dispatchEvent(\"a\")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,\"WebChannel aborted on \"+this.a.b+\" due to channel error: \"+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,\"WebChannel closed on \"+this.a.b),this.a.dispatchEvent(\"b\")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze=\"[goog.structs.Pool] Min can not be greater than max\";function af(t){if(\"function\"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return\"function\"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error(\"[goog.structs.Pool] Objects not released\");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)ua(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE=\"complete\",Kc.EventType=Lc,Lc.OPEN=\"a\",Lc.CLOSE=\"b\",Lc.ERROR=\"c\",Lc.MESSAGE=\"d\",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call(\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},LOEa:function(t,e,n){(function(){var t,e=n(\"wj3C\").default,r=r||{},i=this;function o(t){return\"string\"==typeof t}function a(t){return\"boolean\"==typeof t}function s(){}function u(t){var e=typeof t;if(\"object\"==e){if(!t)return\"null\";if(t instanceof Array)return\"array\";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if(\"[object Window]\"==n)return\"object\";if(\"[object Array]\"==n||\"number\"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==e&&void 0===t.call)return\"object\";return e}function l(t){return null===t}function c(t){return\"array\"==u(t)}function h(t){var e=u(t);return\"array\"==e||\"object\"==e&&\"number\"==typeof t.length}function f(t){return\"function\"==u(t)}function p(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}var d=\"closure_uid_\"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?m:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function T(t,e){for(var n=\"\",r=(t=t.split(\"%s\")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:\"%s\");C.call(this,n+t[r])}function I(t,e){throw new T(\"Failure\"+(t?\": \"+t:\"\"),Array.prototype.slice.call(arguments,1))}function k(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function A(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}_(C,Error),C.prototype.name=\"CustomError\",_(T,C),T.prototype.name=\"AssertionError\",k.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var N=new k(function(){return new P},function(t){t.reset()});function x(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function P(){this.next=this.b=this.a=null}O.prototype.add=function(t,e){var n=N.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},P.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(o(t))return o(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=o(t)?t.split(\"\"):t,a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)},M=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=o(t)?t.split(\"\"):t,a=0;a<n;a++)a in i&&(r[a]=e.call(void 0,i[a],a,t));return r},L=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=o(t)?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function V(t,e){return 0<=R(t,e)}function F(t,e){var n;return(n=0<=(e=R(t,e)))&&Array.prototype.splice.call(t,e,1),n}function j(t,e){!function(t,e){var n=t.length,r=o(t)?t.split(\"\"):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function U(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t,e){for(var n=t.split(\"%s\"),r=\"\",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join(\"%s\")}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]};function W(t){return Z.test(t)?(-1!=t.indexOf(\"&\")&&(t=t.replace(K,\"&amp;\")),-1!=t.indexOf(\"<\")&&(t=t.replace(z,\"&lt;\")),-1!=t.indexOf(\">\")&&(t=t.replace(Q,\"&gt;\")),-1!=t.indexOf('\"')&&(t=t.replace(X,\"&quot;\")),-1!=t.indexOf(\"'\")&&(t=t.replace(Y,\"&#39;\")),-1!=t.indexOf(\"\\0\")&&(t=t.replace(J,\"&#0;\")),t):t}var G,K=/&/g,z=/</g,Q=/>/g,X=/\"/g,Y=/'/g,J=/\\x00/g,Z=/[\\x00&<>\"']/;function $(t,e){return-1!=t.indexOf(e)}function tt(t,e){return t<e?-1:t>e?1:0}t:{var et=i.navigator;if(et){var nt=et.userAgent;if(nt){G=nt;break t}}G=\"\"}function rt(t){return $(G,t)}function it(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ot(t){for(var e in t)return!1;return!0}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var st,ut,lt=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<lt.length;o++)n=lt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){i.setTimeout(function(){throw t},0)}function ft(t,e){ut||function(){if(i.Promise&&i.Promise.resolve){var t=i.Promise.resolve(void 0);ut=function(){t.then(yt)}}else ut=function(){var t=yt;!f(i.setImmediate)||i.Window&&i.Window.prototype&&!rt(\"Edge\")&&i.Window.prototype.setImmediate==i.setImmediate?(st||(st=function(){var t=i.MessageChannel;if(void 0===t&&\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener&&!rt(\"Presto\")&&(t=function(){var t=document.createElement(\"IFRAME\");t.style.display=\"none\",t.src=\"\",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(\"\"),t.close();var n=\"callImmediate\"+Math.random(),r=\"file:\"==e.location.protocol?\"*\":e.location.protocol+\"//\"+e.location.host;t=v(function(t){\"*\"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener(\"message\",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!rt(\"Trident\")&&!rt(\"MSIE\")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).tb;n.tb=null,t()}},function(t){r.next={tb:t},r=r.next,e.port2.postMessage(0)}}return\"undefined\"!=typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(t){var e=document.createElement(\"SCRIPT\");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){i.setTimeout(t,0)}}()),st(t)):i.setImmediate(t)}}(),pt||(ut(),pt=!0),dt.add(t,e)}var pt=!1,dt=new O;function yt(){for(var t;t=x();){try{t.a.call(t.b)}catch(t){ht(t)}A(N,t)}pt=!1}function mt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){At(n,vt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error(\"Promise rejected.\")}catch(t){}At(n,bt,t)})}catch(t){At(this,bt,t)}}var gt=0,vt=2,bt=3;function wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new k(function(){return new wt},function(t){t.reset()});function Et(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function St(t){if(t instanceof mt)return t;var e=new mt(s);return At(e,vt,t),e}function Ct(t){return new mt(function(e,n){n(t)})}function Tt(t,e,n){Ot(t,e,n,null)||ft(b(e,t))}function It(t,e){t.b||t.a!=vt&&t.a!=bt||Nt(t),t.f?t.f.next=e:t.b=e,t.f=e}function kt(t,e,n,r){var i=Et(null,null,null);return i.a=new mt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,It(t,i),i.a}function At(t,e,n){t.a==gt&&(t===n&&(e=bt,n=new TypeError(\"Promise cannot resolve to itself\")),t.a=1,Ot(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Nt(t),e!=bt||n instanceof Mt||function(t,e){t.g=!0,ft(function(){t.g&&Dt.call(null,e)})}(t,n)))}function Ot(t,e,n,r){if(t instanceof mt)return It(t,Et(e||s,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Nt(t){t.h||(t.h=!0,ft(t.Ub,t))}function xt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Pt(t,e,n,r){if(n==bt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Rt(e,n,r);else try{e.c?e.g.call(e.f):Rt(e,n,r)}catch(t){Dt.call(null,t)}A(_t,e)}function Rt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}mt.prototype.then=function(t,e,n){return kt(this,f(t)?t:null,f(e)?e:null,n)},E(mt),(t=mt.prototype).ia=function(t,e){return(t=Et(t,t,e)).c=!0,It(this,t),this},t.s=function(t,e){return kt(this,null,t,e)},t.cancel=function(t){this.a==gt&&ft(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Pt(r,o,bt,n)))}e.c=null}else At(e,bt,n)}(this,new Mt(t))},this)},t.Lc=function(t){this.a=gt,At(this,vt,t)},t.Mc=function(t){this.a=gt,At(this,bt,t)},t.Ub=function(){for(var t;t=xt(this);)Pt(this,t,this.a,this.i);this.h=!1};var Dt=ht;function Mt(t){C.call(this,t)}function Lt(){0!=Vt&&(Ft[this[d]||(this[d]=++y)]=this),this.pa=this.pa,this.ja=this.ja}_(Mt,C),Mt.prototype.name=\"cancel\";var Vt=0,Ft={};function jt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Vt)){var e=t[d]||(t[d]=++y);if(0!=Vt&&t.ja&&0<t.ja.length)throw Error(t+\" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");delete Ft[e]}}function Ut(t){return Ut[\" \"](t),t}Lt.prototype.pa=!1,Lt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ut[\" \"]=s;var Bt,qt,Ht=rt(\"Opera\"),Wt=rt(\"Trident\")||rt(\"MSIE\"),Gt=rt(\"Edge\"),Kt=Gt||Wt,zt=rt(\"Gecko\")&&!($(G.toLowerCase(),\"webkit\")&&!rt(\"Edge\"))&&!(rt(\"Trident\")||rt(\"MSIE\"))&&!rt(\"Edge\"),Qt=$(G.toLowerCase(),\"webkit\")&&!rt(\"Edge\");function Xt(){var t=i.document;return t?t.documentMode:void 0}t:{var Yt=\"\",Jt=(qt=G,zt?/rv:([^\\);]+)(\\)|;)/.exec(qt):Gt?/Edge\\/([\\d\\.]+)/.exec(qt):Wt?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(qt):Qt?/WebKit\\/(\\S+)/.exec(qt):Ht?/(?:Version)[ \\/]?(\\S+)/.exec(qt):void 0);if(Jt&&(Yt=Jt?Jt[1]:\"\"),Wt){var Zt=Xt();if(null!=Zt&&Zt>parseFloat(Yt)){Bt=String(Zt);break t}}Bt=Yt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=H(String(Bt)).split(\".\"),r=H(String(t)).split(\".\"),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||\"\",s=r[o]||\"\";do{if(a=/(\\d*)(\\D*)(.*)/.exec(a)||[\"\",\"\",\"\",\"\"],s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],0==a[0].length&&0==s[0].length)break;e=tt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||tt(0==a[2].length,0==s[2].length)||tt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=i.document;$t=ne&&Wt?Xt()||(\"CSS1Compat\"==ne.compatMode?parseInt(Bt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!Wt||9<=Number($t),oe=Wt&&!ee(\"9\"),ae=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});return i.addEventListener(\"test\",s,e),i.removeEventListener(\"test\",s,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Gb=!0}function ue(t,e){if(se.call(this,t?t.type:\"\"),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(zt){t:{try{Ut(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=o(t.pointerType)?t.pointerType:le[t.pointerType]||\"\",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Gb=!1},_(ue,se);var le=re({2:\"touch\",3:\"pen\",4:\"mouse\"});ue.prototype.preventDefault=function(){ue.lb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.f=function(){return this.a};var ce=\"closure_listenable_\"+(1e6*Math.random()|0),he=0;function fe(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function pe(t){this.src=t,this.a={},this.b=0}function de(t,e){var n=e.type;n in t.a&&F(t.a[n],e)&&(fe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++he,this.na=this.Ia=!1}(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var me=\"closure_lm_\"+(1e6*Math.random()|0),ge={};function ve(t,e,n,r,i){if(r&&r.once)we(t,e,n,r,i);else if(c(e))for(var o=0;o<e.length;o++)ve(t,e[o],n,r,i);else n=Oe(n),t&&t[ce]?xe(t,e,n,p(r)?!!r.capture:!!r,i):be(t,e,n,!1,r,i)}function be(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var a=p(i)?!!i.capture:!!i,s=ke(t);if(s||(t[me]=s=new pe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Ie,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Se(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}}function we(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else n=Oe(n),t&&t[ce]?Pe(t,e,n,p(r)?!!r.capture:!!r,i):be(t,e,n,!0,r,i)}function _e(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Oe(n),t&&t[ce]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=ye(o=t.a[e],n,r,i))&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ke(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ye(e,n,r,i)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if(\"number\"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[ce])de(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Se(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ke(e))?(de(n,t),0==n.b&&(n.src=null,e[me]=null)):fe(t)}}}function Se(t){return t in ge?ge[t]:ge[t]=\"on\"+t}function Ce(t,e,n,r){var i=!0;if((t=ke(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Te(o,r),i=i&&!1!==o)}return i}function Te(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&Ee(t),n.call(r,e)}function Ie(t,e){if(t.na)return!0;if(!ie){if(!e)t:{e=[\"window\",\"event\"];for(var n=i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ue(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var a=Ce(r[o],t,!0,e);n=n&&a}for(o=0;o<r.length;o++)e.b=r[o],a=Ce(r[o],t,!1,e),n=n&&a}return n}return Te(t,new ue(e,this))}function ke(t){return(t=t[me])instanceof pe?t:null}var Ae=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function Oe(t){return f(t)?t:(t[Ae]||(t[Ae]=function(e){return t.handleEvent(e)}),t[Ae])}function Ne(){Lt.call(this),this.m=new pe(this),this.Nb=this,this.Ua=null}function xe(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Pe(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Re(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&de(t.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Gb}function De(t,e,n){if(f(t))n&&(t=v(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function Me(t){var e=null;return new mt(function(n,r){-1==(e=De(function(){n(void 0)},t))&&r(Error(\"Failed to schedule timer.\"))}).s(function(t){throw i.clearTimeout(e),t})}function Le(t){if(t.S&&\"function\"==typeof t.S)return t.S();if(o(t))return t.split(\"\");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ve(t){if(t.U&&\"function\"==typeof t.U)return t.U();if(!t.S||\"function\"!=typeof t.S){if(h(t)||o(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function je(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ue(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ue(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ne,Lt),Ne.prototype[ce]=!0,Ne.prototype.addEventListener=function(t,e,n,r){ve(this,t,e,n,r)},Ne.prototype.removeEventListener=function(t,e,n,r){_e(this,t,e,n,r)},Ne.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Nb;var r=t.type||t;if(o(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var i=t;ct(t=new se(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];i=Re(s,r,!0,t)&&i}if(i=Re(s=t.b=n,r,!0,t)&&i,i=Re(s,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=Re(s=t.b=e[a],r,!1,t)&&i;return i},Ne.prototype.ua=function(){if(Ne.lb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fe(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=Fe.prototype).S=function(){je(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return je(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ue(this.b,t)?this.b[t]:e},t.set=function(t,e){Ue(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function qe(t,e){if(this.b=this.m=this.c=\"\",this.i=null,this.h=this.g=\"\",this.f=!1,t instanceof qe){this.f=void 0!==e?e:t.f,He(this,t.c),this.m=t.m,this.b=t.b,We(this,t.i),this.g=t.g,e=t.a;var n=new on;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),Ge(this,n),this.h=t.h}else t&&(n=String(t).match(Be))?(this.f=!!e,He(this,n[1]||\"\",!0),this.m=Ye(n[2]||\"\"),this.b=Ye(n[3]||\"\",!0),We(this,n[4]),this.g=Ye(n[5]||\"\",!0),Ge(this,n[6]||\"\",!0),this.h=Ye(n[7]||\"\")):(this.f=!!e,this.a=new on(null,this.f))}function He(t,e,n){t.c=n?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,\"\"))}function We(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error(\"Bad port number \"+e);t.i=e}else t.i=null}function Ge(t,e,n){e instanceof on?(t.a=e,function(t,e){e&&!t.f&&(an(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),cn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Je(e,nn)),t.a=new on(e,t.f))}function Ke(t,e,n){t.a.set(e,n)}function ze(t,e){return t.a.get(e)}function Qe(t){return t instanceof qe?new qe(t):new qe(t,void 0)}function Xe(t,e){var n=new qe(null,void 0);return He(n,\"https\"),t&&(n.b=t),e&&(n.g=e),n}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function Je(t,e,n){return o(t)?(t=encodeURI(t).replace(e,Ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),t):null}function Ze(t){return\"%\"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qe.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Je(e,$e,!0),\":\");var n=this.b;return(n||\"file\"==e)&&(t.push(\"//\"),(e=this.m)&&t.push(Je(e,$e,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),null!=(n=this.i)&&t.push(\":\",String(n))),(n=this.g)&&(this.b&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(Je(n,\"/\"==n.charAt(0)?en:tn,!0))),(n=this.a.toString())&&t.push(\"?\",n),(n=this.h)&&t.push(\"#\",Je(n,rn)),t.join(\"\")};var $e=/[#\\/\\?@]/g,tn=/[#\\?:]/g,en=/[#\\?]/g,nn=/[#\\?@]/g,rn=/#/g;function on(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function an(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r=t[n].indexOf(\"=\"),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\\+/g,\" \")):\"\")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\\+/g,\" \")),n)}))}function sn(t){var e=Ve(t);if(void 0===e)throw Error(\"Keys are undefined\");var n=new on(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];c(o)?cn(n,i,o):n.add(i,o)}return n}function un(t,e){an(t),e=hn(t,e),Ue(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ue((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&je(t)))}function ln(t,e){return an(t),e=hn(t,e),Ue(t.a.b,e)}function cn(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),B(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=on.prototype).add=function(t,e){an(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){an(this),this.a.forEach(function(n,r){D(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){an(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){an(this);var e=[];if(o(t))ln(this,t)&&(e=U(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=U(e,t[n])}return e},t.set=function(t,e){return an(this),this.c=null,ln(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;\"\"!==r[o]&&(a+=\"=\"+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join(\"&\")};var fn=!Wt||9<=Number($t);function pn(){this.a=\"\",this.b=yn}function dn(t){return t instanceof pn&&t.constructor===pn&&t.b===yn?t.a:(I(\"expected object of type Const, got '\"+t+\"'\"),\"type_error:Const\")}pn.prototype.ma=!0,pn.prototype.la=function(){return this.a},pn.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};var yn={};function mn(t){var e=new pn;return e.a=t,e}function gn(){this.a=\"\",this.b=En}function vn(t){return t instanceof gn&&t.constructor===gn&&t.b===En?t.a:(I(\"expected object of type TrustedResourceUrl, got '\"+t+\"' of type \"+u(t)),\"type_error:TrustedResourceUrl\")}function bn(t,e){var n=dn(t);if(!_n.test(n))throw Error(\"Invalid TrustedResourceUrl format: \"+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(wn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, \"'+r+'\", in format string, \"'+n+'\", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pn?dn(t):encodeURIComponent(String(t))}))}mn(\"\"),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.a+\"}\"};var wn=/%{(\\w+)}/g,_n=/^(?:https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|^\\/[^\\/\\\\]|^about:blank#/i,En={};function Sn(){this.a=\"\",this.b=kn}function Cn(t){return t instanceof Sn&&t.constructor===Sn&&t.b===kn?t.a:(I(\"expected object of type SafeUrl, got '\"+t+\"' of type \"+u(t)),\"type_error:SafeUrl\")}Sn.prototype.ma=!0,Sn.prototype.la=function(){return this.a},Sn.prototype.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};var Tn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function In(t){return t instanceof Sn?t:(t=t.ma?t.la():String(t),Tn.test(t)||(t=\"about:invalid#zClosurez\"),An(t))}var kn={};function An(t){var e=new Sn;return e.a=t,e}function On(){this.a=\"\",this.b=Nn}An(\"about:blank\"),On.prototype.ma=!0,On.prototype.la=function(){return this.a},On.prototype.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};var Nn={};function xn(t){var e=new On;return e.a=t,e}function Pn(t){var e=document;return o(t)?e.getElementById(t):t}function Rn(t,e){it(e,function(e,n){e&&e.ma&&(e=e.la()),\"style\"==n?t.style.cssText=e:\"class\"==n?t.className=e:\"for\"==n?t.htmlFor=e:Dn.hasOwnProperty(n)?t.setAttribute(Dn[n],e):0==n.lastIndexOf(\"aria-\",0)||0==n.lastIndexOf(\"data-\",0)?t.setAttribute(n,e):t[n]=e})}xn(\"<!DOCTYPE html>\"),xn(\"\"),xn(\"<br>\");var Dn={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",nonce:\"nonce\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};function Mn(t){if(t&&\"number\"==typeof t.length){if(p(t))return\"function\"==typeof t.item||\"string\"==typeof t.item;if(f(t))return\"function\"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push(\"null\");else{if(\"object\"==typeof n){if(c(n)){var i=n;n=i.length,r.push(\"[\");for(var o=\"\",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=\",\";return void r.push(\"]\")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push(\"{\"),o=\"\",n)Object.prototype.hasOwnProperty.call(n,i)&&\"function\"!=typeof(a=n[i])&&(r.push(o),jn(i,r),r.push(\":\"),t(e,a,r),o=\",\");return void r.push(\"}\")}n=n.valueOf()}switch(typeof n){case\"string\":jn(n,r);break;case\"number\":r.push(isFinite(n)&&!isNaN(n)?String(n):\"null\");break;case\"boolean\":r.push(String(n));break;case\"function\":r.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof n)}}}(new function(){},t,e),e.join(\"\")}var Vn={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\v\":\"\\\\u000b\"},Fn=/\\uffff/.test(\"\\uffff\")?/[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;function jn(t,e){e.push('\"',t.replace(Fn,function(t){var e=Vn[t];return e||(e=\"\\\\u\"+(65536|t.charCodeAt(0)).toString(16).substr(1),Vn[t]=e),e}),'\"')}function Un(){var t=ir();return Wt&&!!$t&&11==$t||/Edge\\/\\d+/.test(t)}function Bn(){return i.window&&i.window.location.href||self&&self.location&&self.location.href||\"\"}function qn(t,e){e=e||i.window;var n=\"about:blank\";t&&(n=Cn(In(t))),e.location.href=n}function Hn(t){return!!((t=(t||ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Wn(t){t=t||i.window;try{t.close()}catch(t){}}function Gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(e.target=r,$(n,\"crios/\")&&(e.target=\"_blank\")),er(ir())==$n&&(t=t||\"http://localhost\",e.scrollbars=!0),n=t||\"\",(t=e)||(t={}),r=window,e=n instanceof Sn?n:In(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case\"width\":case\"height\":case\"top\":case\"left\":i.push(a+\"=\"+t[a]);break;case\"target\":case\"noopener\":case\"noreferrer\":break;default:i.push(a+\"=\"+(t[a]?1:0))}var a=i.join(\",\");if((rt(\"iPhone\")&&!rt(\"iPod\")&&!rt(\"iPad\")||rt(\"iPad\")||rt(\"iPod\"))&&r.navigator&&r.navigator.standalone&&n&&\"_self\"!=n?(a=r.document.createElement(\"A\"),e instanceof Sn||e instanceof Sn||(e=e.ma?e.la():String(e),Tn.test(e)||(e=\"about:invalid#zClosurez\"),e=An(e)),a.href=Cn(e),a.setAttribute(\"target\",n),t.noreferrer&&a.setAttribute(\"rel\",\"noreferrer\"),(t=document.createEvent(\"MouseEvent\")).initMouseEvent(\"click\",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open(\"\",n,a),t=Cn(e),a&&(Kt&&$(t,\";\")&&(t=\"'\"+t.replace(/'/g,\"%27\")+\"'\"),a.opener=null,mn(\"b/12014412, meta tag with sanitized URL\"),t=xn(t='<meta name=\"referrer\" content=\"no-referrer\"><meta http-equiv=\"refresh\" content=\"0; url='+W(t)+'\">'),a.document.write(function(t){return t instanceof On&&t.constructor===On&&t.b===Nn?t.a:(I(\"expected object of type SafeHtml, got '\"+t+\"' of type \"+u(t)),\"type_error:SafeHtml\")}(t)),a.document.close())):(a=r.open(Cn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Kn=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;function zn(){var t=null;return new mt(function(e){\"complete\"==i.document.readyState?e():(t=function(){e()},we(window,\"load\",t))}).s(function(e){throw _e(window,\"load\",t),e})}function Qn(t){return t=t||ir(),!(\"file:\"!==lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){var t=i.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Yn(){return\"object\"!=typeof i.window&&\"function\"==typeof i.importScripts}function Jn(){return e.INTERNAL.hasOwnProperty(\"reactNative\")?\"ReactNative\":e.INTERNAL.hasOwnProperty(\"node\")?\"Node\":Yn()?\"Worker\":\"Browser\"}function Zn(){var t=Jn();return\"ReactNative\"===t||\"Node\"===t}var $n=\"Firefox\",tr=\"Chrome\";function er(t){var e=t.toLowerCase();return $(e,\"opera/\")||$(e,\"opr/\")||$(e,\"opios/\")?\"Opera\":$(e,\"iemobile\")?\"IEMobile\":$(e,\"msie\")||$(e,\"trident/\")?\"IE\":$(e,\"edge/\")?\"Edge\":$(e,\"firefox/\")?$n:$(e,\"silk/\")?\"Silk\":$(e,\"blackberry\")?\"Blackberry\":$(e,\"webos\")?\"Webos\":!$(e,\"safari/\")||$(e,\"chrome/\")||$(e,\"crios/\")||$(e,\"android\")?!$(e,\"chrome/\")&&!$(e,\"crios/\")||$(e,\"edge/\")?$(e,\"android\")?\"Android\":(t=t.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/))&&2==t.length?t[1]:\"Other\":tr:\"Safari\"}var nr={Sc:\"FirebaseCore-web\",Uc:\"FirebaseUI-web\"};function rr(t,e){e=e||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=[\"FirebaseCore-web\"]),\"Browser\"===(r=Jn())?r=er(i=ir()):\"Worker\"===r&&(r=er(i=ir())+\"-\"+r),r+\"/JsCore/\"+t+\"/\"+e.join(\",\")}function ir(){return i.navigator&&i.navigator.userAgent||\"\"}function or(t,e){t=t.split(\".\"),e=e||i;for(var n=0;n<t.length&&\"object\"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ar(){try{var t=i.localStorage,e=dr();if(t)return t.setItem(e,\"1\"),t.removeItem(e),!Un()||!!i.indexedDB}catch(t){return Yn()&&!!i.indexedDB}return!1}function sr(){return(ur()||\"chrome-extension:\"===lr()||Qn())&&!Zn()&&ar()&&!Yn()}function ur(){return\"http:\"===lr()||\"https:\"===lr()}function lr(){return i.location&&i.location.protocol||null}function cr(t){return!Hn(t=t||ir())&&er(t)!=$n}function hr(t){return void 0===t?null:Ln(t)}function fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function pr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||Math.floor(1e9*Math.random()).toString()}function yr(t){return\"Safari\"!=er(t=t||ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mr(){var t=i.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function gr(t,e){if(t>e)throw Error(\"Short delay should be less than long delay!\");this.a=t,this.c=e,t=ir(),e=Jn(),this.b=Hn(t)||\"ReactNative\"===e}function vr(){var t=i.document;return!t||void 0===t.visibilityState||\"visible\"==t.visibilityState}function br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function wr(){return!(!or(\"fireauth.oauthhelper\",i)&&!or(\"fireauth.iframe\",i))}gr.prototype.get=function(){var t=i.navigator;return!t||\"boolean\"!=typeof t.onLine||!ur()&&\"chrome-extension:\"!==lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,Er={};function Sr(t){Er[t]||(Er[t]=!0,\"undefined\"!=typeof console&&\"function\"==typeof console.warn&&console.warn(t))}try{var Cr={};Object.defineProperty(Cr,\"abcd\",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Cr,\"abcd\",{configurable:!0,enumerable:!0,value:2}),_r=2==Cr.abcd}catch(qt){_r=!1}function Tr(t,e,n){_r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ir(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function kr(t){var e={};return Ir(e,t),e}function Ar(t){var e=t;if(\"object\"==typeof t&&null!=t)for(var n in e=\"length\"in t?[]:{},t)Tr(e,n,Ar(t[n]));return e}function Or(t,e){this.code=xr+t,this.message=e||Pr[t]||\"\"}function Nr(t){var e=t&&t.code;return e?new Or(e.substring(xr.length),t.message):null}_(Or,Error),Or.prototype.D=function(){return{code:this.code,message:this.message}},Or.prototype.toJSON=function(){return this.D()};var xr=\"auth/\",Pr={\"argument-error\":\"\",\"app-not-authorized\":\"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.\",\"app-not-installed\":\"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.\",\"captcha-check-failed\":\"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.\",\"code-expired\":\"The SMS code has expired. Please re-send the verification code to try again.\",\"cordova-not-ready\":\"Cordova framework is not ready.\",\"cors-unsupported\":\"This browser is not supported.\",\"credential-already-in-use\":\"This credential is already associated with a different user account.\",\"custom-token-mismatch\":\"The custom token corresponds to a different audience.\",\"requires-recent-login\":\"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\",\"dynamic-link-not-activated\":\"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.\",\"email-already-in-use\":\"The email address is already in use by another account.\",\"expired-action-code\":\"The action code has expired. \",\"cancelled-popup-request\":\"This operation has been cancelled due to another conflicting popup being opened.\",\"internal-error\":\"An internal error has occurred.\",\"invalid-app-credential\":\"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.\",\"invalid-app-id\":\"The mobile app identifier is not registed for the current project.\",\"invalid-user-token\":\"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.\",\"invalid-auth-event\":\"An internal error has occurred.\",\"invalid-verification-code\":\"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.\",\"invalid-continue-uri\":\"The continue URL provided in the request is invalid.\",\"invalid-cordova-configuration\":\"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.\",\"invalid-custom-token\":\"The custom token format is incorrect. Please check the documentation.\",\"invalid-email\":\"The email address is badly formatted.\",\"invalid-api-key\":\"Your API key is invalid, please check you have copied it correctly.\",\"invalid-cert-hash\":\"The SHA-1 certificate hash provided is invalid.\",\"invalid-credential\":\"The supplied auth credential is malformed or has expired.\",\"invalid-persistence-type\":\"The specified persistence type is invalid. It can only be local, session or none.\",\"invalid-message-payload\":\"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-oauth-provider\":\"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.\",\"invalid-oauth-client-id\":\"The OAuth client ID provided is either invalid or does not match the specified API key.\",\"unauthorized-domain\":\"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.\",\"invalid-action-code\":\"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.\",\"wrong-password\":\"The password is invalid or the user does not have a password.\",\"invalid-phone-number\":\"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].\",\"invalid-recipient-email\":\"The email corresponding to this action failed to send as the provided recipient email address is invalid.\",\"invalid-sender\":\"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-verification-id\":\"The verification ID used to create the phone auth credential is invalid.\",\"missing-android-pkg-name\":\"An Android Package Name must be provided if the Android App is required to be installed.\",\"auth-domain-config-required\":\"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.\",\"missing-app-credential\":\"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.\",\"missing-verification-code\":\"The phone auth credential was created with an empty SMS verification code.\",\"missing-continue-uri\":\"A continue URL must be provided in the request.\",\"missing-iframe-start\":\"An internal error has occurred.\",\"missing-ios-bundle-id\":\"An iOS Bundle ID must be provided if an App Store ID is provided.\",\"missing-phone-number\":\"To send verification codes, provide a phone number for the recipient.\",\"missing-verification-id\":\"The phone auth credential was created with an empty verification ID.\",\"app-deleted\":\"This instance of FirebaseApp has been deleted.\",\"account-exists-with-different-credential\":\"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\",\"network-request-failed\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\",\"no-auth-event\":\"An internal error has occurred.\",\"no-such-provider\":\"User was not linked to an account with the given provider.\",\"null-user\":\"A null user object was provided as the argument for an operation which requires a non-null user object.\",\"operation-not-allowed\":\"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\",\"operation-not-supported-in-this-environment\":'This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.',\"popup-blocked\":\"Unable to establish a connection with the popup. It may have been blocked by the browser.\",\"popup-closed-by-user\":\"The popup has been closed by the user before finalizing the operation.\",\"provider-already-linked\":\"User can only be linked to one identity for the given provider.\",\"quota-exceeded\":\"The project's quota for this operation has been exceeded.\",\"redirect-cancelled-by-user\":\"The redirect operation has been cancelled by the user before finalizing.\",\"redirect-operation-pending\":\"A redirect sign-in operation is already pending.\",timeout:\"The operation has timed out.\",\"user-token-expired\":\"The user's credential is no longer valid. The user must sign in again.\",\"too-many-requests\":\"We have blocked all requests from this device due to unusual activity. Try again later.\",\"unauthorized-continue-uri\":\"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.\",\"unsupported-persistence-type\":\"The current environment does not support the specified persistence type.\",\"user-cancelled\":\"User did not grant your application the permissions it requested.\",\"user-not-found\":\"There is no user record corresponding to this identifier. The user may have been deleted.\",\"user-disabled\":\"The user account has been disabled by an administrator.\",\"user-mismatch\":\"The supplied credentials do not correspond to the previously signed in user.\",\"user-signed-out\":\"\",\"weak-password\":\"The password must be 6 characters long or more.\",\"web-storage-unsupported\":\"This browser is not supported or 3rd party cookies and data may be disabled.\"};function Rr(t){var e=t[Vr];if(void 0===e)throw new Or(\"missing-continue-uri\");if(\"string\"!=typeof e||\"string\"==typeof e&&!e.length)throw new Or(\"invalid-continue-uri\");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Dr];if(n&&\"object\"==typeof n){e=n[Ur];var r=n[Fr];if(n=n[jr],\"string\"==typeof e&&e.length){if(this.a=e,void 0!==r&&\"boolean\"!=typeof r)throw new Or(\"argument-error\",Fr+\" property must be a boolean when specified.\");if(this.g=!!r,void 0!==n&&(\"string\"!=typeof n||\"string\"==typeof n&&!n.length))throw new Or(\"argument-error\",jr+\" property must be a non empty string when specified.\");this.b=n||null}else{if(void 0!==e)throw new Or(\"argument-error\",Ur+\" property must be a non empty string when specified.\");if(void 0!==r||void 0!==n)throw new Or(\"missing-android-pkg-name\")}}else if(void 0!==n)throw new Or(\"argument-error\",Dr+\" property must be a non null object when specified.\");if(this.f=null,(e=t[Lr])&&\"object\"==typeof e){if(\"string\"==typeof(e=e[Br])&&e.length)this.f=e;else if(void 0!==e)throw new Or(\"argument-error\",Br+\" property must be a non empty string when specified.\")}else if(void 0!==e)throw new Or(\"argument-error\",Lr+\" property must be a non null object when specified.\");if(void 0!==(t=t[Mr])&&\"boolean\"!=typeof t)throw new Or(\"argument-error\",Mr+\" property must be a boolean when specified.\");this.c=!!t}var Dr=\"android\",Mr=\"handleCodeInApp\",Lr=\"iOS\",Vr=\"url\",Fr=\"installApp\",jr=\"minimumVersion\",Ur=\"packageName\",Br=\"bundleId\";function qr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Hr=null,Wr=null;function Gr(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||\"anonymous\"==this.a}function Kr(t){return(t=zr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Gr(t):null}function zr(t){if(!t)return null;if(3!=(t=t.split(\".\")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=\".\";try{return JSON.parse(function(t){var e=\"\";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Wr[n];if(null!=i)return i;if(!/^[\\s\\xa0]*$/.test(n))throw Error(\"Unknown base64 encoding at char: \"+n)}return e}!function(){if(!Hr){Hr={},Wr={};for(var t=0;65>t;t++)Hr[t]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(t),Wr[Hr[t]]=t,62<=t&&(Wr[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}Gr.prototype.f=function(){return this.b};var Qr=\"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version\".split(\" \"),Xr=[\"client_id\",\"response_type\",\"scope\",\"redirect_uri\",\"state\"],Yr={Tc:{Ma:\"locale\",Ba:500,Aa:600,Na:\"facebook.com\",eb:Xr},Vc:{Ma:null,Ba:500,Aa:620,Na:\"github.com\",eb:Xr},Wc:{Ma:\"hl\",Ba:515,Aa:680,Na:\"google.com\",eb:Xr},bd:{Ma:\"lang\",Ba:485,Aa:705,Na:\"twitter.com\",eb:Qr}};function Jr(t){for(var e in Yr)if(Yr[e].Na==t)return Yr[e];return null}function Zr(t){var e={};e[\"facebook.com\"]=ri,e[\"google.com\"]=oi,e[\"github.com\"]=ii,e[\"twitter.com\"]=ai;var n=t&&t[ti];try{if(n)return e[n]?new e[n](t):new ni(t);if(void 0!==t[$r])return new ei(t)}catch(t){}return null}var $r=\"idToken\",ti=\"providerId\";function ei(t){var e=t[ti];if(!e&&t[$r]){var n=Kr(t[$r]);n&&n.a&&(e=n.a)}if(!e)throw Error(\"Invalid additional user info!\");\"anonymous\"!=e&&\"custom\"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:\"identitytoolkit#SignupNewUserResponse\"===t.kind&&(n=!0),Tr(this,\"providerId\",e),Tr(this,\"isNewUser\",n)}function ni(t){ei.call(this,t),Tr(this,\"profile\",Ar((t=pr(t.rawUserInfo||\"{}\"))||{}))}function ri(t){if(ni.call(this,t),\"facebook.com\"!=this.providerId)throw Error(\"Invalid provider ID!\")}function ii(t){if(ni.call(this,t),\"github.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");Tr(this,\"username\",this.profile&&this.profile.login||null)}function oi(t){if(ni.call(this,t),\"google.com\"!=this.providerId)throw Error(\"Invalid provider ID!\")}function ai(t){if(ni.call(this,t),\"twitter.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");Tr(this,\"username\",t.screenName||null)}function si(t){var e=Qe(t),n=ze(e,\"link\"),r=ze(Qe(n),\"link\");return ze(Qe(e=ze(e,\"deep_link_id\")),\"link\")||e||r||n||t}function ui(t,e){return t.then(function(t){if(t[Uo]){var n=Kr(t[Uo]);if(!n||e!=n.c)throw new Or(\"user-mismatch\");return t}throw new Or(\"user-mismatch\")}).s(function(t){throw t&&t.code&&t.code==xr+\"user-not-found\"?new Or(\"user-mismatch\"):t})}function li(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Tr(this,\"idToken\",e.idToken),e.accessToken&&Tr(this,\"accessToken\",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Or(\"internal-error\",\"failed to construct a credential\");Tr(this,\"accessToken\",e.oauthToken),Tr(this,\"secret\",e.oauthTokenSecret)}Tr(this,\"providerId\",t),Tr(this,\"signInMethod\",n)}function ci(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:\"http://localhost\"}}function hi(t,e){this.Ac=e||[],Ir(this,{providerId:t,isOAuthProvider:!0}),this.vb={},this.$a=(Jr(t)||{}).Ma||null,this.Ya=null}function fi(t){hi.call(this,t,Xr),this.a=[]}function pi(){fi.call(this,\"facebook.com\")}function di(t){if(!t)throw new Or(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var e=t;return p(t)&&(e=t.accessToken),(new pi).credential(null,e)}function yi(){fi.call(this,\"github.com\")}function mi(t){if(!t)throw new Or(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var e=t;return p(t)&&(e=t.accessToken),(new yi).credential(null,e)}function gi(){fi.call(this,\"google.com\"),this.ta(\"profile\")}function vi(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new gi).credential(n,e)}function bi(){hi.call(this,\"twitter.com\",Qr)}function wi(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Or(\"argument-error\",\"credential failed: expected 2 arguments (the OAuth access token and secret).\");return new li(\"twitter.com\",n,\"twitter.com\")}function _i(t,e,n){this.a=t,this.b=e,Tr(this,\"providerId\",\"password\"),Tr(this,\"signInMethod\",n===Ei.EMAIL_LINK_SIGN_IN_METHOD?Ei.EMAIL_LINK_SIGN_IN_METHOD:Ei.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ei(){Ir(this,{providerId:\"password\",isOAuthProvider:!1})}function Si(t,e){if(!(e=Ci(e)))throw new Or(\"argument-error\",\"Invalid email link!\");return new _i(t,e,Ei.EMAIL_LINK_SIGN_IN_METHOD)}function Ci(t){var e=ze((t=new function(t){this.a=Qe(t)}(t=si(t))).a,\"oobCode\")||null;return\"signIn\"===(ze(t.a,\"mode\")||null)&&e?e:null}function Ti(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Or(\"internal-error\");this.a=t,Tr(this,\"providerId\",\"phone\"),Tr(this,\"signInMethod\",\"phone\")}function Ii(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function ki(t){try{this.a=t||e.auth()}catch(t){throw new Or(\"argument-error\",\"Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().\")}Ir(this,{providerId:\"phone\",isOAuthProvider:!1})}function Ai(t,e){if(!t)throw new Or(\"missing-verification-id\");if(!e)throw new Or(\"missing-verification-code\");return new Ti({Sa:t,Ra:e})}function Oi(t){if(t.temporaryProof&&t.phoneNumber)return new Ti({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||\"password\"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case\"google.com\":return vi(t,n);case\"facebook.com\":return di(n);case\"github.com\":return mi(n);case\"twitter.com\":return wi(n,r);default:return new fi(e).credential(t,n)}}catch(t){return null}}function Ni(t){if(!t.isOAuthProvider)throw new Or(\"invalid-oauth-provider\")}function xi(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Or(\"invalid-auth-event\");if(this.f&&this.a)throw new Or(\"invalid-auth-event\");if(this.f&&!this.g)throw new Or(\"invalid-auth-event\")}function Pi(t){return(t=t||{}).type?new xi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Nr(t.error)):null}function Ri(){this.b=null,this.a=[]}_(ni,ei),_(ri,ni),_(ii,ni),_(oi,ni),_(ai,ni),li.prototype.ya=function(t){return ra(t,ci(this))},li.prototype.c=function(t,e){var n=ci(this);return n.idToken=e,ia(t,n)},li.prototype.f=function(t,e){return ui(oa(t,ci(this)),e)},li.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},hi.prototype.Da=function(t){return this.vb=at(t),this},_(fi,hi),fi.prototype.ta=function(t){return V(this.a,t)||this.a.push(t),this},fi.prototype.Ab=function(){return B(this.a)},fi.prototype.credential=function(t,e){if(!t&&!e)throw new Or(\"argument-error\",\"credential failed: must provide the ID token and/or the access token.\");return new li(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},_(pi,fi),Tr(pi,\"PROVIDER_ID\",\"facebook.com\"),Tr(pi,\"FACEBOOK_SIGN_IN_METHOD\",\"facebook.com\"),_(yi,fi),Tr(yi,\"PROVIDER_ID\",\"github.com\"),Tr(yi,\"GITHUB_SIGN_IN_METHOD\",\"github.com\"),_(gi,fi),Tr(gi,\"PROVIDER_ID\",\"google.com\"),Tr(gi,\"GOOGLE_SIGN_IN_METHOD\",\"google.com\"),_(bi,hi),Tr(bi,\"PROVIDER_ID\",\"twitter.com\"),Tr(bi,\"TWITTER_SIGN_IN_METHOD\",\"twitter.com\"),_i.prototype.ya=function(t){return this.signInMethod==Ei.EMAIL_LINK_SIGN_IN_METHOD?Da(t,pa,{email:this.a,oobCode:this.b}):Da(t,Na,{email:this.a,password:this.b})},_i.prototype.c=function(t,e){return this.signInMethod==Ei.EMAIL_LINK_SIGN_IN_METHOD?Da(t,da,{idToken:e,email:this.a,oobCode:this.b}):Da(t,Ca,{idToken:e,email:this.a,password:this.b})},_i.prototype.f=function(t,e){return ui(this.ya(t),e)},_i.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Ir(Ei,{PROVIDER_ID:\"password\"}),Ir(Ei,{EMAIL_LINK_SIGN_IN_METHOD:\"emailLink\"}),Ir(Ei,{EMAIL_PASSWORD_SIGN_IN_METHOD:\"password\"}),Ti.prototype.ya=function(t){return t.Ta(Ii(this))},Ti.prototype.c=function(t,e){var n=Ii(this);return n.idToken=e,Da(t,Pa,n)},Ti.prototype.f=function(t,e){var n=Ii(this);return n.operation=\"REAUTH\",ui(t=Da(t,Ra,n),e)},Ti.prototype.D=function(){var t={providerId:\"phone\"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},ki.prototype.Ta=function(t,e){var n=this.a.b;return St(e.verify()).then(function(r){if(!o(r))throw new Or(\"argument-error\",\"An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.\");switch(e.type){case\"recaptcha\":return function(t,e){return Da(n,Ea,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return\"function\"==typeof e.reset&&e.reset(),t},function(t){throw\"function\"==typeof e.reset&&e.reset(),t});default:throw new Or(\"argument-error\",'Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.')}})},Ir(ki,{PROVIDER_ID:\"phone\"}),Ir(ki,{PHONE_SIGN_IN_METHOD:\"phone\"}),xi.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Di=null;function Mi(t){var e=\"unauthorized-domain\",n=void 0,r=Qe(t);t=r.b,\"chrome-extension\"==(r=r.c)?n=q(\"This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",t):\"http\"==r||\"https\"==r?n=q(\"This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",t):e=\"operation-not-supported-in-this-environment\",Or.call(this,e,n)}function Li(t,e,n){Or.call(this,t,n),(t=e||{}).wb&&Tr(this,\"email\",t.wb),t.$&&Tr(this,\"phoneNumber\",t.$),t.credential&&Tr(this,\"credential\",t.credential)}function Vi(t){if(t.code){var e=t.code||\"\";0==e.indexOf(xr)&&(e=e.substring(xr.length));var n={credential:Oi(t)};if(t.email)n.wb=t.email;else{if(!t.phoneNumber)return new Or(e,t.message||void 0);n.$=t.phoneNumber}return new Li(e,n,t.message)}return null}Ri.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},\"function\"==typeof(t=or(\"universalLinks.subscribe\",i))&&t(null,this.b))},Ri.prototype.unsubscribe=function(t){j(this.a,function(e){return e==t})},_(Mi,Or),_(Li,Or),Li.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ct(t,e),t},Li.prototype.toJSON=function(){return this.D()};var Fi,ji=/^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$/;function Ui(){}function Bi(){}function qi(t){if(!t.f&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var e=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\")}return t.f}function Hi(){}function Wi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText=\"\",this.status=-1,this.statusText=\"\",this.a.onload=v(this.bc,this),this.a.onerror=v(this.Bb,this),this.a.onprogress=v(this.cc,this),this.a.ontimeout=v(this.fc,this)}function Gi(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ki(t,e,n){this.reset(t,e,n,void 0,void 0)}function zi(t){this.f=t,this.b=this.c=this.a=null}function Qi(t,e){this.name=t,this.value=e}Ui.prototype.c=null,_(Bi,Ui),Bi.prototype.a=function(){var t=qi(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bi.prototype.b=function(){var t={};return qi(this)&&(t[0]=!0,t[1]=!0),t},Fi=new Bi,_(Hi,Ui),Hi.prototype.a=function(){var t=new XMLHttpRequest;if(\"withCredentials\"in t)return t;if(\"undefined\"!=typeof XDomainRequest)return new Wi;throw Error(\"Unsupported browser\")},Hi.prototype.b=function(){return{}},(t=Wi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error(\"Only async requests are supported.\");this.a.open(t,e)},t.send=function(t){if(t){if(\"string\"!=typeof t)throw Error(\"Only string data is supported\");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return\"content-type\"==t.toLowerCase()?this.a.contentType:\"\"},t.bc=function(){this.status=200,this.responseText=this.a.responseText,Gi(this,4)},t.Bb=function(){this.status=500,this.responseText=\"\",Gi(this,4)},t.fc=function(){this.Bb()},t.cc=function(){this.status=200,Gi(this,1)},t.getAllResponseHeaders=function(){return\"content-type: \"+this.a.contentType},Ki.prototype.a=null,Ki.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Qi.prototype.toString=function(){return this.name};var Xi=new Qi(\"SEVERE\",1e3),Yi=new Qi(\"WARNING\",900),Ji=new Qi(\"CONFIG\",700),Zi=new Qi(\"FINE\",500);zi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(I(\"Root logger has no level set.\"),null)}(this).value)for(f(e)&&(e=e()),t=new Ki(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var $i={},to=null;function eo(t){var e;if(to||(to=new zi(\"\"),$i[\"\"]=to,to.c=Ji),!(e=$i[t])){e=new zi(t);var n=t.lastIndexOf(\".\"),r=t.substr(n+1);(n=eo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,$i[t]=e}return e}function no(t,e){t&&t.log(Zi,e,void 0)}function ro(t){this.f=t}function io(t){Ne.call(this),this.i=t,this.readyState=oo,this.status=0,this.responseText=this.statusText=\"\",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h=\"GET\",this.c=\"\",this.a=!1,this.f=eo(\"goog.net.FetchXmlHttp\")}_(ro,Ui),ro.prototype.a=function(){return new io(this.f)},ro.prototype.b=function(t){return function(){return t}}({}),_(io,Ne);var oo=0;function ao(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function so(t){Ne.call(this),this.headers=new Fe,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l=\"\",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=uo,this.v=this.O=!1}(t=io.prototype).open=function(t,e){if(this.readyState!=oo)throw this.abort(),Error(\"Error reopening a connection\");this.h=t,this.c=e,this.readyState=1,ao(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error(\"need to call open() first. \");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.ec.bind(this),this.Cb.bind(this))},t.abort=function(){this.responseText=\"\",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,ao(this)),this.readyState=oo},t.ec=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,ao(this)),this.a&&(this.readyState=3,ao(this),this.a&&t.text().then(this.dc.bind(this,t),this.Cb.bind(this))))},t.dc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,ao(this))},t.Cb=function(t){var e=this.f;e&&e.log(Yi,\"Failed to fetch url \"+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,ao(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||\"\":((t=this.f)&&t.log(Yi,\"Attempting to get response header but no headers have been received for url: \"+this.c,void 0),\"\")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Yi,\"Attempting to get all response headers but no headers have been received for url: \"+this.c,void 0),\"\"}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+\": \"+n[1]),n=e.next();return t.join(\"\\r\\n\")},_(so,Ne);var uo=\"\";so.prototype.b=eo(\"goog.net.XhrIo\");var lo=/^https?$/i,co=[\"POST\",\"PUT\"];function ho(t){return\"content-type\"==t.toLowerCase()}function fo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,po(t),mo(t)}function po(t){t.G||(t.G=!0,t.dispatchEvent(\"complete\"),t.dispatchEvent(\"error\"))}function yo(t){if(t.c&&void 0!==r)if(t.w[1]&&4==vo(t)&&2==bo(t))no(t.b,wo(t,\"Local request error detected and ignored\"));else if(t.i&&4==vo(t))De(t.Fb,0,t);else if(t.dispatchEvent(\"readystatechange\"),4==vo(t)){no(t.b,wo(t,\"Request complete\")),t.c=!1;try{var e,n=bo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(e=o)){var a;if(a=0===n){var s=String(t.l).match(Be)[1]||null;if(!s&&i.self&&i.self.location){var u=i.self.location.protocol;s=u.substr(0,u.length-1)}a=!lo.test(s?s.toLowerCase():\"\")}e=a}if(e)t.dispatchEvent(\"complete\"),t.dispatchEvent(\"success\");else{try{var l=2<vo(t)?t.a.statusText:\"\"}catch(e){no(t.b,\"Can not get status: \"+e.message),l=\"\"}t.h=l+\" [\"+bo(t)+\"]\",po(t)}}finally{mo(t)}}}function mo(t,e){if(t.a){go(t);var n=t.a,r=t.w[0]?s:null;t.a=null,t.w=null,e||t.dispatchEvent(\"ready\");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Xi,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}}function go(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(i.clearTimeout(t.u),t.u=null)}function vo(t){return t.a?t.a.readyState:0}function bo(t){try{return 2<vo(t)?t.a.status:-1}catch(t){return-1}}function wo(t,e){return e+\" [\"+t.N+\" \"+t.l+\" \"+bo(t)+\"]\"}function _o(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function Eo(t,e,n){t.a=!0,t.c=n,t.f=!e,Io(t)}function So(t){if(t.a){if(!t.l)throw new ko(t);t.l=!1}}function Co(t,e,n,r){t.g.push([e,n,r]),t.a&&Io(t)}function To(t){return L(t.g,function(t){return f(t[1])})}function Io(t){if(t.h&&t.a&&To(t)){var e=t.h,n=No[e];n&&(i.clearTimeout(n.a),delete No[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(S(e)||\"function\"==typeof i.Promise&&e instanceof i.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,To(t)||(n=!0)}}t.c=e,r&&(u=v(t.o,t,!0),r=v(t.o,t,!1),e instanceof _o?(Co(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new Oo(e),No[e.a]=e,t.h=e.a)}function ko(){C.call(this)}function Ao(){C.call(this)}function Oo(t){this.a=i.setTimeout(v(this.c,this),0),this.b=t}(t=so.prototype).Ga=function(){void 0!==r&&this.a&&(this.h=\"Timed out after \"+this.g+\"ms, aborting\",no(this.b,wo(this,this.h)),this.dispatchEvent(\"timeout\"),this.abort(8))},t.abort=function(){this.a&&this.c&&(no(this.b,wo(this,\"Aborting\")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),mo(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mo(this,!0)),so.lb.ua.call(this)},t.Fb=function(){this.pa||(this.I||this.i||this.f?yo(this):this.tc())},t.tc=function(){yo(this)},t.getResponse=function(){try{if(!this.a)return null;if(\"response\"in this.a)return this.a.response;switch(this.o){case uo:case\"text\":return this.a.responseText;case\"arraybuffer\":if(\"mozResponseArrayBuffer\"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Xi,\"Response type \"+this.o+\" is not supported on this browser\",void 0),null}catch(t){return no(this.b,\"Can not get response: \"+t.message),null}},_o.prototype.cancel=function(t){if(this.a)this.c instanceof _o&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Ao(this),So(this),Eo(this,!1,t))}},_o.prototype.o=function(t,e){this.i=!1,Eo(this,t,e)},_o.prototype.C=function(){So(this),Eo(this,!0,null)},_o.prototype.then=function(t,e,n){var r,i,o=new mt(function(t,e){r=t,i=e});return Co(this,r,function(t){t instanceof Ao?o.cancel():i(t)}),o.then(t,e,n)},E(_o),_(ko,C),ko.prototype.message=\"Deferred has already fired\",ko.prototype.name=\"AlreadyCalledError\",_(Ao,C),Ao.prototype.message=\"Deferred was canceled\",Ao.prototype.name=\"CanceledError\",Oo.prototype.c=function(){throw delete No[this.a],this.b};var No={};function xo(t){var e={},n=e.document||document,r=vn(t),i=document.createElement(\"SCRIPT\"),o={Hb:i,Ga:void 0},a=new _o(Po,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Ro(i,!0);var t=new Lo(Mo,\"Timeout reached for loading script \"+r);So(a),Eo(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&\"loaded\"!=i.readyState&&\"complete\"!=i.readyState||(Ro(i,e.dd||!1,s),a.C())},i.onerror=function(){Ro(i,!0,s);var t=new Lo(Do,\"Error while loading script \"+r);So(a),Eo(a,!1,t)},ct(o=e.attributes||{},{type:\"text/javascript\",charset:\"UTF-8\"}),Rn(i,o),i.src=vn(t),function(t){var e;return(e=(t||document).getElementsByTagName(\"HEAD\"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Po(){if(this&&this.Hb){var t=this.Hb;t&&\"SCRIPT\"==t.tagName&&Ro(t,!0,this.Ga)}}function Ro(t,e,n){null!=n&&i.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Do=0,Mo=1;function Lo(t,e){var n=\"Jsloader error (code #\"+t+\")\";e&&(n+=\": \"+e),C.call(this,n),this.code=t}function Vo(t){this.f=t}function Fo(t,n,r){if(this.b=t,this.i=(t=n||{}).secureTokenEndpoint||\"https://securetoken.googleapis.com/v1/token\",this.m=t.secureTokenTimeout||Bo,this.f=at(t.secureTokenHeaders||qo),this.g=t.firebaseEndpoint||\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\",this.h=t.firebaseTimeout||Ho,this.a=at(t.firebaseHeaders||Wo),r&&(this.a[\"X-Client-Version\"]=r,this.f[\"X-Client-Version\"]=r),r=\"Node\"==Jn(),!(r=i.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!Yn())throw new Or(\"internal-error\",\"The XMLHttpRequest compatibility library was not found.\");this.c=void 0,this.c=Yn()?new ro(self):Zn()?new Vo(r):new Hi}_(Lo,C),_(Vo,Ui),Vo.prototype.a=function(){return new this.f},Vo.prototype.b=function(){return{}};var jo,Uo=\"idToken\",Bo=new gr(3e4,6e4),qo={\"Content-Type\":\"application/x-www-form-urlencoded\"},Ho=new gr(3e4,6e4),Wo={\"Content-Type\":\"application/json\"};function Go(t,e){e?t.a[\"X-Firebase-Locale\"]=e:delete t.a[\"X-Firebase-Locale\"]}function Ko(t,e){e?(t.a[\"X-Client-Version\"]=e,t.f[\"X-Client-Version\"]=e):(delete t.a[\"X-Client-Version\"],delete t.f[\"X-Client-Version\"])}function zo(t,e,n,r,o,a,s){(function(){var t=ir();return!((t=er(t)!=tr?null:(t=t.match(/\\sChrome\\/(\\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&$t&&!(9<$t))})()||Yn()?t=v(t.o,t):(jo||(jo=new mt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{i[Xo]=function(){((window.gapi||{}).client||{}).request?t():e(Error(\"CORS_UNSUPPORTED\"))};var n=bn(Qo,{onload:Xo});!function(t,e){Co(xo(n),null,e,void 0)}(0,function(){e(Error(\"CORS_UNSUPPORTED\"))})}}(t,e)})),t=v(t.l,t)),t(e,n,r,o,a,s)}Fo.prototype.o=function(t,e,n,r,a,s){if(Yn()&&(void 0===i.fetch||void 0===i.Headers||void 0===i.Request))throw new Or(\"operation-not-supported-in-this-environment\",\"fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.\");var u=new so(this.c);if(s){u.g=Math.max(0,s);var l=setTimeout(function(){u.dispatchEvent(\"timeout\")},s)}xe(u,\"complete\",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:\"\"}catch(e){return no(t.b,\"Can not get responseText: \"+e.message),\"\"}}(this))||null}catch(e){t=null}e&&e(t)}),Pe(u,\"ready\",function(){l&&clearTimeout(l),jt(this)}),Pe(u,\"timeout\",function(){l&&clearTimeout(l),jt(this),e&&e(null)}),function(t,e,n,r,a){if(t.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+t.l+\"; newUri=\"+e);n=n?n.toUpperCase():\"GET\",t.l=e,t.h=\"\",t.N=n,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Fi.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.C?t.C:Fi),t.a.onreadystatechange=v(t.Fb,t);try{no(t.b,wo(t,\"Opening Xhr\")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return no(t.b,wo(t,\"Error opening Xhr: \"+e.message)),void fo(t,e)}e=r||\"\";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||o(t))D(t,e,void 0);else for(var n=Ve(t),r=Le(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=ho,n=t.length,r=o(t)?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:o(t)?t.charAt(e):t[e]}(s.U()),r=i.FormData&&e instanceof i.FormData,!V(co,n)||a||r||s.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),\"withCredentials\"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{go(t),0<t.g&&(t.v=function(t){return Wt&&ee(9)&&\"number\"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),no(t.b,wo(t,\"Will abort after \"+t.g+\"ms if incomplete, xhr2 \"+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=v(t.Ga,t)):t.u=De(t.Ga,t.g,t)),no(t.b,wo(t,\"Sending request\")),t.i=!0,t.a.send(e),t.i=!1}catch(e){no(t.b,wo(t,\"Send error: \"+e.message)),fo(t,e)}}(u,t,n,r,a)};var Qo=mn(\"https://apis.google.com/js/client.js?onload=%{onload}\"),Xo=\"__fcb\"+Math.floor(1e6*Math.random()).toString();function Yo(t){if(!ji.test(t.email))throw new Or(\"invalid-email\")}function Jo(t){\"email\"in t&&Yo(t)}function Zo(t){if(!t[Uo])throw new Or(\"internal-error\")}function $o(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Or(\"internal-error\")}else{if(!t.sessionInfo)throw new Or(\"missing-verification-id\");if(!t.code)throw new Or(\"missing-verification-code\")}}Fo.prototype.l=function(t,e,n,r,i){var o=this;jo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:\"none\",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||\"CORS_UNSUPPORTED\"}})})},Fo.prototype.Pa=function(){return Da(this,Ta,{})},Fo.prototype.mb=function(t,e){return Da(this,Sa,{idToken:t,email:e})},Fo.prototype.nb=function(t,e){return Da(this,Ca,{idToken:t,password:e})};var ta={displayName:\"DISPLAY_NAME\",photoUrl:\"PHOTO_URL\"};function ea(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Or(\"internal-error\")}function na(t){var e=null;if(t.needConfirmation?(t.code=\"account-exists-with-different-credential\",e=Vi(t)):\"FEDERATED_USER_ID_ALREADY_LINKED\"==t.errorMessage?(t.code=\"credential-already-in-use\",e=Vi(t)):\"EMAIL_EXISTS\"==t.errorMessage?(t.code=\"email-already-in-use\",e=Vi(t)):t.errorMessage&&(e=Ma(t.errorMessage)),e)throw e;if(!t[Uo])throw new Or(\"internal-error\")}function ra(t,e){return e.returnIdpCredential=!0,Da(t,Ia,e)}function ia(t,e){return e.returnIdpCredential=!0,Da(t,Aa,e)}function oa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Da(t,ka,e)}function aa(t){if(!t.oobCode)throw new Or(\"invalid-action-code\")}(t=Fo.prototype).ob=function(t,e){var n={idToken:t},r=[];return it(ta,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Da(this,Sa,n)},t.hb=function(t,e){return ct(t={requestType:\"PASSWORD_RESET\",email:t},e),Da(this,va,t)},t.ib=function(t,e){return ct(t={requestType:\"EMAIL_SIGNIN\",email:t},e),Da(this,ma,t)},t.gb=function(t,e){return ct(t={requestType:\"VERIFY_EMAIL\",idToken:t},e),Da(this,ga,t)},t.Ta=function(t){return Da(this,xa,t)},t.Xa=function(t,e){return Da(this,_a,{oobCode:t,newPassword:e})},t.Ja=function(t){return Da(this,ua,{oobCode:t})},t.Va=function(t){return Da(this,sa,{oobCode:t})};var sa={endpoint:\"setAccountInfo\",B:aa,da:\"email\"},ua={endpoint:\"resetPassword\",B:aa,J:function(t){var e=t.requestType;if(!e||!t.email&&\"EMAIL_SIGNIN\"!=e)throw new Or(\"internal-error\")}},la={endpoint:\"signupNewUser\",B:function(t){if(Yo(t),!t.password)throw new Or(\"weak-password\")},J:Zo,R:!0},ca={endpoint:\"createAuthUri\"},ha={endpoint:\"deleteAccount\",T:[\"idToken\"]},fa={endpoint:\"setAccountInfo\",T:[\"idToken\",\"deleteProvider\"],B:function(t){if(!c(t.deleteProvider))throw new Or(\"internal-error\")}},pa={endpoint:\"emailLinkSignin\",T:[\"email\",\"oobCode\"],B:Yo,J:Zo,R:!0},da={endpoint:\"emailLinkSignin\",T:[\"idToken\",\"email\",\"oobCode\"],B:Yo,J:Zo,R:!0},ya={endpoint:\"getAccountInfo\"},ma={endpoint:\"getOobConfirmationCode\",T:[\"requestType\"],B:function(t){if(\"EMAIL_SIGNIN\"!=t.requestType)throw new Or(\"internal-error\");Yo(t)},da:\"email\"},ga={endpoint:\"getOobConfirmationCode\",T:[\"idToken\",\"requestType\"],B:function(t){if(\"VERIFY_EMAIL\"!=t.requestType)throw new Or(\"internal-error\")},da:\"email\"},va={endpoint:\"getOobConfirmationCode\",T:[\"requestType\"],B:function(t){if(\"PASSWORD_RESET\"!=t.requestType)throw new Or(\"internal-error\");Yo(t)},da:\"email\"},ba={rb:!0,endpoint:\"getProjectConfig\",Eb:\"GET\"},wa={rb:!0,endpoint:\"getRecaptchaParam\",Eb:\"GET\",J:function(t){if(!t.recaptchaSiteKey)throw new Or(\"internal-error\")}},_a={endpoint:\"resetPassword\",B:aa,da:\"email\"},Ea={endpoint:\"sendVerificationCode\",T:[\"phoneNumber\",\"recaptchaToken\"],da:\"sessionInfo\"},Sa={endpoint:\"setAccountInfo\",T:[\"idToken\"],B:Jo,R:!0},Ca={endpoint:\"setAccountInfo\",T:[\"idToken\"],B:function(t){if(Jo(t),!t.password)throw new Or(\"weak-password\")},J:Zo,R:!0},Ta={endpoint:\"signupNewUser\",J:Zo,R:!0},Ia={endpoint:\"verifyAssertion\",B:ea,J:na,R:!0},ka={endpoint:\"verifyAssertion\",B:ea,J:function(t){if(t.errorMessage&&\"USER_NOT_FOUND\"==t.errorMessage)throw new Or(\"user-not-found\");if(t.errorMessage)throw Ma(t.errorMessage);if(!t[Uo])throw new Or(\"internal-error\")},R:!0},Aa={endpoint:\"verifyAssertion\",B:function(t){if(ea(t),!t.idToken)throw new Or(\"internal-error\")},J:na,R:!0},Oa={endpoint:\"verifyCustomToken\",B:function(t){if(!t.token)throw new Or(\"invalid-custom-token\")},J:Zo,R:!0},Na={endpoint:\"verifyPassword\",B:function(t){if(Yo(t),!t.password)throw new Or(\"wrong-password\")},J:Zo,R:!0},xa={endpoint:\"verifyPhoneNumber\",B:$o,J:Zo},Pa={endpoint:\"verifyPhoneNumber\",B:function(t){if(!t.idToken)throw new Or(\"internal-error\");$o(t)},J:function(t){if(t.temporaryProof)throw t.code=\"credential-already-in-use\",Vi(t);Zo(t)}},Ra={Tb:{USER_NOT_FOUND:\"user-not-found\"},endpoint:\"verifyPhoneNumber\",B:$o,J:Zo};function Da(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||\"\"===r)return!1}return!0}(n,e.T))return Ct(new Or(\"internal-error\"));var r,i=e.Eb||\"POST\";return St(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Qe(t.g+e);Ke(a,\"key\",t.b),o&&Ke(a,\"cb\",w().toString());var s=\"GET\"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ke(a,u,r[u]);return new mt(function(e,o){zo(t,a.toString(),function(t){t?t.error?o(La(t,i||{})):e(t):o(new Or(\"network-request-failed\"))},n,s?void 0:Ln(fr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Tb,e.rb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Or(\"internal-error\");return r[e.da]})}function Ma(t){return La({error:{errors:[{message:t}],code:400,message:t}})}function La(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||\"\",r={keyInvalid:\"invalid-api-key\",ipRefererBlocked:\"app-not-authorized\"};if(n=r[n]?new Or(r[n]):null)return n;for(var i in n=t.error&&t.error.message||\"\",ct(r={INVALID_CUSTOM_TOKEN:\"invalid-custom-token\",CREDENTIAL_MISMATCH:\"custom-token-mismatch\",MISSING_CUSTOM_TOKEN:\"internal-error\",INVALID_IDENTIFIER:\"invalid-email\",MISSING_CONTINUE_URI:\"internal-error\",INVALID_EMAIL:\"invalid-email\",INVALID_PASSWORD:\"wrong-password\",USER_DISABLED:\"user-disabled\",MISSING_PASSWORD:\"internal-error\",EMAIL_EXISTS:\"email-already-in-use\",PASSWORD_LOGIN_DISABLED:\"operation-not-allowed\",INVALID_IDP_RESPONSE:\"invalid-credential\",FEDERATED_USER_ID_ALREADY_LINKED:\"credential-already-in-use\",INVALID_MESSAGE_PAYLOAD:\"invalid-message-payload\",INVALID_RECIPIENT_EMAIL:\"invalid-recipient-email\",INVALID_SENDER:\"invalid-sender\",EMAIL_NOT_FOUND:\"user-not-found\",EXPIRED_OOB_CODE:\"expired-action-code\",INVALID_OOB_CODE:\"invalid-action-code\",MISSING_OOB_CODE:\"internal-error\",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:\"requires-recent-login\",INVALID_ID_TOKEN:\"invalid-user-token\",TOKEN_EXPIRED:\"user-token-expired\",USER_NOT_FOUND:\"user-token-expired\",CORS_UNSUPPORTED:\"cors-unsupported\",DYNAMIC_LINK_NOT_ACTIVATED:\"dynamic-link-not-activated\",INVALID_APP_ID:\"invalid-app-id\",TOO_MANY_ATTEMPTS_TRY_LATER:\"too-many-requests\",WEAK_PASSWORD:\"weak-password\",OPERATION_NOT_ALLOWED:\"operation-not-allowed\",USER_CANCELLED:\"user-cancelled\",CAPTCHA_CHECK_FAILED:\"captcha-check-failed\",INVALID_APP_CREDENTIAL:\"invalid-app-credential\",INVALID_CODE:\"invalid-verification-code\",INVALID_PHONE_NUMBER:\"invalid-phone-number\",INVALID_SESSION_INFO:\"invalid-verification-id\",INVALID_TEMPORARY_PROOF:\"invalid-credential\",MISSING_APP_CREDENTIAL:\"missing-app-credential\",MISSING_CODE:\"missing-verification-code\",MISSING_PHONE_NUMBER:\"missing-phone-number\",MISSING_SESSION_INFO:\"missing-verification-id\",QUOTA_EXCEEDED:\"quota-exceeded\",SESSION_EXPIRED:\"code-expired\",INVALID_CONTINUE_URI:\"invalid-continue-uri\",MISSING_ANDROID_PACKAGE_NAME:\"missing-android-pkg-name\",MISSING_IOS_BUNDLE_ID:\"missing-ios-bundle-id\",UNAUTHORIZED_DOMAIN:\"unauthorized-continue-uri\",INVALID_OAUTH_CLIENT_ID:\"invalid-oauth-client-id\",INVALID_CERT_HASH:\"invalid-cert-hash\"},e||{}),e=(e=n.match(/^[^\\s]+\\s*:\\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Or(r[i],e);return!e&&t&&(e=hr(t)),new Or(\"internal-error\",e)}var Va,Fa={Yc:{Za:\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\",fb:\"https://securetoken.googleapis.com/v1/token\",id:\"p\"},$c:{Za:\"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/\",fb:\"https://staging-securetoken.sandbox.googleapis.com/v1/token\",id:\"s\"},ad:{Za:\"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/\",fb:\"https://test-securetoken.sandbox.googleapis.com/v1/token\",id:\"t\"}};function ja(t){for(var e in Fa)if(Fa[e].id===t)return{firebaseEndpoint:(t=Fa[e]).Za,secureTokenEndpoint:t.fb};return null}Va=ja(\"__EID__\")?\"__EID__\":void 0;var Ua,Ba=mn(\"https://apis.google.com/js/api.js?onload=%{onload}\"),qa=new gr(3e4,6e4),Ha=new gr(5e3,15e3),Wa=null;function Ga(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Xe(this.i,\"/__/auth/iframe\"),Ke(this.a,\"apiKey\",this.g),Ke(this.a,\"appName\",this.h),this.b=null,this.c=[]}function Ka(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function za(t){try{return e.app(t).auth().xa()}catch(t){return[]}}function Qa(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Xa(t){var e=Bn();return function(t){return Da(t,ba,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Qe(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf(\"chrome-extension://\")?a=Qe(o).b==a&&\"chrome-extension\"==s:\"http\"!=s&&\"https\"!=s?a=!1:Kn.test(o)?a=a==o:(o=o.split(\".\").join(\"\\\\.\"),a=new RegExp(\"^(.+\\\\.\"+o+\"|\"+o+\")$\",\"i\").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Mi(Bn())})}function Ya(t){return t.m?t.m:(t.m=zn().then(function(){if(!t.u){var e=t.c,n=t.h,r=za(t.b),o=new Ga(t.l,t.f,t.b);o.f=e,o.b=n,o.c=B(r||[]),t.u=o.toString()}t.i=new function(t){this.b=t,this.a=null,this.bb=function(t){return(Wa||(Wa=new mt(function(t,e){function n(){mr(),or(\"gapi.load\")(\"gapi.iframes\",{callback:t,ontimeout:function(){mr(),e(Error(\"Network Error\"))},timeout:qa.get()})}if(or(\"gapi.iframes.Iframe\"))t();else if(or(\"gapi.load\"))n();else{var r=\"__iframefcb\"+Math.floor(1e6*Math.random()).toString();i[r]=function(){or(\"gapi.load\")?n():e(Error(\"Network Error\"))},St(xo(r=bn(Ba,{onload:r}))).s(function(){e(Error(\"Network Error\"))})}}).s(function(t){throw Wa=null,t}))).then(function(){return new mt(function(e,n){or(\"gapi.iframes.getContext\")().open({where:document.body,url:t.b,messageHandlersFilter:or(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"),attributes:{style:{position:\"absolute\",top:\"-100px\",width:\"1px\",height:\"1px\"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error(\"Network Error\"))},Ha.get());r.ping(i).then(i,function(){n(Error(\"Network Error\"))})})})})}(this)}(t.u),function(t){if(!t.i)throw Error(\"IfcHandler must be initialized!\");!function(t,e){t.bb.then(function(){t.a.register(\"authEvent\",e,or(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Pi(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?\"ACK\":\"ERROR\",St(n)}return n.status=\"ERROR\",St(n)})}(t)}),t.m)}function Ja(t){return t.o||(t.v=t.c?rr(t.c,za(t.b)):null,t.o=new Fo(t.f,ja(t.h),t.v)),t.o}function Za(t,e,n,r,i,o,a,s,u,l){return(t=new Ka(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=at(u||null),t.f=l,t.toString()}function $a(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Or(\"internal-error\",\"The React Native compatibility library was not found.\");this.type=\"asyncStorage\"}function ts(){if(!ns())throw new Or(\"web-storage-unsupported\");this.f={},this.a=[],this.b=0,this.g=i.indexedDB,this.type=\"indexedDB\"}function es(t){return t.h||(t.h=function t(e){return new mt(function(n,r){var i=e.g.open(\"firebaseLocalStorageDb\",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(\"firebaseLocalStorage\",{keyPath:\"fbase_key\"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains(\"firebaseLocalStorage\")?n(i):function(t){return new mt(function(e,n){var r=t.g.deleteDatabase(\"firebaseLocalStorageDb\");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.h}function ns(){try{return!!i.indexedDB}catch(t){return!1}}function rs(t){return t.objectStore(\"firebaseLocalStorage\")}function is(t,e){return t.transaction([\"firebaseLocalStorage\"],e?\"readwrite\":\"readonly\")}function os(t){return new mt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function as(t){var e=this,n=null;this.a=[],this.type=\"indexedDB\",this.c=t,this.b=St().then(function(){return ns()?(Ua||(Ua=new ts),(n=Ua).set(\"__sak\",\"!\").then(function(){return n.get(\"__sak\")}).then(function(t){if(\"!\"!==t)throw Error(\"indexedDB not supported!\");return n.P(\"__sak\")}).then(function(){return n}).s(function(){return e.c})):e.c}).then(function(t){return e.type=t.type,t.Y(function(t){D(e.a,function(e){e(t)})}),t})}function ss(){this.a={},this.type=\"inMemory\"}function us(){if(!function(){var t=\"Node\"==Jn();if(!(t=ls()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem(\"__sak\",\"1\"),t.removeItem(\"__sak\"),!0}catch(t){return!1}}()){if(\"Node\"==Jn())throw new Or(\"internal-error\",\"The LocalStorage compatibility library was not found.\");throw new Or(\"web-storage-unsupported\")}this.a=ls()||e.INTERNAL.node.localStorage,this.type=\"localStorage\"}function ls(){try{var t=i.localStorage,e=dr();return t&&(t.setItem(e,\"1\"),t.removeItem(e)),t}catch(t){return null}}function cs(){this.type=\"nullStorage\"}function hs(){if(!function(){var t=\"Node\"==Jn();if(!(t=fs()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem(\"__sak\",\"1\"),t.removeItem(\"__sak\"),!0}catch(t){return!1}}()){if(\"Node\"==Jn())throw new Or(\"internal-error\",\"The SessionStorage compatibility library was not found.\");throw new Or(\"web-storage-unsupported\")}this.a=fs()||e.INTERNAL.node.sessionStorage,this.type=\"sessionStorage\"}function fs(){try{var t=i.sessionStorage,e=dr();return t&&(t.setItem(e,\"1\"),t.removeItem(e)),t}catch(t){return null}}Ga.prototype.toString=function(){return this.f?Ke(this.a,\"v\",this.f):un(this.a.a,\"v\"),this.b?Ke(this.a,\"eid\",this.b):un(this.a.a,\"eid\"),this.c.length?Ke(this.a,\"fw\",this.c.join(\",\")):un(this.a.a,\"fw\"),this.a.toString()},Ka.prototype.toString=function(){var t=Xe(this.o,\"/__/auth/handler\");if(Ke(t,\"apiKey\",this.l),Ke(t,\"appName\",this.c),Ke(t,\"authType\",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ea()}catch(t){r=null}for(var i in n.Ya=r,Ke(t,\"providerId\",this.a.providerId),r=fr((n=this.a).vb))r[i]=r[i].toString();i=n.Ac,r=at(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.$a&&n.Ya&&!r[n.$a]&&(r[n.$a]=n.Ya),ot(r)||Ke(t,\"customParameters\",hr(r))}if(\"function\"==typeof this.a.Ab&&(n=this.a.Ab()).length&&Ke(t,\"scopes\",n.join(\",\")),this.i?Ke(t,\"redirectUrl\",this.i):un(t.a,\"redirectUrl\"),this.g?Ke(t,\"eventId\",this.g):un(t.a,\"eventId\"),this.h?Ke(t,\"v\",this.h):un(t.a,\"v\"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!ze(t,s)&&Ke(t,s,this.b[s]);return this.f?Ke(t,\"eid\",this.f):un(t.a,\"eid\"),(s=za(this.c)).length&&Ke(t,\"fw\",s.join(\",\")),t.toString()},(t=Qa.prototype).Ea=function(t,e,n){var r=new Or(\"popup-closed-by-user\"),i=new Or(\"web-storage-unsupported\"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:\"webStorageSupport\"};return Ya(t).then(function(){return function(t,e){return t.bb.then(function(){return new mt(function(n){t.a.send(e.type,e,n,or(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Wn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new mt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Ib=function(){var t=ir();return!cr(t)&&!yr(t)},t.Db=function(){return!1},t.zb=function(t,e,n,r,i,o,a){if(!t)return Ct(new Or(\"popup-blocked\"));if(a&&!cr())return this.ga().s(function(e){Wn(t),i(e)}),r(),St();this.a||(this.a=Xa(Ja(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Wn(t),i(e),e});return r(),e}).then(function(){Ni(n),a||qn(Za(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw\"auth/network-request-failed\"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=Xa(Ja(this)));var r=this;return this.a.then(function(){Ni(e),qn(Za(r.l,r.f,r.b,t,e,Bn(),n,r.c,void 0,r.h))}).s(function(t){throw\"auth/network-request-failed\"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return Ya(this).then(function(){return t.i.bb}).s(function(){throw t.a=null,new Or(\"network-request-failed\")})},t.Mb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){j(this.g,function(e){return e==t})},(t=$a.prototype).get=function(t){return St(this.a.getItem(t)).then(function(t){return t&&pr(t)})},t.set=function(t,e){return St(this.a.setItem(t,hr(e)))},t.P=function(t){return St(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){},(t=ts.prototype).set=function(t,e){var n,r=!1,i=this;return es(this).then(function(e){return os((e=rs(is(n=e,!0))).get(t))}).then(function(o){var a=rs(is(n,!0));return o?(o.value=e,os(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,os(a.add(o)))}).then(function(){i.f[t]=e}).ia(function(){r&&i.b--})},t.get=function(t){return es(this).then(function(e){return os(rs(is(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return es(this).then(function(r){return e=!0,n.b++,os(rs(is(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ia(function(){e&&n.b--})},t.Kc=function(){var t=this;return es(this).then(function(t){var e=rs(is(t,!1));return e.getAll?os(e.getAll()):new mt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):\"object\"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.f,n),t.f=n}return r})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel(\"STOP_EVENT\"),function e(){return t.c=Me(800).then(v(t.Kc,t)).then(function(e){0<e.length&&D(t.a,function(t){t(e)})}).then(e).s(function(t){\"STOP_EVENT\"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel(\"STOP_EVENT\")},(t=as.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t})},(t=ss.prototype).get=function(t){return St(this.a[t])},t.set=function(t,e){return this.a[t]=e,St()},t.P=function(t){return delete this.a[t],St()},t.Y=function(){},t.ca=function(){},(t=us.prototype).get=function(t){var e=this;return St().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(t){i.window&&ve(i.window,\"storage\",t)},t.ca=function(t){i.window&&_e(i.window,\"storage\",t)},(t=cs.prototype).get=function(){return St(null)},t.set=function(){return St()},t.P=function(){return St()},t.Y=function(){},t.ca=function(){},(t=hs.prototype).get=function(t){var e=this;return St().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return St().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return St().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var ps,ds,ys={A:us,Qa:hs},ms={A:us,Qa:hs},gs={A:$a,Qa:cs},vs={A:us,Qa:cs},bs={Xc:\"local\",NONE:\"none\",Zc:\"session\"};function ws(){var t=!(yr(ir())||!Xn()),e=cr(),n=ar();this.o=t,this.h=e,this.m=n,this.a={},ps||(ps=new function(){var t={};t.Browser=ys,t.Node=ms,t.ReactNative=gs,t.Worker=vs,this.a=t[Jn()]}),t=ps;try{this.g=!Un()&&wr()||!i.indexedDB?new t.a.A:new as(Yn()?new ss:new t.a.A)}catch(t){this.g=new ss,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new ss}this.l=new ss,this.f=v(this.Lb,this),this.b={}}function _s(){return ds||(ds=new ws),ds}function Es(t,e){switch(e){case\"session\":return t.i;case\"none\":return t.l;default:return t.g}}function Ss(t,e){return\"firebase:\"+t.name+(e?\":\"+e:\"\")}function Cs(t,e,n){return n=Ss(e,n),\"local\"==e.A&&(t.b[n]=null),Es(t,e.A).P(n)}function Ts(t){t.c&&(clearInterval(t.c),t.c=null)}(t=ws.prototype).get=function(t,e){return Es(this,t.A).get(Ss(t,e))},t.set=function(t,e,n){var r=Ss(t,n),i=this,o=Es(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){\"local\"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Ss(t,e),this.m&&(this.b[t]=i.localStorage.getItem(t)),ot(this.a)&&(Es(this,\"local\").Y(this.f),this.h||(Un()||!wr())&&i.indexedDB||!this.m||function(t){Ts(t),t.c=setInterval(function(){for(var e in t.a){var n=i.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ue({type:\"storage\",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Lb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ss(t,e),this.a[t]&&(j(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ot(this.a)&&(Es(this,\"local\").ca(this.f),Ts(this))},t.Lb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var o=i.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.Wa(n))}else if(0==e.indexOf(\"firebase:\")&&this.a[e]){if(void 0!==t.a.a?Es(this,\"local\").ca(this.f):Ts(this),this.o)if(n=i.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?i.localStorage.setItem(e,r):i.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var a=this;n=function(){void 0===t.a.a&&a.b[e]===i.localStorage.getItem(e)||(a.b[e]=i.localStorage.getItem(e),a.Wa(e))},Wt&&$t&&10==$t&&i.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else D(t,v(this.Wa,this))},t.Wa=function(t){this.a[t]&&D(this.a[t],function(t){t()})};var Is,ks={name:\"authEvent\",A:\"local\"};function As(t,e){this.b=-1,this.b=Os,this.f=i.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=i.Int32Array?new Int32Array(64):Array(64),void 0!==Is||(Is=i.Int32Array?new Int32Array(Ls):Ls),this.reset()}_(As,function(){this.b=-1});for(var Os=64,Ns=Os-1,xs=[],Ps=0;Ps<Ns;Ps++)xs[Ps]=0;var Rs=U(128,xs);function Ds(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Is[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ms(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(o(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ds(t),i=0);else{if(!h(e))throw Error(\"message must be string or array\");for(;r<n;){var a=e[r++];if(!(\"number\"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error(\"message must be a byte array\");t.f[i++]=a,i==t.b&&(Ds(t),i=0)}}t.c=i,t.g+=n}As.prototype.reset=function(){this.g=this.c=0,this.a=i.Int32Array?new Int32Array(this.h):B(this.h)};var Ls=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vs(){As.call(this,8,Fs)}_(Vs,As);var Fs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function js(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+\":\"+n,this.v=new function(){this.a=_s()},this.g=new function(t){this.a=t,this.b=_s()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Us(t){return new Or(\"invalid-cordova-configuration\",t)}function Bs(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function qs(t){return t.f||(t.f=t.ga().then(function(){return new mt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){r=!0,o&&o.cancel(),Hs(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=si(e.url)).indexOf(\"/__/auth/callback\")&&(o=(o=\"object\"==typeof(o=pr(ze(o=Qe(i),\"firebaseError\")||null))?Nr(o):null)?new xi(r.b,r.c,null,null,o):new xi(r.b,r.c,i,r.g)),i=o||n}Bs(t,i)})}var n=new xi(\"unknown\",null,null,null,new Or(\"no-auth-event\")),r=!1,o=Me(500).then(function(){return Hs(t).then(function(){r||Bs(t,n)})}),a=i.handleOpenURL;i.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(or(\"BuildInfo.packageName\",i).toLowerCase()+\"://\")&&e({url:t}),\"function\"==typeof a)try{a(t)}catch(t){console.error(t)}},Di||(Di=new Ri),Di.subscribe(e)}(t)})})),t.f}function Hs(t){var e=null;return function(t){return t.b.get(ks,t.a).then(function(t){return Pi(t)})}(t.g).then(function(n){return e=n,Cs((n=t.g).b,ks,n.a)}).then(function(){return e})}(t=js.prototype).ga=function(){return this.za?this.za:this.za=(Qn(void 0)?zn().then(function(){return new mt(function(t,e){var n=i.document,r=setTimeout(function(){e(Error(\"Cordova framework is not ready.\"))},1e3);n.addEventListener(\"deviceready\",function(){clearTimeout(r),t()},!1)})}):Ct(Error(\"Cordova must run in an Android or iOS file scheme.\"))).then(function(){if(\"function\"!=typeof or(\"universalLinks.subscribe\",i))throw Us(\"cordova-universal-links-plugin is not installed\");if(void 0===or(\"BuildInfo.packageName\",i))throw Us(\"cordova-plugin-buildinfo is not installed\");if(\"function\"!=typeof or(\"cordova.plugins.browsertab.openUrl\",i))throw Us(\"cordova-plugin-browsertab is not installed\");if(\"function\"!=typeof or(\"cordova.InAppBrowser.open\",i))throw Us(\"cordova-plugin-inappbrowser is not installed\")},function(){throw new Or(\"cordova-not-ready\")})},t.Ea=function(t,e){return e(new Or(\"operation-not-supported-in-this-environment\")),St()},t.zb=function(){return Ct(new Or(\"operation-not-supported-in-this-environment\"))},t.Mb=function(){return!1},t.Ib=function(){return!0},t.Db=function(){return!0},t.Ca=function(t,e,n){if(this.c)return Ct(new Or(\"redirect-operation-pending\"));var r=this,o=i.document,a=null,s=null,u=null,l=null;return this.c=St().then(function(){return Ni(e),qs(r)}).then(function(){return function(t,e,n,r){var o=function(){for(var t=20,e=[];0<t;)e.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),t--;return e.join(\"\")}(),a=new xi(e,r,null,o,new Or(\"no-auth-event\")),s=or(\"BuildInfo.packageName\",i);if(\"string\"!=typeof s)throw new Or(\"invalid-cordova-configuration\");var u=or(\"BuildInfo.displayName\",i),l={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!ir().toLowerCase().match(/android/))return Ct(new Or(\"operation-not-supported-in-this-environment\"));l.apn=s}u&&(l.appDisplayName=u),o=function(t){var e=new Vs;Ms(e,t),t=[];var n=8*e.g;Ms(e,Rs,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ds(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return M(t,function(t){return 1<(t=t.toString(16)).length?t:\"0\"+t}).join(\"\")}(t)}(o),l.sessionId=o;var c=Za(t.l,t.i,t.m,e,n,null,r,t.o,l,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(ks,a.D(),e)}).then(function(){var e=or(\"cordova.plugins.browsertab.isAvailable\",i);if(\"function\"!=typeof e)throw new Or(\"invalid-cordova-configuration\");var n=null;e(function(e){if(e){if(\"function\"!=typeof(n=or(\"cordova.plugins.browsertab.openUrl\",i)))throw new Or(\"invalid-cordova-configuration\");n(c)}else{if(\"function\"!=typeof(n=or(\"cordova.InAppBrowser.open\",i)))throw new Or(\"invalid-cordova-configuration\");e=!(!(e=ir()).match(/(iPad|iPhone|iPod).*OS 7_\\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\\d/i)),t.a=n(c,e?\"_blank\":\"_system\",\"location=yes\")}})})}(r,t,e,n)}).then(function(){return new mt(function(t,e){s=function(){var e=or(\"cordova.plugins.browsertab.close\",i);return t(),\"function\"==typeof e&&e(),r.a&&\"function\"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(s),l=function(){vr()&&u()},o.addEventListener(\"resume\",u=function(){a||(a=Me(2e3).then(function(){e(new Or(\"redirect-cancelled-by-user\"))}))},!1),ir().toLowerCase().match(/android/)||o.addEventListener(\"visibilitychange\",l,!1)}).s(function(t){return Hs(r).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener(\"resume\",u,!1),l&&o.removeEventListener(\"visibilitychange\",l,!1),a&&a.cancel(),s&&r.Ka(s),r.c=null})},t.va=function(t){this.b.push(t),qs(this).s(function(e){\"auth/invalid-cordova-configuration\"===e.code&&(e=new xi(\"unknown\",null,null,null,new Or(\"no-auth-event\")),t(e))})},t.Ka=function(t){j(this.b,function(e){return e==t})};var Ws={name:\"pendingRedirect\",A:\"session\"};function Gs(t){return Cs(t.b,Ws,t.a)}function Ks(t,e,n){this.v=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=v(this.o,this),this.c=new nu,this.u=new au,this.g=new function(t){this.a=t,this.b=_s()}(this.m+\":\"+this.l),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.u,this.b.linkViaPopup=this.u,this.b.reauthViaPopup=this.u,this.a=zs(this.v,this.m,this.l,Va)}function zs(t,n,r,i){var o=e.SDK_VERSION||null;return Qn()?new js(t,n,r,o,i):new Qa(t,n,r,o,i)}function Qs(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Xs(t){t.a.Ib()&&Qs(t).s(function(e){var n=new xi(\"unknown\",null,null,null,new Or(\"operation-not-supported-in-this-environment\"));$s(e)&&t.o(n)}),t.a.Db()||ru(t.c)}Ks.prototype.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=zs(this.v,this.m,this.l)},Ks.prototype.subscribe=function(t){if(V(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Ws,t.a).then(function(t){return\"pending\"==t})})(this.g).then(function(t){t?Gs(e.g).then(function(){Qs(e).s(function(t){var n=new xi(\"unknown\",null,null,null,new Or(\"operation-not-supported-in-this-environment\"));$s(t)&&e.o(n)})}):Xs(e)}).s(function(){Xs(e)})}},Ks.prototype.unsubscribe=function(t){j(this.h,function(e){return e==t})},Ks.prototype.o=function(t){if(!t)throw new Or(\"invalid-auth-event\");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.sb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return ru(this.c),e};var Ys=new gr(2e3,1e4),Js=new gr(3e4,6e4);function Zs(t,e,n,r,i,o){return t.a.zb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function $s(t){return!(!t||\"auth/cordova-not-ready\"!=t.code)}Ks.prototype.fa=function(){return this.c.fa()},Ks.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Ws,\"pending\",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if($s(t))throw new Or(\"operation-not-supported-in-this-environment\");return r=t,Gs(i.g).then(function(){throw r})}).then(function(){return i.a.Mb()?new mt(function(){}):Gs(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ks.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Ys.get())};var tu={};function eu(t,e,n){var r=e+\":\"+n;return tu[r]||(tu[r]=new Ks(t,e,n)),tu[r]}function nu(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function ru(t){t.g||(t.g=!0,ou(t,!1,null,null))}function iu(t,e){if(t.b=function(){return St(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ou(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ct(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):iu(t,n):iu(t,{user:null}),t.f=[],t.c=[]}function au(){}function su(){this.pb=!1,Object.defineProperty(this,\"appVerificationDisabled\",{get:function(){return this.pb},set:function(t){this.pb=t},enumerable:!1})}function uu(t,e){this.a=e,Tr(this,\"verificationId\",t)}function lu(t,e,n,r){return new ki(t).Ta(e,n).then(function(t){return new uu(t,r)})}function cu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error(\"Proactive refresh lower bound greater than upper bound!\")}function hu(t){this.f=t,this.b=this.a=null,this.c=0}function fu(t,e){var n=e[Uo],r=e.refreshToken;e=pu(e.expiresIn),t.b=n,t.c=e,t.a=r}function pu(t){return w()+1e3*parseInt(t,10)}function du(t,e){this.a=t||null,this.b=e||null,Ir(this,{lastSignInTime:br(e||null),creationTime:br(t||null)})}function yu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function mu(t,n,r){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Fo(this.l,ja(Va),t),this.h=new hu(this.b),Su(this,n[Uo]),fu(this.h,n),Tr(this,\"refreshToken\",this.h.a),Iu(this,r||{}),Ne.call(this),this.I=!1,this.u&&sr()&&(this.a=eu(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new cu(function(){return t.F(!0)},function(t){return!(!t||\"auth/network-request-failed\"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.V=v(this.Ha,this);var i=this;this.ka=null,this.sa=function(t){i.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){vu(i,t.c)},this.W=null}function gu(t,e){t.X&&_e(t.X,\"languageCodeChanged\",t.sa),(t.X=e)&&ve(e,\"languageCodeChanged\",t.sa)}function vu(t,n){t.O=n,Ko(t.b,e.SDK_VERSION?rr(e.SDK_VERSION,t.O):null)}function bu(t,e){t.W&&_e(t.W,\"frameworkChanged\",t.ra),(t.W=e)&&ve(e,\"frameworkChanged\",t.ra)}function wu(t){try{return e.app(t.o).auth()}catch(e){throw new Or(\"internal-error\",\"No firebase.auth.Auth instance is available for the Firebase App '\"+t.o+\"'!\")}}function _u(t){t.C||t.w.b||(t.w.start(),_e(t,\"tokenChanged\",t.V),ve(t,\"tokenChanged\",t.V))}function Eu(t){_e(t,\"tokenChanged\",t.V),t.w.stop()}function Su(t,e){t.qa=e,Tr(t,\"_lat\",e)}function Cu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new mt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Tt(t[o],b(i,o,!0),b(i,o,!1));else e(r)})}(e).then(function(){return t})}function Tu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Iu(t,e){Ir(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new du(e.createdAt,e.lastLoginAt),providerData:[]})}function ku(){}function Au(t){return St().then(function(){if(t.C)throw new Or(\"app-deleted\")})}function Ou(t){return M(t.providerData,function(t){return t.providerId})}function Nu(t,e){e&&(xu(t,e.providerId),t.providerData.push(e))}function xu(t,e){j(t.providerData,function(t){return t.providerId==e})}function Pu(t,e,n){(\"uid\"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function Ru(t,e){t!=e&&(Ir(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Tr(t,\"metadata\",e.metadata?function(t){return new du(t.a,t.b)}(e.metadata):new du),D(e.providerData,function(e){Nu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Tr(t,\"refreshToken\",t.h.a))}function Du(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Da(t.b,ya,{idToken:e}).then(v(t.uc,t))}(t,e).then(function(){return n||Pu(t,\"isAnonymous\",!1),e})})}function Mu(t,e){e[Uo]&&t.qa!=e[Uo]&&(fu(t.h,e),t.dispatchEvent(new yu(\"tokenChanged\")),Su(t,e[Uo]),Pu(t,\"refreshToken\",t.h.a))}function Lu(t,e){return Du(t).then(function(){if(V(Ou(t),e))return Cu(t).then(function(){throw new Or(\"provider-already-linked\")})})}function Vu(t,e,n){return kr({user:t,credential:Oi(e),additionalUserInfo:e=Zr(e),operationType:n})}function Fu(t,e){return Mu(t,e),t.reload().then(function(){return t})}function ju(t,n,r,i,o){if(!sr())return Ct(new Or(\"operation-not-supported-in-this-environment\"));if(t.i&&!o)return Ct(t.i);var a=Jr(r.providerId),s=dr(t.uid+\":::\"),u=null;(!cr()||Xn())&&t.u&&r.isOAuthProvider&&(u=Za(t.u,t.l,t.o,n,r,null,s,e.SDK_VERSION||null));var l=Gn(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(Bu(t),!o)return t.F().then(function(){})}).then(function(){return Zs(t.a,l,n,r,s,!!u)}).then(function(){return new mt(function(e,r){t.ha(n,null,new Or(\"cancelled-popup-request\"),t.g||null),t.f=e,t.v=r,t.g=s,t.c=t.a.Ea(t,n,l,s)})}).then(function(t){return l&&Wn(l),t?kr(t):null}).s(function(t){throw l&&Wn(l),t}),qu(t,i,o)}function Uu(t,e,n,r,i){if(!sr())return Ct(new Or(\"operation-not-supported-in-this-environment\"));if(t.i&&!i)return Ct(t.i);var o=null,a=dr(t.uid+\":::\");return r=r().then(function(){if(Bu(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,Cu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Wu,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Gu(t.ba);throw o}).then(function(){if(o)throw o}),qu(t,r,i)}function Bu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Or(\"internal-error\");throw new Or(\"auth-domain-config-required\")}}function qu(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ct(t.i)):e.s(function(e){throw!e||\"auth/user-disabled\"!=e.code&&\"auth/user-token-expired\"!=e.code||(t.i||t.dispatchEvent(new yu(\"userInvalidated\")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){F(t.G,r)}),r}function Hu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Uo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var r=new mu(e,n,t);return t.providerData&&D(t.providerData,function(t){t&&Nu(r,kr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}nu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c;\"unknown\"!=n||t.a&&\"auth/web-storage-unsupported\"==t.a.code||t.a&&\"auth/operation-not-supported-in-this-environment\"==t.a.code?t.a?(ou(this,!0,null,t.a),St()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){ou(t,o,e,null)}).s(function(e){ou(t,o,null,e)})}(this,t,e):Ct(new Or(\"invalid-auth-event\")):(ou(this,!1,null,null),St())}else Ct(new Or(\"invalid-auth-event\"))},nu.prototype.fa=function(){var t=this;return new mt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Or(\"timeout\");t.a&&t.a.cancel(),t.a=Me(Js.get()).then(function(){t.b||ou(t,!0,null,e)})}(t))})},au.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),St()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Ct(new Or(\"invalid-auth-event\"))}else Ct(new Or(\"invalid-auth-event\"))},uu.prototype.confirm=function(t){return t=Ai(this.verificationId,t),this.a(t)},cu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=i.document,e=null,vr()||!t?St():new mt(function(n){t.addEventListener(\"visibilitychange\",e=function(){vr()&&(t.removeEventListener(\"visibilitychange\",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener(\"visibilitychange\",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},cu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},hu.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},hu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ct(new Or(\"user-token-expired\")):t||!this.b||w()>this.c-3e4?this.a?function(t,e){return function(t,e){return new mt(function(n,r){\"refresh_token\"==e.grant_type&&e.refresh_token||\"authorization_code\"==e.grant_type&&e.code?zo(t,t.i+\"?key=\"+encodeURIComponent(t.b),function(t){t?t.error?r(La(t)):t.access_token&&t.refresh_token?n(t):r(new Or(\"internal-error\")):r(new Or(\"network-request-failed\"))},\"POST\",sn(e).toString(),t.f,t.m.get()):r(new Or(\"internal-error\"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=pu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw\"auth/user-token-expired\"==e.code&&(t.a=null),e})}(this,{grant_type:\"refresh_token\",refresh_token:this.a}):St(null):St({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},du.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(yu,se),_(mu,Ne),mu.prototype.oa=function(t){this.ka=t,Go(this.b,t)},mu.prototype.ea=function(){return this.ka},mu.prototype.xa=function(){return B(this.O)},mu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Tr(mu.prototype,\"providerId\",\"firebase\"),(t=mu.prototype).reload=function(){var t=this;return qu(this,Au(this).then(function(){return Du(t).then(function(){return Cu(t)}).then(ku)}))},t.ac=function(t){return this.F(t).then(function(t){return new function(t){var e=zr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Or(\"internal-error\",\"An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.\");Ir(this,{token:t,expirationTime:br(1e3*e.exp),authTime:br(1e3*e.auth_time),issuedAtTime:br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return qu(this,Au(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Or(\"internal-error\");return t.accessToken!=e.qa&&(Su(e,t.accessToken),e.dispatchEvent(new yu(\"tokenChanged\"))),Pu(e,\"refreshToken\",t.refreshToken),t.accessToken}))},t.uc=function(t){if(!(t=t.users)||!t.length)throw new Or(\"internal-error\");Iu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?M(t,function(t){return new function(t,e,n,r,i,o){Ir(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Nu(this,e[n]);Pu(this,\"isAnonymous\",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.cb=function(t){var e=this,n=null;return qu(this,t.f(this.b,this.uid).then(function(t){return Mu(e,t),n=Vu(e,t,\"reauthenticate\"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.vc=function(t){return Sr(\"firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead.\"),this.cb(t).then(function(){})},t.ab=function(t){var e=this,n=null;return qu(this,Lu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Vu(e,t,\"link\"),Fu(e,t)}).then(function(){return n}))},t.mc=function(t){return Sr(\"firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead.\"),this.ab(t).then(function(t){return t.user})},t.nc=function(t,e){var n=this;return qu(this,Lu(this,\"phone\").then(function(){return lu(wu(n),t,e,v(n.ab,n))}))},t.wc=function(t,e){var n=this;return qu(this,St().then(function(){return lu(wu(n),t,e,v(n.cb,n))}),!0)},t.mb=function(t){var e=this;return qu(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return Mu(e,t),e.reload()}))},t.Pc=function(t){var e=this;return qu(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Mu(e,t),e.reload()}))},t.nb=function(t){var e=this;return qu(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return Mu(e,t),e.reload()}))},t.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Au(this);var e=this;return qu(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Mu(e,t),Pu(e,\"displayName\",t.displayName||null),Pu(e,\"photoURL\",t.photoUrl||null),D(e.providerData,function(t){\"password\"===t.providerId&&(Tr(t,\"displayName\",e.displayName),Tr(t,\"photoURL\",e.photoURL))}),Cu(e)}).then(ku))},t.Nc=function(t){var e=this;return qu(this,Du(this).then(function(n){return V(Ou(e),t)?function(t,e,n){return Da(t,fa,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return D(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),D(Ou(e),function(t){n[t]||xu(e,t)}),n[ki.PROVIDER_ID]||Tr(e,\"phoneNumber\",null),Cu(e)}):Cu(e).then(function(){throw new Or(\"no-such-provider\")})}))},t.delete=function(){var t=this;return qu(this,this.F().then(function(e){return Da(t.b,ha,{idToken:e})}).then(function(){t.dispatchEvent(new yu(\"userDeleted\"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel(\"app-deleted\");gu(t,null),bu(t,null),t.G=[],t.C=!0,Eu(t),Tr(t,\"refreshToken\",null),t.a&&t.a.unsubscribe(t)})},t.sb=function(t,e){return!!(\"linkViaPopup\"==t&&(this.g||null)==e&&this.f||\"reauthViaPopup\"==t&&(this.g||null)==e&&this.f||\"linkViaRedirect\"==t&&(this.aa||null)==e||\"reauthViaRedirect\"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){\"linkViaPopup\"!=t&&\"reauthViaPopup\"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return\"linkViaPopup\"==t&&e==(this.g||null)?v(this.xb,this):\"reauthViaPopup\"==t&&e==(this.g||null)?v(this.yb,this):\"linkViaRedirect\"==t&&(this.aa||null)==e?v(this.xb,this):\"reauthViaRedirect\"==t&&(this.aa||null)==e?v(this.yb,this):null},t.oc=function(t){var e=this;return ju(this,\"linkViaPopup\",t,function(){return Lu(e,t.providerId).then(function(){return Cu(e)})},!1)},t.xc=function(t){return ju(this,\"reauthViaPopup\",t,function(){return St()},!0)},t.pc=function(t){var e=this;return Uu(this,\"linkViaRedirect\",t,function(){return Lu(e,t.providerId)},!1)},t.yc=function(t){return Uu(this,\"reauthViaRedirect\",t,function(){return St()},!0)},t.xb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return qu(this,this.F().then(function(r){return ia(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Vu(n,t,\"link\"),Fu(n,t)}).then(function(){return r}))},t.yb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return qu(this,St().then(function(){return ui(oa(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Vu(n,t,\"reauthenticate\"),Mu(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.gb=function(t){var e=this,n=null;return qu(this,this.F().then(function(e){return n=e,void 0===t||ot(t)?{}:qr(new Rr(t))}).then(function(t){return e.b.gb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ct(t,this.metadata.D()),D(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Wu={name:\"redirectUser\",A:\"session\"};function Gu(t){return Cs(t.b,Wu,t.a)}function Ku(t){this.a=t,this.b=_s(),this.c=null,this.f=function(t){var e=Xu(\"local\"),n=Xu(\"session\"),r=Xu(\"none\");return function(t,e,n){var r=Ss(e,n),o=Es(t,e.A);return t.get(e,n).then(function(a){var s=null;try{s=pr(i.localStorage.getItem(r))}catch(t){}if(s&&!a)return i.localStorage.removeItem(r),t.set(e,s,n);s&&a&&\"localStorage\"!=o.type&&i.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Qu,t.a).then(function(t){return t?Xu(t):e})})})}).then(function(e){return t.c=e,zu(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Xu(\"local\"),this.a,v(this.g,this))}function zu(t,e){var n,r=[];for(n in bs)bs[n]!==e&&r.push(Cs(t.b,Xu(bs[n]),t.a));return r.push(Cs(t.b,Qu,t.a)),function(t){return new mt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Tt(t[s],b(o,s),a);else e(i)})}(r)}Ku.prototype.g=function(){var t=this,e=Xu(\"local\");$u(this,function(){return St().then(function(){return t.c&&\"local\"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return zu(t,\"local\").then(function(){t.c=e})})})};var Qu={name:\"persistence\",A:\"session\"};function Xu(t){return{name:\"authUser\",A:t}}function Yu(t,e){return $u(t,function(){return t.b.set(t.c,e.D(),t.a)})}function Ju(t){return $u(t,function(){return Cs(t.b,t.c,t.a)})}function Zu(t,e){return $u(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Hu(t||{})})})}function $u(t,e){return t.f=t.f.then(e,e),t.f}function tl(t){if(this.l=!1,Tr(this,\"settings\",new su),Tr(this,\"app\",t),!sl(this).options||!sl(this).options.apiKey)throw new Or(\"invalid-api-key\");t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Fo(sl(this).options&&sl(this).options.apiKey,ja(Va),t),this.N=[],this.o=[],this.I=[],this.Pb=e.INTERNAL.createSubscribe(v(this.ic,this)),this.O=void 0,this.Qb=e.INTERNAL.createSubscribe(v(this.jc,this)),ol(this,null),this.h=new Ku(sl(this).options.apiKey+\":\"+sl(this).name),this.w=new function(t){this.a=t,this.b=_s()}(sl(this).options.apiKey+\":\"+sl(this).name),this.V=hl(this,function(t){var e=sl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Hu(t||{})})}(t.w,sl(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),Gu(t.w)});return hl(t,e)}(t).then(function(){return Zu(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Yu(t.h,e).then(function(){return e})}).s(function(n){return\"auth/network-request-failed\"==n.code?e:Ju(t.h)})):null}).then(function(e){ol(t,e||null)});return hl(t,n)}(this)),this.i=hl(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Xu(\"local\"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=v(this.Jc,this),this.Ha=v(this.Z,this),this.qa=v(this.Yb,this),this.ra=v(this.gc,this),this.sa=v(this.hc,this),function(t){var e=sl(t).options.authDomain,n=sl(t).options.apiKey;e&&sr()&&(t.Ob=t.V.then(function(){if(!t.l){if(t.a=eu(e,n,sl(t).name),t.a.subscribe(t),ul(t)&&Tu(ul(t)),t.C){Tu(t.C);var r=t.C;r.oa(t.ea()),gu(r,t),vu(r=t.C,t.G),bu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.INTERNAL.logFramework=v(this.qc,this),this.u=0,Ne.call(this),function(t){Object.defineProperty(t,\"lc\",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function el(t){se.call(this,\"languageCodeChanged\"),this.g=t}function nl(t){se.call(this,\"frameworkChanged\"),this.c=t}function rl(t){return t.Ob||Ct(new Or(\"auth-domain-config-required\"))}function il(t,e){var n={};return n.apiKey=sl(t).options.apiKey,n.authDomain=sl(t).options.authDomain,n.appName=sl(t).name,t.V.then(function(){return function(t,e,n,r){var i=new mu(t,e);return n&&(i.ba=n),r&&vu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return ul(t)&&e.uid==ul(t).uid?(Ru(ul(t),e),t.Z(e)):(ol(t,e),Tu(e),t.Z(e))}).then(function(){cl(t)})}function ol(t,e){ul(t)&&(function(t,e){j(t.N,function(t){return t==e})}(ul(t),t.Ha),_e(ul(t),\"tokenChanged\",t.qa),_e(ul(t),\"userDeleted\",t.ra),_e(ul(t),\"userInvalidated\",t.sa),Eu(ul(t))),e&&(e.N.push(t.Ha),ve(e,\"tokenChanged\",t.qa),ve(e,\"userDeleted\",t.ra),ve(e,\"userInvalidated\",t.sa),0<t.u&&_u(e)),Tr(t,\"currentUser\",e),e&&(e.oa(t.ea()),gu(e,t),vu(e,t.G),bu(e,t))}function al(t,e){var n=null,r=null;return hl(t,e.then(function(e){return n=Oi(e),r=Zr(e),il(t,e)}).then(function(){return kr({user:ul(t),credential:n,additionalUserInfo:r,operationType:\"signIn\"})}))}function sl(t){return t.app}function ul(t){return t.currentUser}function ll(t){return ul(t)&&ul(t)._lat||null}function cl(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](ll(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](ll(t))}}function hl(t,e){return t.N.push(e),e.ia(function(){F(t.N,e)}),e}function fl(){}function pl(){this.a={},this.b=1e12}Ku.prototype.jb=function(t){var e=null,n=this;return function(t){var e=new Or(\"invalid-persistence-type\"),n=new Or(\"unsupported-persistence-type\");t:{for(r in bs)if(bs[r]==t){var r=!0;break t}r=!1}if(!r||\"string\"!=typeof t)throw e;switch(Jn()){case\"ReactNative\":if(\"session\"===t)throw n;break;case\"Node\":if(\"none\"!==t)throw n;break;default:if(!ar()&&\"none\"!==t)throw n}}(t),$u(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,zu(n,t)}).then(function(){if(n.c=Xu(t),e)return n.b.set(n.c,e,n.a)}):St()})},_(tl,Ne),_(el,se),_(nl,se),(t=tl.prototype).jb=function(t){return hl(this,t=this.h.jb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,Go(this.b,this.W),this.dispatchEvent(new el(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var t=i.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.qc=function(t){this.G.push(t),Ko(this.b,e.SDK_VERSION?rr(e.SDK_VERSION,this.G):null),this.dispatchEvent(new nl(this.G))},t.xa=function(){return B(this.G)},t.toJSON=function(){return{apiKey:sl(this).options.apiKey,authDomain:sl(this).options.authDomain,appName:sl(this).name,currentUser:ul(this)&&ul(this).D()}},t.sb=function(t,e){switch(t){case\"unknown\":case\"signInViaRedirect\":return!0;case\"signInViaPopup\":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){\"signInViaPopup\"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return\"signInViaRedirect\"==t||\"signInViaPopup\"==t&&this.g==e&&this.f?v(this.Xb,this):null},t.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ra(n.b,t).then(function(t){return r=Oi(t),i=Zr(t),t});return hl(this,t=n.V.then(function(){return o}).then(function(t){return il(n,t)}).then(function(){return kr({user:ul(n),credential:r,additionalUserInfo:i,operationType:\"signIn\"})}))},t.Hc=function(t){if(!sr())return Ct(new Or(\"operation-not-supported-in-this-environment\"));var n=this,r=Jr(t.providerId),i=dr(),o=null;(!cr()||Xn())&&sl(this).options.authDomain&&t.isOAuthProvider&&(o=Za(sl(this).options.authDomain,sl(this).options.apiKey,sl(this).name,\"signInViaPopup\",t,null,i,e.SDK_VERSION||null));var a=Gn(o,r&&r.Ba,r&&r.Aa);return hl(this,r=rl(this).then(function(e){return Zs(e,a,\"signInViaPopup\",t,i,!!o)}).then(function(){return new mt(function(t,e){n.ha(\"signInViaPopup\",null,new Or(\"cancelled-popup-request\"),n.g),n.f=t,n.v=e,n.g=i,n.c=n.a.Ea(n,\"signInViaPopup\",a,i)})}).then(function(t){return a&&Wn(a),t?kr(t):null}).s(function(t){throw a&&Wn(a),t}))},t.Ic=function(t){if(!sr())return Ct(new Or(\"operation-not-supported-in-this-environment\"));var e=this;return hl(this,rl(this).then(function(){return $u(t=e.h,function(){return t.b.set(Qu,t.c.A,t.a)});var t}).then(function(){return e.a.Ca(\"signInViaRedirect\",t)}))},t.fa=function(){if(!sr())return Ct(new Or(\"operation-not-supported-in-this-environment\"));var t=this;return hl(this,rl(this).then(function(){return t.a.fa()}).then(function(t){return t?kr(t):null}))},t.Oc=function(t){if(!t)return Ct(new Or(\"null-user\"));var e=this,n={};n.apiKey=sl(this).options.apiKey,n.authDomain=sl(this).options.authDomain,n.appName=sl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[Uo]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-w())/1e3,e=new mu(e,o),n&&(e.ba=n),r&&vu(e,r),Ru(e,t),e}(t,n,e.w,e.xa());return hl(this,this.i.then(function(){if(sl(e).options.apiKey!=t.l)return r.reload()}).then(function(){return ul(e)&&t.uid==ul(e).uid?(Ru(ul(e),t),e.Z(t)):(ol(e,r),Tu(r),e.Z(r))}).then(function(){cl(e)}))},t.kb=function(){var t=this;return hl(this,this.i.then(function(){return ul(t)?(ol(t,null),Ju(t.h).then(function(){cl(t)})):St()}))},t.Jc=function(){var t=this;return Zu(this.h,sl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=ul(t)&&e){n=ul(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&\"\"!==n&&void 0!==r&&null!==r&&\"\"!==r&&n==r}if(n)return Ru(ul(t),e),ul(t).F();(ul(t)||e)&&(ol(t,e),e&&(Tu(e),e.ba=t.w),t.a&&t.a.subscribe(t),cl(t))}})},t.Z=function(t){return Yu(this.h,t)},t.Yb=function(){cl(this),this.Z(ul(this))},t.gc=function(){this.kb()},t.hc=function(){this.kb()},t.ic=function(t){var e=this;this.addAuthTokenListener(function(){t.next(ul(e))})},t.jc=function(t){var e=this;!function(t,e){t.I.push(e),hl(t,t.i.then(function(){!t.l&&V(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(ll(t)))}))}(this,function(){t.next(ul(e))})},t.sc=function(t,n,r){var i=this;return this.X&&e.Promise.resolve().then(function(){f(t)?t(ul(i)):f(t.next)&&t.next(ul(i))}),this.Pb(t,n,r)},t.rc=function(t,n,r){var i=this;return this.X&&e.Promise.resolve().then(function(){i.O=i.getUid(),f(t)?t(ul(i)):f(t.next)&&t.next(ul(i))}),this.Qb(t,n,r)},t.$b=function(t){var e=this;return hl(this,this.i.then(function(){return ul(e)?ul(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Jb=function(t){var e=this;return this.i.then(function(){return al(e,Da(e.b,Oa,{token:t}))}).then(function(t){var n=t.user;return Pu(n,\"isAnonymous\",!1),e.Z(n),t})},t.Bc=function(t){return Sr(\"firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead.\"),this.Jb(t)},t.Cc=function(t,e){return Sr(\"firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead.\"),this.Kb(t,e)},t.Kb=function(t,e){var n=this;return this.i.then(function(){return al(n,Da(n.b,Na,{email:t,password:e}))})},t.ub=function(t,e){var n=this;return this.i.then(function(){return al(n,Da(n.b,la,{email:t,password:e}))})},t.Sb=function(t,e){return Sr(\"firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead.\"),this.ub(t,e)},t.Ec=function(t){return Sr(\"firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead.\"),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return al(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=ul(t);return e&&e.isAnonymous?kr({user:e,credential:null,additionalUserInfo:kr({providerId:null,isNewUser:!1}),operationType:\"signIn\"}):al(t,t.b.Pa()).then(function(e){var n=e.user;return Pu(n,\"isAnonymous\",!0),t.Z(n),e})})},t.Dc=function(){return Sr(\"firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead.\"),this.Pa()},t.getUid=function(){return ul(this)&&ul(this).uid||null},t.Rb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ul(this)&&_u(ul(this))},t.zc=function(t){var e=this;D(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&ul(this)&&Eu(ul(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),hl(this,this.i.then(function(){e.l||V(e.o,t)&&t(ll(e))}))},t.removeAuthTokenListener=function(t){j(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel(\"app-deleted\");return this.N=[],this.h&&(t=this.h).b.removeListener(Xu(\"local\"),t.a,this.ka),this.a&&this.a.unsubscribe(this),e.Promise.resolve()},t.Vb=function(t){return Sr(\"firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead.\"),hl(this,function(t,e){return Da(t,ca,{identifier:e,continueUri:ur()?Bn():\"http://localhost\"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Wb=function(t){return hl(this,function(t,e){return Da(t,ca,{identifier:e,continueUri:ur()?Bn():\"http://localhost\"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.kc=function(t){return!!Ci(t)},t.ib=function(t,e){var n=this;return hl(this,St().then(function(){var t=new Rr(e);if(!t.c)throw new Or(\"argument-error\",Mr+\" must be true when sending sign in link to email\");return qr(t)}).then(function(e){return n.b.ib(t,e)}).then(function(){}))},t.Rc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Xa=function(t,e){return hl(this,this.b.Xa(t,e).then(function(){}))},t.Ja=function(t){return hl(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(!(t=t.requestType)||\"EMAIL_SIGNIN\"!=t&&!n)throw Error(\"Invalid provider user info!\");e.fromEmail=r||null,e.email=n||null,Tr(this,\"operation\",t),Tr(this,\"data\",Ar(e))}(t)}))},t.Va=function(t){return hl(this,this.b.Va(t).then(function(){}))},t.hb=function(t,e){var n=this;return hl(this,St().then(function(){return void 0===e||ot(e)?{}:qr(new Rr(e))}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},t.Gc=function(t,e){return hl(this,lu(this,t,e,v(this.Oa,this)))},t.Fc=function(t,e){var n=this;return hl(this,St().then(function(){var r=Si(t,e||Bn());return n.Oa(r)}))},fl.prototype.render=function(){},fl.prototype.reset=function(){},fl.prototype.getResponse=function(){},fl.prototype.execute=function(){};var dl=null;function yl(t,e){return(e=ml(e))&&t.a[e]||null}function ml(t){return(t=void 0===t?1e12:t)?t.toString():null}function gl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h=\"invisible\"!==this.c.size,this.f=Pn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ve(this.f,\"click\",this.i)}function vl(t){if(t.g)throw Error(\"reCAPTCHA mock was already deleted!\")}function bl(){}pl.prototype.render=function(t,e){return this.a[this.b.toString()]=new gl(t,e),this.b++},pl.prototype.reset=function(t){var e=yl(this,t);t=ml(t),e&&t&&(e.delete(),delete this.a[t])},pl.prototype.getResponse=function(t){return(t=yl(this,t))?t.getResponse():null},pl.prototype.execute=function(t){(t=yl(this,t))&&t.execute()},gl.prototype.getResponse=function(){return vl(this),this.b},gl.prototype.execute=function(){vl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),t--;return e.join(\"\")}();var e=t.c.callback,n=t.c[\"expired-callback\"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},gl.prototype.delete=function(){vl(this),this.g=!0,clearTimeout(this.a),this.a=null,_e(this.f,\"click\",this.i)},bl.prototype.g=function(){return dl||(dl=new pl),St(dl)},bl.prototype.c=function(){};var wl=null;function _l(){this.b=i.grecaptcha?1/0:0,this.f=null,this.a=\"__rcb\"+Math.floor(1e6*Math.random()).toString()}var El=mn(\"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}\"),Sl=new gr(3e4,6e4);_l.prototype.g=function(t){var e=this;return new mt(function(n,r){var o=setTimeout(function(){r(new Or(\"network-request-failed\"))},Sl.get());!i.grecaptcha||t!==e.f&&!e.b?(i[e.a]=function(){if(i.grecaptcha){e.f=t;var a=i.grecaptcha.render;i.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),n(i.grecaptcha)}else clearTimeout(o),r(new Or(\"internal-error\"));delete i[e.a]},St(xo(bn(El,{onload:e.a,hl:t||\"\"}))).s(function(){clearTimeout(o),r(new Or(\"internal-error\",\"Unable to load external reCAPTCHA dependencies!\"))})):(clearTimeout(o),n(i.grecaptcha))})},_l.prototype.c=function(){this.b--};var Cl=null;function Tl(t,e,n,r,o,a,s){if(Tr(this,\"type\",\"recaptcha\"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,s?(wl||(wl=new bl),s=wl):(Cl||(Cl=new _l),s=Cl),this.o=s,this.a=n||{theme:\"light\",type:\"image\"},this.h=[],this.a[Al])throw new Or(\"argument-error\",\"sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.\");if(this.i=\"invisible\"===this.a[Ol],!i.document)throw new Or(\"operation-not-supported-in-this-environment\",\"RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.\");if(!Pn(e)||!this.i&&Pn(e).hasChildNodes())throw new Or(\"argument-error\",\"reCAPTCHA container is either not found or already contains inner elements!\");this.u=new Fo(t,a||null,o||null),this.v=r||function(){return null};var u=this;this.m=[];var l=this.a[Il];this.a[Il]=function(t){if(Nl(u,t),\"function\"==typeof l)l(t);else if(\"string\"==typeof l){var e=or(l,i);\"function\"==typeof e&&e(t)}};var c=this.a[kl];this.a[kl]=function(){if(Nl(u,null),\"function\"==typeof c)c();else if(\"string\"==typeof c){var t=or(c,i);\"function\"==typeof t&&t()}}}var Il=\"callback\",kl=\"expired-callback\",Al=\"sitekey\",Ol=\"size\";function Nl(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function xl(t,e){return t.h.push(e),e.ia(function(){F(t.h,e)}),e}function Pl(t){if(t.C)throw new Or(\"internal-error\",\"RecaptchaVerifier instance has been destroyed.\")}function Rl(t,n,r){var i=!1;try{this.b=r||e.app()}catch(t){throw new Or(\"argument-error\",\"No firebase.app.App instance is currently initialized.\")}if(!this.b.options||!this.b.options.apiKey)throw new Or(\"invalid-api-key\");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=e.SDK_VERSION?rr(e.SDK_VERSION,a):null,Tl.call(this,r,t,n,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,ja(Va),i)}function Dl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Or(\"internal-error\",\"Argument validator encountered a required argument after an optional argument.\");i++}if(o=e.length,n.length<i||o<n.length)r=\"Expected \"+(i==o?1==i?\"1 argument\":i+\" arguments\":i+\"-\"+o+\" arguments\")+\" but got \"+n.length+\".\";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ml.length)throw new Or(\"internal-error\",\"Argument validator received an unsupported number of arguments.\");n=Ml[i],r=(r?\"\":n+\" argument \")+(e.name?'\"'+e.name+'\" ':\"\")+\"must be \"+e.K+\".\";break t}r=null}}if(r)throw new Or(\"argument-error\",t+\" failed: \"+r)}(t=Tl.prototype).za=function(){var t=this;return this.f?this.f:this.f=xl(this,St().then(function(){if(ur()&&!Yn())return zn();throw new Or(\"operation-not-supported-in-this-environment\",\"RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.\")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Da(t.u,wa,{})}).then(function(e){t.a[Al]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Pl(this);var t=this;return xl(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Pn(e);e=function(t,e,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!fn&&s&&(s.name||s.type)){if(a=[\"<\",a],s.name&&a.push(' name=\"',W(s.name),'\"'),s.type){a.push(' type=\"',W(s.type),'\"');var u={};ct(u,s),delete u.type,s=u}a.push(\">\"),a=a.join(\"\")}return a=i.createElement(a),s&&(o(s)?a.className=s:c(s)?a.className=s.join(\" \"):Rn(a,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(o(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||p(a)&&0<a.nodeType?r(a):D(Mn(a)?B(a):a,r)}}(i,a,r),a}(\"DIV\"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Pl(this);var t=this;return xl(this,this.render().then(function(e){return new mt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){j(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Pl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Pl(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel(\"RecaptchaVerifier instance has been destroyed.\");if(!this.i){t=Pn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Rl,Tl);var Ml=\"First Second Third Fourth Fifth Sixth Seventh Eighth Ninth\".split(\" \");function Ll(t,e){return{name:t||\"\",K:\"a valid string\",optional:!!e,M:o}}function Vl(t,e){return{name:t||\"\",K:\"a boolean\",optional:!!e,M:a}}function Fl(t,e){return{name:t||\"\",K:\"a valid object\",optional:!!e,M:p}}function jl(t,e){return{name:t||\"\",K:\"a function\",optional:!!e,M:f}}function Ul(t,e){return{name:t||\"\",K:\"null\",optional:!!e,M:l}}function Bl(t){return{name:t?t+\"Credential\":\"credential\",K:t?\"a valid \"+t+\" credential\":\"a valid credential\",optional:!1,M:function(e){return!!e&&!(!e.ya||t&&e.providerId!==t)}}}function ql(){return{name:\"applicationVerifier\",K:\"an implementation of firebase.auth.ApplicationVerifier\",optional:!1,M:function(t){return!!(t&&o(t.type)&&f(t.verify))}}}function Hl(t,e,n,r){return{name:n||\"\",K:t.K+\" or \"+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Wl(t,e){for(var n in e){var r=e[n].name;t[r]=zl(r,t[n],e[n].j)}}function Gl(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].qb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Dl(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}function Kl(t,e,n,r){t[e]=zl(e,n,r)}function zl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split(\".\"))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Wl(tl.prototype,{Va:{name:\"applyActionCode\",j:[Ll(\"code\")]},Ja:{name:\"checkActionCode\",j:[Ll(\"code\")]},Xa:{name:\"confirmPasswordReset\",j:[Ll(\"code\"),Ll(\"newPassword\")]},ub:{name:\"createUserWithEmailAndPassword\",j:[Ll(\"email\"),Ll(\"password\")]},Sb:{name:\"createUserAndRetrieveDataWithEmailAndPassword\",j:[Ll(\"email\"),Ll(\"password\")]},Vb:{name:\"fetchProvidersForEmail\",j:[Ll(\"email\")]},Wb:{name:\"fetchSignInMethodsForEmail\",j:[Ll(\"email\")]},fa:{name:\"getRedirectResult\",j:[]},kc:{name:\"isSignInWithEmailLink\",j:[Ll(\"emailLink\")]},rc:{name:\"onAuthStateChanged\",j:[Hl(Fl(),jl(),\"nextOrObserver\"),jl(\"opt_error\",!0),jl(\"opt_completed\",!0)]},sc:{name:\"onIdTokenChanged\",j:[Hl(Fl(),jl(),\"nextOrObserver\"),jl(\"opt_error\",!0),jl(\"opt_completed\",!0)]},hb:{name:\"sendPasswordResetEmail\",j:[Ll(\"email\"),Hl(Fl(\"opt_actionCodeSettings\",!0),Ul(null,!0),\"opt_actionCodeSettings\",!0)]},ib:{name:\"sendSignInLinkToEmail\",j:[Ll(\"email\"),Fl(\"actionCodeSettings\")]},jb:{name:\"setPersistence\",j:[Ll(\"persistence\")]},Oa:{name:\"signInAndRetrieveDataWithCredential\",j:[Bl()]},Pa:{name:\"signInAnonymously\",j:[]},Dc:{name:\"signInAnonymouslyAndRetrieveData\",j:[]},Ec:{name:\"signInWithCredential\",j:[Bl()]},Jb:{name:\"signInWithCustomToken\",j:[Ll(\"token\")]},Bc:{name:\"signInAndRetrieveDataWithCustomToken\",j:[Ll(\"token\")]},Kb:{name:\"signInWithEmailAndPassword\",j:[Ll(\"email\"),Ll(\"password\")]},Fc:{name:\"signInWithEmailLink\",j:[Ll(\"email\"),Ll(\"emailLink\",!0)]},Cc:{name:\"signInAndRetrieveDataWithEmailAndPassword\",j:[Ll(\"email\"),Ll(\"password\")]},Gc:{name:\"signInWithPhoneNumber\",j:[Ll(\"phoneNumber\"),ql()]},Hc:{name:\"signInWithPopup\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},Ic:{name:\"signInWithRedirect\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},Oc:{name:\"updateCurrentUser\",j:[Hl({name:\"user\",K:\"an instance of Firebase User\",optional:!1,M:function(t){return!!(t&&t instanceof mu)}},Ul(),\"user\")]},kb:{name:\"signOut\",j:[]},toJSON:{name:\"toJSON\",j:[Ll(null,!0)]},Qc:{name:\"useDeviceLanguage\",j:[]},Rc:{name:\"verifyPasswordResetCode\",j:[Ll(\"code\")]}}),Gl(tl.prototype,{lc:{name:\"languageCode\",qb:Hl(Ll(),Ul(),\"languageCode\")}}),(tl.Persistence=bs).LOCAL=\"local\",tl.Persistence.SESSION=\"session\",tl.Persistence.NONE=\"none\",Wl(mu.prototype,{delete:{name:\"delete\",j:[]},ac:{name:\"getIdTokenResult\",j:[Vl(\"opt_forceRefresh\",!0)]},F:{name:\"getIdToken\",j:[Vl(\"opt_forceRefresh\",!0)]},ab:{name:\"linkAndRetrieveDataWithCredential\",j:[Bl()]},mc:{name:\"linkWithCredential\",j:[Bl()]},nc:{name:\"linkWithPhoneNumber\",j:[Ll(\"phoneNumber\"),ql()]},oc:{name:\"linkWithPopup\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},pc:{name:\"linkWithRedirect\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},cb:{name:\"reauthenticateAndRetrieveDataWithCredential\",j:[Bl()]},vc:{name:\"reauthenticateWithCredential\",j:[Bl()]},wc:{name:\"reauthenticateWithPhoneNumber\",j:[Ll(\"phoneNumber\"),ql()]},xc:{name:\"reauthenticateWithPopup\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},yc:{name:\"reauthenticateWithRedirect\",j:[{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}]},reload:{name:\"reload\",j:[]},gb:{name:\"sendEmailVerification\",j:[Hl(Fl(\"opt_actionCodeSettings\",!0),Ul(null,!0),\"opt_actionCodeSettings\",!0)]},toJSON:{name:\"toJSON\",j:[Ll(null,!0)]},Nc:{name:\"unlink\",j:[Ll(\"provider\")]},mb:{name:\"updateEmail\",j:[Ll(\"email\")]},nb:{name:\"updatePassword\",j:[Ll(\"password\")]},Pc:{name:\"updatePhoneNumber\",j:[Bl(\"phone\")]},ob:{name:\"updateProfile\",j:[Fl(\"profile\")]}}),Wl(pl.prototype,{execute:{name:\"execute\"},render:{name:\"render\"},reset:{name:\"reset\"},getResponse:{name:\"getResponse\"}}),Wl(fl.prototype,{execute:{name:\"execute\"},render:{name:\"render\"},reset:{name:\"reset\"},getResponse:{name:\"getResponse\"}}),Wl(mt.prototype,{ia:{name:\"finally\"},s:{name:\"catch\"},then:{name:\"then\"}}),Gl(su.prototype,{appVerificationDisabled:{name:\"appVerificationDisabledForTesting\",qb:Vl(\"appVerificationDisabledForTesting\")}}),Wl(uu.prototype,{confirm:{name:\"confirm\",j:[Ll(\"verificationCode\")]}}),Kl(Ei,\"credential\",function(t,e){return new _i(t,e)},[Ll(\"email\"),Ll(\"password\")]),Wl(pi.prototype,{ta:{name:\"addScope\",j:[Ll(\"scope\")]},Da:{name:\"setCustomParameters\",j:[Fl(\"customOAuthParameters\")]}}),Kl(pi,\"credential\",di,[Hl(Ll(),Fl(),\"token\")]),Kl(Ei,\"credentialWithLink\",Si,[Ll(\"email\"),Ll(\"emailLink\")]),Wl(yi.prototype,{ta:{name:\"addScope\",j:[Ll(\"scope\")]},Da:{name:\"setCustomParameters\",j:[Fl(\"customOAuthParameters\")]}}),Kl(yi,\"credential\",mi,[Hl(Ll(),Fl(),\"token\")]),Wl(gi.prototype,{ta:{name:\"addScope\",j:[Ll(\"scope\")]},Da:{name:\"setCustomParameters\",j:[Fl(\"customOAuthParameters\")]}}),Kl(gi,\"credential\",vi,[Hl(Ll(),Hl(Fl(),Ul()),\"idToken\"),Hl(Ll(),Ul(),\"accessToken\",!0)]),Wl(bi.prototype,{Da:{name:\"setCustomParameters\",j:[Fl(\"customOAuthParameters\")]}}),Kl(bi,\"credential\",wi,[Hl(Ll(),Fl(),\"token\"),Ll(\"secret\",!0)]),Wl(fi.prototype,{ta:{name:\"addScope\",j:[Ll(\"scope\")]},credential:{name:\"credential\",j:[Hl(Ll(),Ul(),\"idToken\",!0),Hl(Ll(),Ul(),\"accessToken\",!0)]},Da:{name:\"setCustomParameters\",j:[Fl(\"customOAuthParameters\")]}}),Kl(ki,\"credential\",Ai,[Ll(\"verificationId\"),Ll(\"verificationCode\")]),Wl(ki.prototype,{Ta:{name:\"verifyPhoneNumber\",j:[Ll(\"phoneNumber\"),ql()]}}),Wl(Or.prototype,{toJSON:{name:\"toJSON\",j:[Ll(null,!0)]}}),Wl(Li.prototype,{toJSON:{name:\"toJSON\",j:[Ll(null,!0)]}}),Wl(Mi.prototype,{toJSON:{name:\"toJSON\",j:[Ll(null,!0)]}}),Wl(Rl.prototype,{clear:{name:\"clear\",j:[]},render:{name:\"render\",j:[]},verify:{name:\"verify\",j:[]}}),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerService)throw Error(\"Cannot find the firebase namespace; be sure to include firebase-app.js before this library.\");var t={Auth:tl,Error:Or};Kl(t,\"EmailAuthProvider\",Ei,[]),Kl(t,\"FacebookAuthProvider\",pi,[]),Kl(t,\"GithubAuthProvider\",yi,[]),Kl(t,\"GoogleAuthProvider\",gi,[]),Kl(t,\"TwitterAuthProvider\",bi,[]),Kl(t,\"OAuthProvider\",fi,[Ll(\"providerId\")]),Kl(t,\"PhoneAuthProvider\",ki,[{name:\"auth\",K:\"an instance of Firebase Auth\",optional:!0,M:function(t){return!!(t&&t instanceof tl)}}]),Kl(t,\"RecaptchaVerifier\",Rl,[Hl(Ll(),{name:\"\",K:\"an HTML element\",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},\"recaptchaContainer\"),Fl(\"recaptchaParameters\",!0),{name:\"app\",K:\"an instance of Firebase App\",optional:!0,M:function(t){return!!(t&&t instanceof e.app.App)}}]),e.INTERNAL.registerService(\"auth\",function(t,e){return e({INTERNAL:{getUid:v((t=new tl(t)).getUid,t),getToken:v(t.$b,t),addAuthTokenListener:v(t.Rb,t),removeAuthTokenListener:v(t.zc,t)}}),t},t,function(t,e){if(\"create\"===t)try{e.auth()}catch(t){}}),e.INTERNAL.extendNamespace({User:mu})}()}).call(\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},Wcq6:function(t,e,n){\"use strict\";n(\"lcbw\");var r,i=(r=n(\"wj3C\"))&&\"object\"==typeof r&&\"default\"in r?r.default:r;t.exports=i},bZMm:function(t,e){!function(t){\"use strict\";if(!t.fetch){var e={searchParams:\"URLSearchParams\"in t,iterable:\"Symbol\"in t&&\"iterator\"in Symbol,blob:\"FileReader\"in t&&\"Blob\"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:\"FormData\"in t,arrayBuffer:\"ArrayBuffer\"in t};if(e.arrayBuffer)var n=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+\",\"+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=u(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=[\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:\"\"});return t.type=\"error\",t};var a=[301,302,303,307,308];v.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError(\"Invalid status code\");return new v(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=m,t.Response=v,t.fetch=function(t,n){return new Promise(function(r,i){var o=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||\"\",e=new c,t.replace(/\\r?\\n[\\t ]+/g,\" \").split(/\\r?\\n/).forEach(function(t){var n=t.split(\":\"),r=n.shift().trim();if(r){var i=n.join(\":\").trim();e.append(r,i)}}),e)};n.url=\"responseURL\"in a?a.responseURL:n.headers.get(\"X-Request-URL\"),r(new v(\"response\"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError(\"Network request failed\"))},a.ontimeout=function(){i(new TypeError(\"Network request failed\"))},a.open(o.method,o.url,!0),\"include\"===o.credentials?a.withCredentials=!0:\"omit\"===o.credentials&&(a.withCredentials=!1),\"responseType\"in a&&e.blob&&(a.responseType=\"blob\"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if(\"string\"!=typeof t&&(t=String(t)),/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(t))throw new TypeError(\"Invalid character in header field name\");return t.toLowerCase()}function u(t){return\"string\"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if(\"string\"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error(\"unsupported BodyInit type\");this._bodyArrayBuffer=d(t)}else this._bodyText=\"\";this.headers.get(\"content-type\")||(\"string\"==typeof t?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join(\"\")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError(\"Already read\");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||\"omit\",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=(n=e.method||this.method||\"GET\").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,(\"GET\"===this.method||\"HEAD\"===this.method)&&i)throw new TypeError(\"Body not allowed for GET or HEAD requests\");this._initBody(i)}function g(t){var e=new FormData;return t.trim().split(\"&\").forEach(function(t){if(t){var n=t.split(\"=\"),r=n.shift().replace(/\\+/g,\" \"),i=n.join(\"=\").replace(/\\+/g,\" \");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type=\"default\",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=\"statusText\"in e?e.statusText:\"OK\",this.headers=new c(e.headers),this.url=e.url||\"\",this._initBody(t)}}(\"undefined\"!=typeof self?self:this)},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module \"'+t+'\".');throw e.code=\"MODULE_NOT_FOUND\",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=\"crnd\"},lcbw:function(t,e,n){\"use strict\";n.r(e),n(\"bZMm\");var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if(\"function\"==typeof n)return void c((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn=\"function\"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",t)};var h=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw new Error(\"unable to locate global object\")}();function f(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var p=f(function(t){var e=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)}),d=f(function(t){var e=t.exports={version:\"2.5.5\"};\"number\"==typeof __e&&(__e=e)}),y=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t},m=function(t){if(!y(t))throw TypeError(t+\" is not an object!\");return t},g=function(t){try{return!!t()}catch(t){return!0}},v=!g(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a}),b=p.document,w=y(b)&&y(b.createElement),_=function(t){return w?b.createElement(t):{}},E=!v&&!g(function(){return 7!=Object.defineProperty(_(\"div\"),\"a\",{get:function(){return 7}}).a}),S=function(t,e){if(!y(t))return t;var n,r;if(e&&\"function\"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if(\"function\"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&\"function\"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError(\"Can't convert object to primitive value\")},C=Object.defineProperty,T={f:v?Object.defineProperty:function(t,e,n){if(m(t),e=S(e,!0),m(n),E)try{return C(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},I=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=v?function(t,e,n){return T.f(t,e,I(1,n))}:function(t,e,n){return t[e]=n,t},A={}.hasOwnProperty,O=function(t,e){return A.call(t,e)},N=0,x=Math.random(),P=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++N+x).toString(36))},R=f(function(t){var e=P(\"src\"),n=Function.toString,r=(\"\"+n).split(\"toString\");d.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a=\"function\"==typeof i;a&&(O(i,\"name\")||k(i,\"name\",n)),t[n]!==i&&(a&&(O(i,e)||k(i,e,t[n]?\"\"+t[n]:r.join(String(n)))),t===p?t[n]=i:o?t[n]?t[n]=i:k(t,n,i):(delete t[n],k(t,n,i)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[e]||n.call(this)})}),D=function(t,e,n){if(function(e){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\")}(),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){var r,i,o,a,s=t&M.F,u=t&M.G,l=t&M.P,c=t&M.B,h=u?p:t&M.S?p[e]||(p[e]={}):(p[e]||{}).prototype,f=u?d:d[e]||(d[e]={}),y=f.prototype||(f.prototype={});for(r in u&&(n=e),n)o=((i=!s&&h&&void 0!==h[r])?h:n)[r],a=c&&i?D(o,p):l&&\"function\"==typeof o?D(Function.call,o):o,h&&R(h,r,o,t&M.U),f[r]!=o&&k(f,r,a),l&&y[r]!=o&&(y[r]=o)};p.core=d,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var L=M,V={}.toString,F=function(t){return V.call(t).slice(8,-1)},j=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==F(t)?t.split(\"\"):Object(t)},U=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t},B=function(t){return Object(U(t))},q=Math.ceil,H=Math.floor,W=function(t){return isNaN(t=+t)?0:(t>0?H:q)(t)},G=Math.min,K=function(t){return t>0?G(W(t),9007199254740991):0},z=Array.isArray||function(t){return\"Array\"==F(t)},Q=p[\"__core-js_shared__\"]||(p[\"__core-js_shared__\"]={}),X=function(t){return Q[t]||(Q[t]={})},Y=f(function(t){var e=X(\"wks\"),n=p.Symbol,r=\"function\"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:P)(\"Symbol.\"+t))}).store=e}),J=Y(\"species\"),Z=function(t,e){return new(function(t){var e;return z(t)&&(\"function\"!=typeof(e=t.constructor)||e!==Array&&!z(e.prototype)||(e=void 0),y(e)&&null===(e=e[J])&&(e=void 0)),void 0===e?Array:e}(t))(e)},$=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||Z;return function(e,l,c){for(var h,f,p=B(e),d=j(p),y=D(l,c,3),m=K(d.length),g=0,v=n?u(e,m):r?u(e,0):void 0;m>g;g++)if((s||g in d)&&(f=y(h=d[g],g,p),t))if(n)v[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:v.push(h)}else if(o)return!1;return a?-1:i||o?o:v}},tt=Y(\"unscopables\"),et=Array.prototype;void 0==et[tt]&&k(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=$(5),it=!0;\"find\"in[]&&Array(1).find(function(){it=!1}),L(L.P+L.F*it,\"Array\",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt(\"find\");var ot=$(6),at=!0;\"findIndex\"in[]&&Array(1).findIndex(function(){at=!1}),L(L.P+L.F*at,\"Array\",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt(\"findIndex\");var st=function(t){return j(U(t))},ut=Math.max,lt=Math.min,ct=X(\"keys\"),ht=function(t){return ct[t]||(ct[t]=P(t))},ft=function(t,e,n){for(var r=st(t),i=K(r.length),o=function(t,e){return(t=W(t))<0?ut(t+e,0):lt(t,e)}(n,i);i>o;o++)if(o in r&&r[o]===e)return o||0;return-1},pt=ht(\"IE_PROTO\"),dt=function(t,e){var n,r=st(t),i=0,o=[];for(n in r)n!=pt&&O(r,n)&&o.push(n);for(;e.length>i;)O(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},yt=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\"),mt=Object.keys||function(t){return dt(t,yt)},gt={f:Object.getOwnPropertySymbols},vt={f:{}.propertyIsEnumerable},bt=Object.assign,wt=!bt||g(function(){var t={},e={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return t[n]=7,r.split(\"\").forEach(function(t){e[t]=t}),7!=bt({},t)[n]||Object.keys(bt({},e)).join(\"\")!=r})?function(t,e){for(var n=B(t),r=arguments.length,i=1,o=gt.f,a=vt.f;r>i;)for(var s,u=j(arguments[i++]),l=o?mt(u).concat(o(u)):mt(u),c=l.length,h=0;c>h;)a.call(u,s=l[h++])&&(n[s]=u[s]);return n}:bt;L(L.S+L.F,\"Object\",{assign:wt});var _t=Y(\"match\"),Et=Y(\"match\"),St=\"\".startsWith;L(L.P+L.F*function(t){var e=/./;try{\"/./\"[t](e)}catch(n){try{return e[Et]=!1,!\"/./\"[t](e)}catch(t){}}return!0}(\"startsWith\"),\"String\",{startsWith:function(t){var e=function(t,e,n){if(y(r=e)&&(void 0!==(i=r[_t])?i:\"RegExp\"==F(r)))throw TypeError(\"String#startsWith doesn't accept regex!\");var r,i;return String(U(t))}(this,t),n=K(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return St?St.call(e,r,n):e.slice(n,n+r.length)===r}}),L(L.P,\"String\",{repeat:function(t){var e=String(U(this)),n=\"\",r=W(t);if(r<0||r==1/0)throw RangeError(\"Count can't be negative\");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});var Ct=f(function(t){var e=P(\"meta\"),n=T.f,r=0,i=Object.isExtensible||function(){return!0},o=!g(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:\"O\"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!y(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!O(t,e)){if(!i(t))return\"F\";if(!n)return\"E\";a(t)}return t[e].i},getWeak:function(t,n){if(!O(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!O(t,e)&&a(t),t}}}),Tt=T.f,It=Y(\"toStringTag\"),kt=function(t,e,n){t&&!O(t=n?t:t.prototype,It)&&Tt(t,It,{configurable:!0,value:e})},At={f:Y},Ot=T.f,Nt=function(t){var e=d.Symbol||(d.Symbol=p.Symbol||{});\"_\"==t.charAt(0)||t in e||Ot(e,t,{value:At.f(t)})},xt=v?Object.defineProperties:function(t,e){m(t);for(var n,r=mt(e),i=r.length,o=0;i>o;)T.f(t,n=r[o++],e[n]);return t},Pt=p.document,Rt=Pt&&Pt.documentElement,Dt=ht(\"IE_PROTO\"),Mt=function(){},Lt=function(){var t,e=_(\"iframe\"),n=yt.length;for(e.style.display=\"none\",Rt.appendChild(e),e.src=\"javascript:\",(t=e.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),Lt=t.F;n--;)delete Lt.prototype[yt[n]];return Lt()},Vt=Object.create||function(t,e){var n;return null!==t?(Mt.prototype=m(t),n=new Mt,Mt.prototype=null,n[Dt]=t):n=Lt(),void 0===e?n:xt(n,e)},Ft=yt.concat(\"length\",\"prototype\"),jt={f:Object.getOwnPropertyNames||function(t){return dt(t,Ft)}},Ut=jt.f,Bt={}.toString,qt=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ht={f:function(t){return qt&&\"[object Window]\"==Bt.call(t)?function(t){try{return Ut(t)}catch(t){return qt.slice()}}(t):Ut(st(t))}},Wt=Object.getOwnPropertyDescriptor,Gt={f:v?Wt:function(t,e){if(t=st(t),e=S(e,!0),E)try{return Wt(t,e)}catch(t){}if(O(t,e))return I(!vt.f.call(t,e),t[e])}},Kt=Ct.KEY,zt=Gt.f,Qt=T.f,Xt=Ht.f,Yt=p.Symbol,Jt=p.JSON,Zt=Jt&&Jt.stringify,$t=Y(\"_hidden\"),te=Y(\"toPrimitive\"),ee={}.propertyIsEnumerable,ne=X(\"symbol-registry\"),re=X(\"symbols\"),ie=X(\"op-symbols\"),oe=Object.prototype,ae=\"function\"==typeof Yt,se=p.QObject,ue=!se||!se.prototype||!se.prototype.findChild,le=v&&g(function(){return 7!=Vt(Qt({},\"a\",{get:function(){return Qt(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var r=zt(oe,e);r&&delete oe[e],Qt(t,e,n),r&&t!==oe&&Qt(oe,e,r)}:Qt,ce=function(t){var e=re[t]=Vt(Yt.prototype);return e._k=t,e},he=ae&&\"symbol\"==typeof Yt.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof Yt},fe=function(t,e,n){return t===oe&&fe(ie,e,n),m(t),e=S(e,!0),m(n),O(re,e)?(n.enumerable?(O(t,$t)&&t[$t][e]&&(t[$t][e]=!1),n=Vt(n,{enumerable:I(0,!1)})):(O(t,$t)||Qt(t,$t,I(1,{})),t[$t][e]=!0),le(t,e,n)):Qt(t,e,n)},pe=function(t,e){m(t);for(var n,r=function(t){var e=mt(t),n=gt.f;if(n)for(var r,i=n(t),o=vt.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=st(e)),i=0,o=r.length;o>i;)fe(t,n=r[i++],e[n]);return t},de=function(t){var e=ee.call(this,t=S(t,!0));return!(this===oe&&O(re,t)&&!O(ie,t))&&(!(e||!O(this,t)||!O(re,t)||O(this,$t)&&this[$t][t])||e)},ye=function(t,e){if(t=st(t),e=S(e,!0),t!==oe||!O(re,e)||O(ie,e)){var n=zt(t,e);return!n||!O(re,e)||O(t,$t)&&t[$t][e]||(n.enumerable=!0),n}},me=function(t){for(var e,n=Xt(st(t)),r=[],i=0;n.length>i;)O(re,e=n[i++])||e==$t||e==Kt||r.push(e);return r},ge=function(t){for(var e,n=t===oe,r=Xt(n?ie:st(t)),i=[],o=0;r.length>o;)!O(re,e=r[o++])||n&&!O(oe,e)||i.push(re[e]);return i};ae||(R((Yt=function(){if(this instanceof Yt)throw TypeError(\"Symbol is not a constructor!\");var t=P(arguments.length>0?arguments[0]:void 0),e=function(n){this===oe&&e.call(ie,n),O(this,$t)&&O(this[$t],t)&&(this[$t][t]=!1),le(this,t,I(1,n))};return v&&ue&&le(oe,t,{configurable:!0,set:e}),ce(t)}).prototype,\"toString\",function(){return this._k}),Gt.f=ye,T.f=fe,jt.f=Ht.f=me,vt.f=de,gt.f=ge,v&&R(oe,\"propertyIsEnumerable\",de,!0),At.f=function(t){return ce(Y(t))}),L(L.G+L.W+L.F*!ae,{Symbol:Yt});for(var ve=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),be=0;ve.length>be;)Y(ve[be++]);for(var we=mt(Y.store),_e=0;we.length>_e;)Nt(we[_e++]);L(L.S+L.F*!ae,\"Symbol\",{for:function(t){return O(ne,t+=\"\")?ne[t]:ne[t]=Yt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+\" is not a symbol!\");for(var e in ne)if(ne[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),L(L.S+L.F*!ae,\"Object\",{create:function(t,e){return void 0===e?Vt(t):pe(Vt(t),e)},defineProperty:fe,defineProperties:pe,getOwnPropertyDescriptor:ye,getOwnPropertyNames:me,getOwnPropertySymbols:ge}),Jt&&L(L.S+L.F*(!ae||g(function(){var t=Yt();return\"[null]\"!=Zt([t])||\"{}\"!=Zt({a:t})||\"{}\"!=Zt(Object(t))})),\"JSON\",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!he(t))return z(e)||(e=function(t,e){if(\"function\"==typeof n&&(e=n.call(this,t,e)),!he(e))return e}),r[1]=e,Zt.apply(Jt,r)}}),Yt.prototype[te]||k(Yt.prototype,te,Yt.prototype.valueOf),kt(Yt,\"Symbol\"),kt(Math,\"Math\",!0),kt(p.JSON,\"JSON\",!0);var Ee=Y(\"toStringTag\"),Se=\"Arguments\"==F(function(){return arguments}()),Ce={};Ce[Y(\"toStringTag\")]=\"z\",Ce+\"\"!=\"[object z]\"&&R(Object.prototype,\"toString\",function(){return\"[object \"+(void 0===this?\"Undefined\":null===this?\"Null\":\"string\"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(this),Ee))?e:Se?F(t):\"Object\"==(n=F(t))&&\"function\"==typeof t.callee?\"Arguments\":n)+\"]\";var t,e,n},!0),Nt(\"asyncIterator\"),Nt(\"observable\");var Te={},Ie={};k(Ie,Y(\"iterator\"),function(){return this});var ke=function(t,e,n){t.prototype=Vt(Ie,{next:I(1,n)}),kt(t,e+\" Iterator\")},Ae=ht(\"IE_PROTO\"),Oe=Object.prototype,Ne=Object.getPrototypeOf||function(t){return t=B(t),O(t,Ae)?t[Ae]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Oe:null},xe=Y(\"iterator\"),Pe=!([].keys&&\"next\"in[].keys()),Re=function(){return this},De=function(t,e,n,r,i,o,a){ke(n,e,r);var s,u,l,c=function(t){if(!Pe&&t in d)return d[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+\" Iterator\",f=\"values\"==i,p=!1,d=t.prototype,y=d[xe]||d[\"@@iterator\"]||i&&d[i],m=y||c(i),g=i?f?c(\"entries\"):m:void 0,v=\"Array\"==e&&d.entries||y;if(v&&(l=Ne(v.call(new t)))!==Object.prototype&&l.next&&(kt(l,h,!0),\"function\"!=typeof l[xe]&&k(l,xe,Re)),f&&y&&\"values\"!==y.name&&(p=!0,m=function(){return y.call(this)}),(Pe||p||!d[xe])&&k(d,xe,m),Te[e]=m,Te[h]=Re,i)if(s={values:f?m:c(\"values\"),keys:o?m:c(\"keys\"),entries:g},a)for(u in s)u in d||R(d,u,s[u]);else L(L.P+L.F*(Pe||p),e,s);return s},Me=function(t,e){var n,r,i=String(U(t)),o=W(e),a=i.length;return o<0||o>=a?\"\":(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?i.charAt(o):i.slice(o,o+2)};De(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Me(e,n),this._i+=t.length,{value:t,done:!1})});var Le=function(t,e){return{value:e,done:!!t}},Ve=De(Array,\"Array\",function(t,e){this._t=st(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Le(1)):Le(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\");Te.Arguments=Te.Array,nt(\"keys\"),nt(\"values\"),nt(\"entries\");for(var Fe=Y(\"iterator\"),je=Y(\"toStringTag\"),Ue=Te.Array,Be={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},qe=mt(Be),He=0;He<qe.length;He++){var We,Ge=qe[He],Ke=Be[Ge],ze=p[Ge],Qe=ze&&ze.prototype;if(Qe&&(Qe[Fe]||k(Qe,Fe,Ue),Qe[je]||k(Qe,je,Ge),Te[Ge]=Ue,Ke))for(We in Ve)Qe[We]||R(Qe,We,Ve[We],!0)}At.f(\"iterator\")},os0x:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__extends\",function(){return i}),n.d(e,\"__assign\",function(){return o}),n.d(e,\"__rest\",function(){return a}),n.d(e,\"__decorate\",function(){return s}),n.d(e,\"__param\",function(){return u}),n.d(e,\"__metadata\",function(){return l}),n.d(e,\"__awaiter\",function(){return c}),n.d(e,\"__generator\",function(){return h}),n.d(e,\"__exportStar\",function(){return f}),n.d(e,\"__values\",function(){return p}),n.d(e,\"__read\",function(){return d}),n.d(e,\"__spread\",function(){return y}),n.d(e,\"__await\",function(){return m}),n.d(e,\"__asyncGenerator\",function(){return g}),n.d(e,\"__asyncDelegator\",function(){return v}),n.d(e,\"__asyncValues\",function(){return b}),n.d(e,\"__makeTemplateObject\",function(){return w}),n.d(e,\"__importStar\",function(){return _}),n.d(e,\"__importDefault\",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?\"return\":o[0]?\"throw\":\"next\"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e=\"function\"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(t,e||[]),o=[];return r={},a(\"next\"),a(\"throw\"),a(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function u(t){s(\"next\",t)}function l(t){s(\"throw\",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r(\"next\"),r(\"throw\",function(t){throw t}),r(\"return\"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:m(t[r](e)),done:\"return\"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},\"q/0M\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"setLogLevel\",function(){return u}),n.d(e,\"Logger\",function(){return s}),n.d(e,\"LogLevel\",function(){return i});var r=[],i=function(t){return t[t.DEBUG=0]=\"DEBUG\",t[t.VERBOSE=1]=\"VERBOSE\",t[t.INFO=2]=\"INFO\",t[t.WARN=3]=\"WARN\",t[t.ERROR=4]=\"ERROR\",t[t.SILENT=5]=\"SILENT\",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,[\"[\"+o+\"]  \"+t.name+\":\"].concat(n));break;case i.INFO:console.info.apply(console,[\"[\"+o+\"]  \"+t.name+\":\"].concat(n));break;case i.WARN:console.warn.apply(console,[\"[\"+o+\"]  \"+t.name+\":\"].concat(n));break;case i.ERROR:console.error.apply(console,[\"[\"+o+\"]  \"+t.name+\":\"].concat(n));break;default:throw new Error(\"Attempted to log a message with an invalid logType (value: \"+e+\")\")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,\"logLevel\",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError(\"Invalid value assigned to `logLevel`\");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"logHandler\",{get:function(){return this._logHandler},set:function(t){if(\"function\"!=typeof t)throw new TypeError(\"Value assigned to `logHandler` must be a function\");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},wj3C:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"zVF4\"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o=\"[DEFAULT]\",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,\"automaticDataCollectionEnabled\",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"options\",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u(\"app-deleted\",{name:this.name_})},t}();function u(t,e){throw l.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log(\"dc\");var l=new r.ErrorFactory(\"app\",\"Firebase\",{\"no-app\":\"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()\",\"bad-app-name\":\"Illegal App name: '{$name}\",\"duplicate-app\":\"Firebase App named '{$name}' already exists\",\"app-deleted\":\"Firebase App named '{$name}' already deleted\",\"duplicate-service\":\"Firebase service named '{$name}' already registered\",\"sa-not-supported\":\"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain\",\"invalid-app-argument\":\"firebase.{$name}() takes either no argument or a Firebase App instance.\"}),c=function t(){var e={},n={},a={},l={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),(\"object\"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;\"string\"==typeof a&&a||u(\"bad-app-name\",{name:a+\"\"}),i(e,a)&&u(\"duplicate-app\",{name:a});var c=new s(t,r,l);return e[a]=c,f(c,\"create\"),c},app:c,apps:null,Promise:Promise,SDK_VERSION:\"5.0.4\",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u(\"duplicate-service\",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o(\"create\",t)}));var p=function(e){return void 0===e&&(e=c()),\"function\"!=typeof e[t]&&u(\"invalid-app-argument\",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(p,i),l[t]=p,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(l,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],\"delete\"),delete e[t]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function c(t){return i(e,t=t||o)||u(\"no-app\",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=p(0,n);null!==r&&a[r]&&a[r](e,t)})}function p(t,e){return\"serverAuth\"===e?null:e}return r.patchProperty(l,\"default\",l),Object.defineProperty(l,\"apps\",{get:h}),r.patchProperty(c,\"App\",s),l}();e.firebase=c,e.default=c},yLV6:function(t,e,n){var r;!function(i,o,a,s){\"use strict\";var u,l=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],c=o.createElement(\"div\"),h=\"function\",f=Math.round,p=Math.abs,d=Date.now;function y(t,e,n){return setTimeout(E(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r=\"DEPRECATED METHOD: \"+e+\"\\n\"+n+\" AT \\n\";return function(){var e=new Error(\"get-stack-trace\"),n=e&&e.stack?e.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u=\"function\"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=v(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},\"extend\",\"Use `assign`.\"),w=v(function(t,e){return b(t,e,!0)},\"merge\",\"Use `assign`.\");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function E(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==h?t.apply(e&&e[0]||s,e):t}function C(t,e){return t===s?e:t}function T(t,e,n){g(O(e),function(e){t.addEventListener(e,n,!1)})}function I(t,e,n){g(O(e),function(e){t.removeEventListener(e,n,!1)})}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\\s+/g)}function N(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];N(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function R(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}return s}var D=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L=\"ontouchstart\"in i,V=R(i,\"PointerEvent\")!==s,F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,U=1,B=4,q=8,H=1,W=2,G=4,K=8,z=16,Q=W|G,X=K|z,Y=Q|X,J=[\"x\",\"y\"],Z=[\"clientX\",\"clientY\"];function $(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&U&&r-i==0,a=e&(B|q)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=et(e)),i>1&&!n.firstMultiple?n.firstMultiple=et(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=nt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(u,l),e.distance=ot(u,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==U&&o.eventType!==B||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var c,h,f=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=p(f.x)>p(f.y)?f.x:f.y,e.scale=a?(c=a.pointers,ot((h=r)[0],h[1],Z)/ot(c[0],c[1],Z)):1,e.rotation=a?function(t,e){return at(r[1],r[0],Z)+at(t[1],t[0],Z)}(a.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=q&&(u>j||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=rt(u,l,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=it(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var y=t.element;k(e.srcEvent.target,y)&&(y=e.srcEvent.target),e.target=y}(t,n),t.emit(\"hammer.input\",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?H:p(t)>=p(e)?t<0?W:G:e<0?K:z}function ot(t,e,n){n||(n=J);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function at(t,e,n){return n||(n=J),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}$.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)}};var st={mousedown:U,mousemove:2,mouseup:B},ut=\"mousedown\",lt=\"mousemove mouseup\";function ct(){this.evEl=ut,this.evWin=lt,this.pressed=!1,$.apply(this,arguments)}_(ct,$,{handler:function(t){var e=st[t.type];e&U&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:\"mouse\",srcEvent:t}))}});var ht={pointerdown:U,pointermove:2,pointerup:B,pointercancel:q,pointerout:q},ft={2:\"touch\",3:\"pen\",4:\"mouse\",5:\"kinect\"},pt=\"pointerdown\",dt=\"pointermove pointerup pointercancel\";function yt(){this.evEl=pt,this.evWin=dt,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pt=\"MSPointerDown\",dt=\"MSPointerMove MSPointerUp MSPointerCancel\"),_(yt,$,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace(\"ms\",\"\"),i=ht[r],o=ft[t.pointerType]||t.pointerType,a=\"touch\"==o,s=N(e,t.pointerId,\"pointerId\");i&U&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(B|q)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var mt={touchstart:U,touchmove:2,touchend:B,touchcancel:q},gt=\"touchstart\",vt=\"touchstart touchmove touchend touchcancel\";function bt(){this.evTarget=gt,this.evWin=vt,this.started=!1,$.apply(this,arguments)}_(bt,$,{handler:function(t){var e=mt[t.type];if(e===U&&(this.started=!0),this.started){var n=(function(t,e){var n=x(t.touches),r=x(t.changedTouches);return e&(B|q)&&(n=P(n.concat(r),\"identifier\",!0)),[n,r]}).call(this,t,e);e&(B|q)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:\"touch\",srcEvent:t})}}});var wt={touchstart:U,touchmove:2,touchend:B,touchcancel:q},_t=\"touchstart touchmove touchend touchcancel\";function Et(){this.evTarget=_t,this.targetIds={},$.apply(this,arguments)}_(Et,$,{handler:function(t){var e=wt[t.type],n=(function(t,e){var n=x(t.touches),r=this.targetIds;if(e&(2|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=x(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return k(t.target,u)}),e===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(B|q)&&delete r[a[i].identifier],i++;return s.length?[P(o.concat(s),\"identifier\",!0),s]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:\"touch\",srcEvent:t})}});var St=2500;function Ct(){$.apply(this,arguments);var t=E(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Tt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},St)}}_(Ct,$,{handler:function(t,e,n){var r=\"mouse\"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(\"touch\"==n.pointerType)(function(t,e){t&U?(this.primaryTouch=e.changedPointers[0].identifier,Tt.call(this,e)):t&(B|q)&&Tt.call(this,e)}).call(this,e,n);else if(r&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=R(c.style,\"touchAction\"),kt=It!==s,At=function(){if(!kt)return!1;var t={},e=i.CSS&&i.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach(function(n){t[n]=!e||i.CSS.supports(\"touch-action\",n)}),t}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){\"compute\"==t&&(t=this.compute()),kt&&this.manager.element.style&&At[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(A(t,\"none\"))return\"none\";var e=A(t,\"pan-x\"),n=A(t,\"pan-y\");return e&&n?\"none\":e||n?e?\"pan-x\":\"pan-y\":A(t,\"manipulation\")?\"manipulation\":\"auto\"}(t.join(\" \"))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=A(r,\"none\")&&!At.none,o=A(r,\"pan-y\")&&!At[\"pan-y\"],a=A(r,\"pan-x\")&&!At[\"pan-x\"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&n&Q||a&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1,xt=2,Pt=4,Rt=8,Dt=Rt,Mt=16;function Lt(t){this.options=u({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function Vt(t){return t&Mt?\"cancel\":t&Rt?\"end\":t&Pt?\"move\":t&xt?\"start\":\"\"}function Ft(t){return t==z?\"down\":t==K?\"up\":t==W?\"left\":t==G?\"right\":\"\"}function jt(t,e){var n=e.manager;return n?n.get(t):t}function Ut(){Lt.apply(this,arguments)}function Bt(){Ut.apply(this,arguments),this.pX=null,this.pY=null}function qt(){Ut.apply(this,arguments)}function Ht(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Wt(){Ut.apply(this,arguments)}function Gt(){Ut.apply(this,arguments)}function Kt(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function zt(t,e){return(e=e||{}).recognizers=C(e.recognizers,zt.defaults.preset),new Qt(t,e)}function Qt(t,e){var n;this.options=u({},zt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(V?yt:F?Et:L?Ct:ct))(n,tt),this.touchAction=new Ot(this,this.options.touchAction),Xt(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Xt(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,function(i,o){n=R(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||\"\"}),e||(t.oldCssProps={}))}Lt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,\"recognizeWith\",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,\"dropRecognizeWith\",this)?this:(t=jt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,\"requireFailure\",this))return this;var e=this.requireFail;return-1===N(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,\"dropRequireFailure\",this))return this;t=jt(t,this);var e=N(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Rt&&r(e.options.event+Vt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Rt&&r(e.options.event+Vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Dt|Mt|32)&&(this.state=Nt),this.state=this.process(e),this.state&(xt|Pt|Rt|Mt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(Ut,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(xt|Pt),i=this.attrTest(t);return r&&(n&q||!i)?e|Mt:r||i?n&B?e|Rt:e&xt?e|Pt:xt:32}}),_(Bt,Ut,{defaults:{event:\"pan\",threshold:10,pointers:1,direction:Y},getTouchAction:function(){var t=this.options.direction,e=[];return t&Q&&e.push(\"pan-y\"),t&X&&e.push(\"pan-x\"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Q?(i=0===o?H:o<0?W:G,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?H:a<0?K:z,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ut.prototype.attrTest.call(this,t)&&(this.state&xt||!(this.state&xt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ft(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(qt,Ut,{defaults:{event:\"pinch\",threshold:0,pointers:2},getTouchAction:function(){return[\"none\"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&xt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?\"in\":\"out\")),this._super.emit.call(this,t)}}),_(Ht,Lt,{defaults:{event:\"press\",pointers:1,time:251,threshold:9},getTouchAction:function(){return[\"auto\"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(B|q)&&!i)this.reset();else if(t.eventType&U)this.reset(),this._timer=y(function(){this.state=Dt,this.tryEmit()},e.time,this);else if(t.eventType&B)return Dt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Dt&&(t&&t.eventType&B?this.manager.emit(this.options.event+\"up\",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Wt,Ut,{defaults:{event:\"rotate\",threshold:0,pointers:2},getTouchAction:function(){return[\"none\"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&xt)}}),_(Gt,Ut,{defaults:{event:\"swipe\",threshold:10,velocity:.3,direction:Q|X,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Q|X)?e=t.overallVelocity:n&Q?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Ft(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Kt,Lt,{defaults:{event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[\"manipulation\"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||ot(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=y(function(){this.state=Dt,this.tryEmit()},e.interval,this),xt):Dt}return 32},failTimeout:function(){return this._timer=y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),zt.VERSION=\"2.0.7\",zt.defaults={domEvents:!1,touchAction:\"compute\",enable:!0,inputTarget:null,inputClass:null,preset:[[Wt,{enable:!1}],[qt,{enable:!1},[\"rotate\"]],[Gt,{direction:Q}],[Bt,{direction:Q},[\"swipe\"]],[Kt],[Kt,{event:\"doubletap\",taps:2},[\"tap\"]],[Ht]],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}},Qt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Dt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(xt|Pt|Rt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,\"add\",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,\"remove\",this))return this;if(t=this.get(t)){var e=this.recognizers,n=N(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(O(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(O(t),function(t){e?n[t]&&n[t].splice(N(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent(\"Event\");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Xt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(zt,{INPUT_START:U,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:q,STATE_POSSIBLE:Nt,STATE_BEGAN:xt,STATE_CHANGED:Pt,STATE_ENDED:Rt,STATE_RECOGNIZED:Dt,STATE_CANCELLED:Mt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:W,DIRECTION_RIGHT:G,DIRECTION_UP:K,DIRECTION_DOWN:z,DIRECTION_HORIZONTAL:Q,DIRECTION_VERTICAL:X,DIRECTION_ALL:Y,Manager:Qt,Input:$,TouchAction:Ot,TouchInput:Et,MouseInput:ct,PointerEventInput:yt,TouchMouseInput:Ct,SingleTouchInput:bt,Recognizer:Lt,AttrRecognizer:Ut,Tap:Kt,Pan:Bt,Swipe:Gt,Pinch:qt,Rotate:Wt,Press:Ht,on:T,off:I,each:g,merge:w,extend:b,assign:u,inherit:_,bindFn:E,prefixed:R}),(void 0!==i?i:\"undefined\"!=typeof self?self:{}).Hammer=zt,(r=(function(){return zt}).call(e,n,e,t))===s||(t.exports=r)}(window,document)},zUnb:function(t,e,n){\"use strict\";n.r(e);var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t){var e=\"function\"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function l(t){return\"function\"==typeof t}var c=!1,h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){c=t},get useDeprecatedSynchronousErrorHandling(){return c}};function f(t){setTimeout(function(){throw t})}var p={closed:!0,next:function(t){},error:function(t){if(h.useDeprecatedSynchronousErrorHandling)throw t;f(t)},complete:function(){}},d=Array.isArray||function(t){return t&&\"number\"==typeof t.length};function y(t){return null!=t&&\"object\"==typeof t}var m,g={e:{}};function v(){try{return m.apply(this,arguments)}catch(t){return g.e=t,g}}function b(t){return m=t,v}var w=function(t){function e(n){var r=t.call(this,n?n.length+\" errors occurred during unsubscription:\\n  \"+n.map(function(t,e){return e+1+\") \"+t.toString()}).join(\"\\n  \"):\"\")||this;return r.errors=n,r.name=\"UnsubscriptionError\",Object.setPrototypeOf(r,e.prototype),r}return i(e,t),e}(Error),_=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=r?r.length:0;n;)n.remove(this),n=++a<s&&r[a]||null;if(l(i)&&b(i).call(this)===g&&(e=!0,t=t||(g.e instanceof w?E(g.e.errors):[g.e])),d(o))for(a=-1,s=o.length;++a<s;){var u=o[a];if(y(u)&&b(u.unsubscribe).call(u)===g){e=!0,t=t||[];var c=g.e;c instanceof w?t=t.concat(E(c.errors)):t.push(c)}}if(e)throw new w(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case\"function\":n=new t(e);case\"object\":if(n.closed||\"function\"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(\"function\"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error(\"unrecognized teardown \"+e+\" added to Subscription.\")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function E(t){return t.reduce(function(t,e){return t.concat(e instanceof w?e.errors:e)},[])}var S=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"rxSubscriber\"):\"@@rxSubscriber\",C=function(t){function e(e,n,r){var i,o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=p;break;case 1:if(!e){o.destination=p;break}if(\"object\"==typeof e){if((i=e)instanceof C||\"syncErrorThrowable\"in i&&i[S]){var a=e[S]();o.syncErrorThrowable=a.syncErrorThrowable,o.destination=a,a.add(o)}else o.syncErrorThrowable=!0,o.destination=new T(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new T(o,e,n,r)}return o}return i(e,t),e.prototype[S]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(_),T=function(t){function e(e,n,r,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var s=a;return l(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==p&&(l((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=h.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):f(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;f(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw t;f(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{e.call(this._context,n)}catch(e){return h.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(f(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(C),I=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function k(){}function A(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O(t)}function O(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:k}var N=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof C)return t;if(t[S])return t[S]()}return t||e||n?new C(t,e,n):new C(p)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){h.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=x(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[I]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:O(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=x(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function x(t){if(t||(t=h.Promise||Promise),!t)throw new Error(\"no Promise impl found\");return t}function P(t){return t&&\"function\"==typeof t.schedule}var R=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(C),D=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},M=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,f),e}},L=function(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}(),V=function(t){return function(e){for(var n=t[L]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return\"function\"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},F=function(t){return function(e){var n=t[I]();if(\"function\"!=typeof n.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return n.subscribe(e)}},j=function(t){return t&&\"number\"==typeof t.length&&\"function\"!=typeof t};function U(t){return t&&\"function\"!=typeof t.subscribe&&\"function\"==typeof t.then}var B=function(t){if(t instanceof N)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&\"function\"==typeof t[I])return F(t);if(j(t))return D(t);if(U(t))return M(t);if(t&&\"function\"==typeof t[L])return V(t);var e=y(t)?\"an invalid object\":\"'\"+t+\"'\";throw new TypeError(\"You provided \"+e+\" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.\")};function q(t,e,n,r){var i=new R(t,n,r);return B(e)(i)}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(C);function W(t,e){return function(n){if(\"function\"!=typeof t)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return n.lift(new G(t,e))}}var G=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.project,this.thisArg))},t}(),K=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(C);function z(t,e){return new N(e?function(n){var r=new _,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:D(t))}function Q(t,e){if(!e)return t instanceof N?t:new N(B(t));if(null!=t){if(function(t){return t&&\"function\"==typeof t[I]}(t))return function(t,e){return new N(e?function(n){var r=new _;return r.add(e.schedule(function(){var i=t[I]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:F(t))}(t,e);if(U(t))return function(t,e){return new N(e?function(n){var r=new _;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:M(t))}(t,e);if(j(t))return z(t,e);if(function(t){return t&&\"function\"==typeof t[L]}(t)||\"string\"==typeof t)return function(t,e){if(!t)throw new Error(\"Iterable cannot be null\");return new N(e?function(n){var r,i=new _;return i.add(function(){r&&\"function\"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[L](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:V(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+\" is not observable\")}function X(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),\"function\"==typeof e?function(r){return r.pipe(X(function(n,r){return Q(t(n,r)).pipe(W(function(t,i){return e(n,t,r,i)}))},n))}:(\"number\"==typeof e&&(n=e),function(e){return e.lift(new Y(t,n))})}var Y=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.project,this.concurrent))},t}(),J=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(q(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(H);function Z(t){return t}function $(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),X(Z,t)}var tt=function(t){function e(){var n=t.call(this,\"object unsubscribed\")||this;return n.name=\"ObjectUnsubscribedError\",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),et=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(_),nt=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(C),rt=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[S]=function(){return new nt(this)},e.prototype.lift=function(t){var e=new it(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new tt;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new tt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new tt;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new tt;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new tt;return this.hasError?(t.error(this.thrownError),_.EMPTY):this.isStopped?(t.complete(),_.EMPTY):(this.observers.push(t),new et(this,t))},e.prototype.asObservable=function(){var t=new N;return t.source=this,t},e.create=function(t,e){return new it(t,e)},e}(N),it=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):_.EMPTY},e}(rt);function ot(){return function(t){return t.lift(new at(t))}}var at=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new st(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),st=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(C),ut=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new _).add(this.source.subscribe(new ct(this.getSubject(),this))),t.closed?(this._connection=null,t=_.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return ot()(this)},e}(N).prototype,lt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ut._subscribe},_isComplete:{value:ut._isComplete,writable:!0},getSubject:{value:ut.getSubject},connect:{value:ut.connect},refCount:{value:ut.refCount}},ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(nt);function ht(){return new rt}function ft(){return function(t){return ot()((e=ht,function(t){var n;n=\"function\"==typeof e?e:function(){return e};var r=Object.create(t,lt);return r.source=t,r.subjectFactory=n,r})(t));var e}}function pt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var dt=function(){function t(t,e){this._desc=t,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0!==e?pt({providedIn:e.providedIn||\"root\",factory:e.factory}):void 0}return t.prototype.toString=function(){return\"InjectionToken \"+this._desc},t}(),yt=\"__parameters__\";function mt(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,u(e));for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n,o=new((n=i).bind.apply(n,u([void 0],t)));return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(yt)?t[yt]:Object.defineProperty(t,yt,{value:[]})[yt];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var gt=new dt(\"AnalyzeForEntryComponents\"),vt=Function;function bt(t){return\"function\"==typeof t}var wt=\"undefined\"!=typeof window&&window,_t=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=\"undefined\"!=typeof global&&global,St=wt||Et||_t,Ct=Promise.resolve(0),Tt=null;function It(){if(!Tt){var t=St.Symbol;if(t&&t.iterator)Tt=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];\"entries\"!==r&&\"size\"!==r&&Map.prototype[r]===Map.prototype.entries&&(Tt=r)}}return Tt}function kt(t){\"undefined\"==typeof Zone?Ct.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",t)}function At(t,e){return t===e||\"number\"==typeof t&&\"number\"==typeof e&&isNaN(t)&&isNaN(e)}function Ot(t){if(\"string\"==typeof t)return t;if(t instanceof Array)return\"[\"+t.map(Ot).join(\", \")+\"]\";if(null==t)return\"\"+t;if(t.overriddenName)return\"\"+t.overriddenName;if(t.name)return\"\"+t.name;var e=t.toString();if(null==e)return\"\"+e;var n=e.indexOf(\"\\n\");return-1===n?e:e.substring(0,n)}var Nt=/^function\\s+\\S+\\(\\)\\s*{[\\s\\S]+\\.apply\\(this,\\s*arguments\\)/,xt=/^class\\s+[A-Za-z\\d$_]*\\s*extends\\s+[A-Za-z\\d$_]+\\s*{/,Pt=/^class\\s+[A-Za-z\\d$_]*\\s*extends\\s+[A-Za-z\\d$_]+\\s*{[\\s\\S]*constructor\\s*\\(/,Rt=function(){function t(t){this._reflect=t||St.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,u([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(Nt.exec(n)||xt.exec(n)&&!Pt.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i=\"function\"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&Dt(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(yt)&&t[yt],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata(\"design:paramtypes\",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!bt(t))return[];var e=Mt(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return\"function\"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Dt(t.decorators):t.hasOwnProperty(\"__annotations__\")?t.__annotations__:null},t.prototype.annotations=function(t){if(!bt(t))return[];var e=Mt(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return\"function\"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=Dt(r[t])}),i}return t.hasOwnProperty(\"__prop__metadata__\")?t.__prop__metadata__:null},t.prototype.propMetadata=function(t){if(!bt(t))return{};var e=Mt(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,u(n[t])),e.push.apply(e,u(i[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof vt&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function(\"o\",\"return o.\"+t+\";\")},t.prototype.setter=function(t){return new Function(\"o\",\"v\",\"return o.\"+t+\" = v;\")},t.prototype.method=function(t){return new Function(\"o\",\"args\",\"if (!o.\"+t+\") throw new Error('\\\"\"+t+\"\\\" is undefined');\\n        return o.\"+t+\".apply(o, args);\")},t.prototype.importUri=function(t){return\"object\"==typeof t&&t.filePath?t.filePath:\"./\"+Ot(t)},t.prototype.resourceUri=function(t){return\"./\"+Ot(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function Dt(t){return t?t.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,u([void 0],t.args?t.args:[])))}):[]}function Mt(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function Lt(t){return t.__forward_ref__=Lt,t.toString=function(){return Ot(this())},t}function Vt(t){return\"function\"==typeof t&&t.hasOwnProperty(\"__forward_ref__\")&&t.__forward_ref__===Lt?t():t}var Ft=mt(\"Inject\",function(t){return{token:t}}),jt=mt(\"Optional\"),Ut=mt(\"Self\"),Bt=mt(\"SkipSelf\"),qt=\"__source\",Ht=new Object,Wt=Ht,Gt=new dt(\"INJECTOR\"),Kt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Ht),e===Ht)throw new Error(\"NullInjectorError: No provider for \"+Ot(t)+\"!\");return e},t}(),zt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new re(t,e):new re(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Ht,t.NULL=new Kt,t.ngInjectableDef=pt({providedIn:\"any\",factory:function(){return function(t,e){if(void 0===e&&(e=0),void 0===se)throw new Error(\"inject() must be called from an injection context\");if(null===se){var n=t.ngInjectableDef;if(n&&\"root\"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;throw new Error(\"Injector: NOT_FOUND [\"+Ot(t)+\"]\")}return se.get(t,8&e?null:void 0,e)}(Gt)}}),t}(),Qt=function(t){return t},Xt=[],Yt=Qt,Jt=function(){return Array.prototype.slice.call(arguments)},Zt={},$t=function(t){for(var e in t)if(t[e]===Zt)return e;throw Error(\"!prop\")}({provide:String,useValue:Zt}),te=zt.NULL,ee=/\\n/gm,ne=\"\\u0275\",re=function(){function t(t,e,n){void 0===e&&(e=te),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(zt,{token:zt,fn:Qt,deps:Xt,value:this,useNew:!1}),r.set(Gt,{token:Gt,fn:Qt,deps:Xt,value:this,useNew:!1}),function t(e,n){if(n)if((n=Vt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if(\"function\"==typeof n)throw ae(\"Function/Class not supported\",n);if(!n||\"object\"!=typeof n||!n.provide)throw ae(\"Unexpected provider\",n);var i=Vt(n.provide),o=function(t){var e=function(t){var e=Xt,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=Vt(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof jt||s==jt?i|=1:s instanceof Bt||s==Bt?i&=-3:s instanceof Ut||s==Ut?i&=-5:u=s instanceof Ft?s.token:Vt(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=Vt(t.useExisting),options:6}]}else if(!(n||$t in t))throw ae(\"'deps' required\",t);return e}(t),n=Qt,r=Xt,i=!1,o=Vt(t.provide);if($t in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Vt(t.useClass);else{if(\"function\"!=typeof o)throw ae(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Jt)throw ie(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Jt,value:Xt});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==Jt)throw ie(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var s,l;if(!n||4&a)2&a||(s=i.get(e,o,0));else{if((s=n.value)==Yt)throw Error(ne+\"Circular dependency\");if(s===Xt){n.value=Yt;var c=n.useNew,h=n.fn,f=n.deps,p=Xt;if(f.length){p=[];for(var d=0;d<f.length;d++){var y=f[d],m=y.options,g=2&m?r.get(y.token):void 0;p.push(t(y.token,g,r,g||4&m?i:te,1&m?null:zt.THROW_IF_NOT_FOUND,0))}}n.value=s=c?new((l=h).bind.apply(l,u([void 0],p))):h.apply(void 0,p)}}return s}(e,n,r,i,o,a)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==Yt&&(n.value=Xt),t}}(t,r,this._records,this.parent,e,n)}catch(e){var i=e.ngTempTokenPath;throw t[qt]&&i.unshift(t[qt]),e.message=oe(\"\\n\"+e.message,i,this.source),e.ngTokenPath=i,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Ot(n))}),\"StaticInjector[\"+t.join(\", \")+\"]\"},t}();function ie(t){return ae(\"Cannot mix multi providers and regular providers\",t)}function oe(t,e,n){void 0===n&&(n=null),t=t&&\"\\n\"===t.charAt(0)&&t.charAt(1)==ne?t.substr(2):t;var r=Ot(e);if(e instanceof Array)r=e.map(Ot).join(\" -> \");else if(\"object\"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+\":\"+(\"string\"==typeof a?JSON.stringify(a):Ot(a)))}r=\"{\"+i.join(\", \")+\"}\"}return\"StaticInjectorError\"+(n?\"(\"+n+\")\":\"\")+\"[\"+r+\"]: \"+t.replace(ee,\"\\n  \")}function ae(t,e){return new Error(oe(t,e))}var se=void 0;function ue(t){var e=se;return se=t,e}String;var le=function(t){return t[t.Emulated=0]=\"Emulated\",t[t.Native=1]=\"Native\",t[t.None=2]=\"None\",t}({}),ce=new function(t){this.full=\"6.0.5\",this.major=\"6.0.5\".split(\".\")[0],this.minor=\"6.0.5\".split(\".\")[1],this.patch=\"6.0.5\".split(\".\").slice(2).join(\".\")}(\"6.0.5\"),he=\"ngDebugContext\",fe=\"ngOriginalError\",pe=\"ngErrorLogger\";function de(t){return t[he]}function ye(t){return t[fe]}function me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,u(e))}var ge=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[pe]||me}(t);r(this._console,\"ERROR\",t),e&&r(this._console,\"ORIGINAL ERROR\",e),n&&r(this._console,\"ERROR CONTEXT\",n)},t.prototype._findContext=function(t){return t?de(t)?de(t):this._findContext(ye(t)):null},t.prototype._findOriginalError=function(t){for(var e=ye(t);e&&ye(e);)e=ye(e);return e},t}();function ve(t){return t.length>1?\" (\"+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return Ot(t.token)}).join(\" -> \")+\")\":\"\"}function be(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+\" caused by: \"+(e instanceof Error?e.message:e),r=Error(n);return r[fe]=e,r}(0,r):Error(o);return a.addKey=we,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[fe]=r,a}function we(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function _e(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(Ot).join(\" \"):\"?\")}return Error(\"Cannot resolve all parameters for '\"+Ot(t)+\"'(\"+n.join(\", \")+\"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '\"+Ot(t)+\"' is decorated with Injectable.\")}var Ee=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error(\"Token must be defined!\");this.displayName=Ot(this.token)}return t.get=function(t){return Se.get(Vt(t))},Object.defineProperty(t,\"numberOfKeys\",{get:function(){return Se.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Se=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Ee)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Ee(t,Ee.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,\"numberOfKeys\",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Ce=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Rt),Te=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ie=[],ke=function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]},Ae=function(t,e){this.factory=t,this.dependencies=e};function Oe(t){return new ke(Ee.get(t.provide),[function(t){var e,n;if(t.useClass){var r=Vt(t.useClass);e=Ce.factory(r),n=Ne(r)}else t.useExisting?(e=function(t){return t},n=[Te.fromKey(Ee.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return xe(t,e,n)})}return Ne(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ie);return new Ae(e,n)}(t)],t.multi||!1)}function Ne(t){var e=Ce.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw _e(t,e);return e.map(function(n){return xe(t,n,e)})}function xe(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return Pe(e instanceof Ft?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof vt?r=s:s instanceof Ft?r=s.token:s instanceof jt?i=!0:s instanceof Ut||s instanceof Bt?o=s:s instanceof dt&&(r=s)}if(null!=(r=Vt(r)))return Pe(r,i,o);throw _e(t,n)}function Pe(t,e,n){return new Te(Ee.get(t),e,n)}var Re=new Object,De=function(){function t(){}return t.resolve=function(t){return function(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(\"Cannot mix multi providers and regular providers, got: \"+i+\" \"+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new ke(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof vt)n.push({provide:e,useClass:e});else if(e&&\"object\"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error(\"Invalid provider - only instances of Provider and Type are allowed, got: \"+e);t(e,n)}}),n}(t,[]).map(Oe),new Map);return Array.from(e.values())}(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Me(t,e)},t}(),Me=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Re}return t.prototype.get=function(t,e){return void 0===e&&(e=Wt),this._getByKey(Ee.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=De.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(De.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error(\"Index \"+t+\" is out-of-bounds.\")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw be(this,t.key,function(t){return\"Cannot instantiate cyclic dependency!\"+ve(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,i,o=this,a=e.factory;try{n=e.dependencies.map(function(t){return o._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{r=a.apply(void 0,u(n))}catch(e){throw be(this,t.key,function(t){var e=Ot(t[0].token);return i.message+\": Error during instantiation of \"+e+\"!\"+ve(t)+\".\"},i=e)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Wt)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof Ut?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Re&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Re},t.prototype._throwOrNull=function(t,e){if(e!==Wt)return e;throw function(t,e){return be(t,e,function(t){return\"No provider for \"+Ot(t[0].token)+\"!\"+ve(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Re?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof Bt?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Re)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,\"displayName\",{get:function(){return\"ReflectiveInjector(providers: [\"+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' \"'+t.getProviderAtIndex(r).key.displayName+'\" ';return n}(this).join(\", \")+\"])\"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Ee.get(zt),t}(),Le=new dt(\"The presence of this token marks an injector as being the root injector.\");function Ve(t){return!!t&&\"function\"==typeof t.then}function Fe(t){return!!t&&\"function\"==typeof t.subscribe}var je=new dt(\"Application Initializer\"),Ue=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ve(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Be=new dt(\"AppId\");function qe(){return\"\"+He()+He()+He()}function He(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var We=new dt(\"Platform Initializer\"),Ge=new dt(\"Platform ID\"),Ke=new dt(\"appBootstrapListener\"),ze=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Qe(){throw new Error(\"Runtime compiler is not loaded\")}var Xe=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Qe()},t.prototype.compileModuleAsync=function(t){throw Qe()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Qe()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Qe()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),Ye=function(){},Je=function(){};function Ze(t){var e=Error(\"No component factory found for \"+Ot(t)+\". Did you add it to @NgModule.entryComponents?\");return e[en]=t,e}var $e,tn,en=\"ngComponent\",nn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Ze(t)},t}(),rn=function(){function t(){}return t.NULL=new nn,t}(),on=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ze(t);return new an(e,this._ngModule)},t}(),an=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return i(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Je),sn=function(){},un=function(){},ln=function(){var t=St.wtf;return!(!t||!($e=t.trace)||(tn=$e.events,0))}();function cn(t,e){return null}var hn=ln?function(t,e){return void 0===e&&(e=null),tn.createScope(t,e)}:function(t,e){return cn},fn=ln?function(t,e){return $e.leaveScope(t,e),e}:function(t,e){return e},pn=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&\"object\"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof _&&e.add(s),s},e}(rt),dn=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return vn(e),t.invokeTask(r,i,o,a)}finally{bn(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return vn(e),t.invoke(r,i,o,a,s)}finally{bn(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&(\"microTask\"==i.change?(e.hasPendingMicrotasks=i.microTask,gn(e)):\"macroTask\"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get(\"isAngularZone\")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask(\"NgZoneEvent: \"+r,t,mn,yn,yn);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function yn(){}var mn={};function gn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function vn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bn(t){t._nesting--,gn(t)}var wn,_n=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),En=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get(\"TaskTrackingZone\")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){dn.assertNotInAngularZone(),kt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())kt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Sn=function(){function t(){this._applications=new Map,Cn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Cn.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),Cn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Tn=!0,In=!1,kn=new dt(\"AllowMultipleToken\");function An(){return In=!0,Tn}var On=function(t,e){this.name=t,this.token=e};function Nn(t,e,n){void 0===n&&(n=[]);var r=\"Platform: \"+e,i=new dt(r);return function(e){void 0===e&&(e=[]);var o=xn();if(!o||o.injector.get(kn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(wn&&!wn.destroyed&&!wn.injector.get(kn,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");wn=t.get(Pn);var e=t.get(We,null);e&&e.forEach(function(t){return t()})}(zt.create({providers:a,name:r}))}return function(t){var e=xn();if(!e)throw new Error(\"No platform exists!\");if(!e.injector.get(t,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return e}(i)}}function xn(){return wn&&!wn.destroyed?wn:null}var Pn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i=\"noop\"===(n=e?e.ngZone:void 0)?new _n:(\"zone.js\"===n?void 0:n)||new dn({enableLongStackTrace:An()}),o=[{provide:dn,useValue:i}];return i.run(function(){var e=zt.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ge,null);if(!a)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return n.onDestroy(function(){return Mn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Ue)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Ve(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Ye),i=Rn({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Dn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error(\"The module \"+Ot(t.instance.constructor)+' was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,\"injector\",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,\"destroyed\",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Rn(t,e){return Array.isArray(e)?e.reduce(Rn,t):o({},t,e)}var Dn=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=An(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new N(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new N(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){dn.assertNotInAngularZone(),kt(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){dn.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return P(i)?(r=t.pop(),t.length>1&&\"number\"==typeof t[t.length-1]&&(n=t.pop())):\"number\"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof N?t[0]:$(n)(z(t,r))}(s,u.pipe(ft()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");n=t instanceof Je?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof an?null:this._injector.get(sn),o=n.create(zt.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(En,null);return a&&o.injector.get(Sn).registerApplication(o.location.nativeElement,a),this._loadComponent(o),An()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,fn(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Mn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ke,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Mn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,\"viewCount\",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=hn(\"ApplicationRef#tick()\"),t}();function Mn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ln=function(){},Vn=function(){},Fn=function(t){return t[t.Important=1]=\"Important\",t[t.DashCase=2]=\"DashCase\",t}({}),jn=function(){},Un=function(t){this.nativeElement=t},Bn=function(){},qn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new pn,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[It()]=function(){return this._results[It()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Hn=function(){},Wn={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"},Gn=function(){function t(t,e){this._compiler=t,this._config=e||Wn}return t.prototype.load=function(t){return this._compiler instanceof Xe?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=s(t.split(\"#\"),2),i=r[0],o=r[1];return void 0===o&&(o=\"default\"),n(\"crnd\")(i).then(function(t){return t[o]}).then(function(t){return Kn(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=s(t.split(\"#\"),2),r=e[0],i=e[1],o=\"NgFactory\";return void 0===i&&(i=\"default\",o=\"\"),n(\"crnd\")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return Kn(t,r,i)})},t}();function Kn(t,e,n){if(!t)throw new Error(\"Cannot find '\"+n+\"' in '\"+e+\"'\");return t}var zn=function(){},Qn=function(){},Xn=function(){},Yn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Jn?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,\"injector\",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"componentInstance\",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"context\",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"references\",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"providerTokens\",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Jn=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return i(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,u([i+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof Jn&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof Jn&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof Jn&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,\"children\",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Yn),Zn=new Map;function $n(t){return Zn.get(t)||null}function tr(t){Zn.set(t.nativeNode,t)}function er(t,e){var n=ir(t),r=ir(e);return n&&r?function(t,e,n){for(var r=t[It()](),i=e[It()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,er):!(n||!t||\"object\"!=typeof t&&\"function\"!=typeof t||r||!e||\"object\"!=typeof e&&\"function\"!=typeof e)||At(t,e)}var nr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),rr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function ir(t){return!!or(t)&&(Array.isArray(t)||!(t instanceof Map)&&It()in t)}function or(t){return null!==t&&(\"function\"==typeof t||\"object\"==typeof t)}var ar=function(){function t(){}return t.prototype.supports=function(t){return ir(t)},t.prototype.create=function(t){return new ur(t)},t}(),sr=function(t,e){return e},ur=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sr}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<fr(n,r,i)?e:n,a=fr(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!ir(t))throw new Error(\"Error trying to diff '\"+Ot(t)+\"'. Only arrays and iterables are allowed\");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&At(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),At(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[It()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&At(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),At(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(At(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(At(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new lr(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hr),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),lr=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},cr=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&At(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),hr=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new cr,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,\"isEmpty\",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function fr(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var pr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||or(t)},t.prototype.create=function(){return new dr},t}(),dr=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||or(t)))throw new Error(\"Error trying to diff '\"+Ot(t)+\"'. Only maps and objects are allowed\")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new yr(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){At(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),yr=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},mr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return t.create(e,n)},deps:[[t,new Bt,new jt]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error(\"Cannot find a differ supporting object '\"+t+\"' of type '\"+((e=t).name||typeof e)+\"'\")},t.ngInjectableDef=pt({providedIn:\"root\",factory:function(){return new t([new ar])}}),t}(),gr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return t.create(e,n)},deps:[[t,new Bt,new jt]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error(\"Cannot find a differ supporting object '\"+t+\"'\")},t}(),vr=[new pr],br=new mr([new ar]),wr=new gr(vr),_r=Nn(null,\"core\",[{provide:Ge,useValue:\"unknown\"},{provide:Pn,deps:[zt]},{provide:Sn,deps:[]},{provide:ze,deps:[]}]),Er=new dt(\"LocaleId\");function Sr(){return br}function Cr(){return wr}function Tr(t){return t||\"en-US\"}var Ir=function(t){},kr=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement(\"body\"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t=\"<body><remove></remove>\"+t+\"</body>\";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType=\"document\",e.open(\"GET\",\"data:text/html;charset=utf-8,\"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t=\"<body><remove></remove>\"+t+\"</body>\";try{var e=(new window.DOMParser).parseFromString(t,\"text/html\").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement(\"template\");return\"content\"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;\"xmlns:ns1\"!==r&&0!==r.indexOf(\"ns1:\")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Ar=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Or=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function Nr(t){return(t=String(t)).match(Ar)||t.match(Or)?t:(An()&&console.warn(\"WARNING: sanitizing unsafe URL value \"+t+\" (see http://g.co/ng/security#xss)\"),\"unsafe:\"+t)}function xr(t){var e,n,r={};try{for(var i=a(t.split(\",\")),o=i.next();!o.done;o=i.next())r[o.value]=!0}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Pr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i={};try{for(var o=a(t),s=o.next();!s.done;s=o.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(i[l]=!0)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}var Rr,Dr=xr(\"area,br,col,hr,img,wbr\"),Mr=xr(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),Lr=xr(\"rp,rt\"),Vr=Pr(Lr,Mr),Fr=Pr(Dr,Pr(Mr,xr(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),Pr(Lr,xr(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),Vr),jr=xr(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),Ur=xr(\"srcset\"),Br=Pr(jr,Ur,xr(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\")),qr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join(\"\")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(Fr.hasOwnProperty(e)){this.buf.push(\"<\"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Br.hasOwnProperty(s)){var u=o.value;jr[s]&&(u=Nr(u)),Ur[s]&&(n=u,u=(n=String(n)).split(\",\").map(function(t){return Nr(t.trim())}).join(\", \")),this.buf.push(\" \",a,'=\"',Gr(u),'\"')}else this.sanitizedSomething=!0}this.buf.push(\">\")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Fr.hasOwnProperty(e)&&!Dr.hasOwnProperty(e)&&(this.buf.push(\"</\"),this.buf.push(e),this.buf.push(\">\"))},t.prototype.chars=function(t){this.buf.push(Gr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(\"Failed to sanitize html because the element is clobbered: \"+t.outerHTML);return e},t}(),Hr=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,Wr=/([^\\#-~ |!])/g;function Gr(t){return t.replace(/&/g,\"&amp;\").replace(Hr,function(t){return\"&#\"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+\";\"}).replace(Wr,function(t){return\"&#\"+t.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function Kr(t){return\"content\"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===t.nodeName}(t)?t.content:null}var zr=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),Qr=/^url\\(([^)]+)\\)$/,Xr=function(t){return t[t.NONE=0]=\"NONE\",t[t.HTML=1]=\"HTML\",t[t.STYLE=2]=\"STYLE\",t[t.SCRIPT=3]=\"SCRIPT\",t[t.URL=4]=\"URL\",t[t.RESOURCE_URL=5]=\"RESOURCE_URL\",t}({}),Yr=function(){};function Jr(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Zr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function $r(t,e){return t.nodes[e]}function ti(t,e){return t.nodes[e]}function ei(t,e){return t.nodes[e]}function ni(t,e){return t.nodes[e]}function ri(t,e){return t.nodes[e]}var ii={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function oi(t,e,n,r){var i=\"ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '\"+e+\"'. Current value: '\"+n+\"'.\";return r&&(i+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(t,e){var n=new Error(t);return ai(n,e),n}(i,t)}function ai(t,e){t[he]=e,t[pe]=e.logError.bind(e)}function si(t){return new Error(\"ViewDestroyedError: Attempt to use a destroyed view: \"+t)}var ui=function(){},li=new Map;function ci(t){var e=li.get(t);return e||(e=Ot(t)+\"_\"+li.size,li.set(t,e)),e}function hi(t,e,n,r){if(nr.isWrapped(r)){r=nr.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=nr.unwrap(t.oldValues[i]);t.oldValues[i]=new nr(o)}return r}var fi=\"$$undefined\",pi=\"$$empty\";function di(t){return{id:fi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var yi=0;function mi(t,e,n,r){return!(!(2&t.state)&&At(t.oldValues[e.bindingIndex+n],r))}function gi(t,e,n,r){return!!mi(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function vi(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!er(i,r)){var o=e.bindings[n].name;throw oi(ii.createDebugContext(t,e.nodeIndex),o+\": \"+i,o+\": \"+r,0!=(1&t.state))}}function bi(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function wi(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function _i(t,e,n,r){try{return bi(33554432&t.def.nodes[e].flags?ti(t,e).componentView:t),ii.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Ei(t){return t.parent?ti(t.parent,t.parentNodeDef.nodeIndex):null}function Si(t){return t.parent?t.parentNodeDef.parent:null}function Ci(t,e){switch(201347067&e.flags){case 1:return ti(t,e.nodeIndex).renderElement;case 2:return $r(t,e.nodeIndex).renderText}}function Ti(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Ii(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ki(t){return 1<<t%32}function Ai(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=s(t,2),o=i[0],a=i[1];\"number\"==typeof o?(e[o]=a,n|=ki(o)):r[o]=a}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Oi(t,e){return t.map(function(t){var n,r,i;return Array.isArray(t)?(r=(i=s(t,2))[0],n=i[1]):(r=0,n=t),n&&(\"function\"==typeof n||\"object\"==typeof n)&&e&&Object.defineProperty(n,qt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:ci(n)}})}function Ni(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===le.Native?ti(t,n.renderParent.nodeIndex).renderElement:void 0:e}var xi=new WeakMap;function Pi(t){var e=xi.get(t);return e||((e=t(function(){return ui})).factory=t,xi.set(t,e)),e}function Ri(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Ci(t,t.def.lastRenderRootNode))),Di(t,e,0,t.def.nodes.length-1,n,r,i)}function Di(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Li(t,u,e,i,o,a),s+=u.childCount}}function Mi(t,e,n,r,i,o){for(var a=t;a&&!Ti(a);)a=a.parent;for(var s=a.parent,u=Si(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&Li(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)Vi(t,f[c],n,r,i,o)}}function Li(t,e,n,r,i,o){if(8&e.flags)Mi(t,e.ngContent.index,n,r,i,o);else{var a=Ci(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Vi(t,a,n,r,i,o),32&e.bindingFlags&&Vi(ti(t,e.nodeIndex).componentView,a,n,r,i,o)):Vi(t,a,n,r,i,o),16777216&e.flags)for(var s=ti(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Ri(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Di(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Vi(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Fi=/^:([^:]+):(.+)$/;function ji(t){if(\":\"===t[0]){var e=t.match(Fi);return[e[1],e[2]]}return[\"\",t]}function Ui(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Bi(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,y,m,g,v,b){switch(t){case 1:return e+qi(n)+r;case 2:return e+qi(n)+r+qi(i)+o;case 3:return e+qi(n)+r+qi(i)+o+qi(a)+s;case 4:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l;case 5:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l+qi(c)+h;case 6:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l+qi(c)+h+qi(f)+p;case 7:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l+qi(c)+h+qi(f)+p+qi(d)+y;case 8:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l+qi(c)+h+qi(f)+p+qi(d)+y+qi(m)+g;case 9:return e+qi(n)+r+qi(i)+o+qi(a)+s+qi(u)+l+qi(c)+h+qi(f)+p+qi(d)+y+qi(m)+g+qi(v)+b;default:throw new Error(\"Does not support more than 9 expressions\")}}function qi(t){return null!=t?t.toString():\"\"}function Hi(t,e,n,r,i,o){t|=1;var a=Ai(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Pi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||ui},provider:null,text:null,query:null,ngContent:null}}function Wi(t,e,n,r,i,o,a,u,l,c,h,f){void 0===a&&(a=[]),c||(c=ui);var p=Ai(n),d=p.matchedQueries,y=p.references,m=p.matchedQueryIds,g=null,v=null;o&&(g=(x=s(ji(o),2))[0],v=x[1]),u=u||[];for(var b=new Array(u.length),w=0;w<u.length;w++){var _=s(u[w],3),E=_[0],S=_[2],C=s(ji(_[1]),2),T=C[0],I=C[1],k=void 0,A=void 0;switch(15&E){case 4:A=S;break;case 1:case 8:k=S}b[w]={flags:E,ns:T,name:I,nonMinifiedName:I,securityContext:k,suffix:A}}l=l||[];var O=new Array(l.length);for(w=0;w<l.length;w++){var N=s(l[w],2);O[w]={type:0,target:N[0],eventName:N[1],propName:null}}var x,P=(a=a||[]).map(function(t){var e=s(t,2),n=e[1],r=s(ji(e[0]),2);return[r[0],r[1],n]});return f=function(t){if(t&&t.id===fi){var e=null!=t.encapsulation&&t.encapsulation!==le.None||t.styles.length||Object.keys(t.data).length;t.id=e?\"c\"+yi++:pi}return t&&t.id===pi&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:y,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Ui(b),outputs:O,element:{ns:g,name:v,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||ui},provider:null,text:null,query:null,ngContent:null}}function Gi(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment(\"\");var u=Ni(t,e,n);u&&a.appendChild(u,r)}else r=a.selectRootElement(o);if(i.attrs)for(var l=0;l<i.attrs.length;l++){var c=s(i.attrs[l],3);a.setAttribute(r,c[1],c[2],c[0])}return r}function Ki(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=zi(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+\":\"+h:h)),s=o.target,u=t;\"component\"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}var c,h}function zi(t,e,n){return function(r){return _i(t,e,n,r)}}function Qi(t,e,n,r){if(!gi(t,e,n,r))return!1;var i=e.bindings[n],o=ti(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Xr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Xi=new Object,Yi=ci(zt),Ji=ci(Gt),Zi=ci(sn);function $i(t,e,n,r){return n=Vt(n),{index:-1,deps:Oi(r,Ot(e)),flags:t,token:e,value:n}}function to(t,e,n){void 0===n&&(n=zt.THROW_IF_NOT_FOUND);var r,i,o=ue(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Yi:case Ji:case Zi:return t}var s=t._def.providersByKey[a];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=eo(t,s)),u===Xi?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||\"root\"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:l,token:e.token},t._providers[l]=Xi,t._providers[l]=eo(t,t._def.providersByKey[e.tokenKey])}return t._parent.get(e.token,n)}finally{ue(o)}}function eo(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(to(t,n[0]));case 2:return new e(to(t,n[0]),to(t,n[1]));case 3:return new e(to(t,n[0]),to(t,n[1]),to(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=to(t,n[o]);return new(e.bind.apply(e,u([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(to(t,n[0]));case 2:return e(to(t,n[0]),to(t,n[1]));case 3:return e(to(t,n[0]),to(t,n[1]),to(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=to(t,n[o]);return e.apply(void 0,u(i))}}(t,e.value,e.deps);break;case 2048:n=to(t,e.deps[0]);break;case 256:n=e.value}return n===Xi||null==n||\"object\"!=typeof n||131072&e.flags||\"function\"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Xi:n}function no(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,ao(n,e),ii.dirtyParentQueries(r),io(r),r}function ro(t,e,n){var r=e?Ci(e,e.def.lastRenderRootNode):t.renderElement;Ri(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function io(t){Ri(t,3,null,null,void 0)}function oo(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ao(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var so=new Object;function uo(t,e,n,r,i,o){return new lo(t,e,n,r,i,o)}var lo=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return i(e,t),Object.defineProperty(e.prototype,\"inputs\",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"outputs\",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error(\"ngModule should be provided\");var i=Pi(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=ii.createRootView(t,e||[],n,i,r,so),s=ei(a,o).instance;return n&&a.renderer.setAttribute(ti(a,0).renderElement,\"ng-version\",ce.full),new co(a,new yo(a),s)},e}(Je),co=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return i(e,t),Object.defineProperty(e.prototype,\"location\",{get:function(){return new Un(ti(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"injector\",{get:function(){return new bo(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentType\",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function ho(t,e,n){return new fo(t,e,n)}var fo=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,\"element\",{get:function(){return new Un(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"injector\",{get:function(){return new bo(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parentInjector\",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Si(t),t=t.parent;return t?new bo(t,e):new bo(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=no(this._data,t);ii.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new yo(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,\"length\",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof an||(i=o.get(sn));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");var n,r,i,o,a=t;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,oo(o,r,i),function(t,e){var n=Ei(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),ii.dirtyParentQueries(i),ro(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],ao(o,r),null==i&&(i=o.length),oo(o,i,a),ii.dirtyParentQueries(a),io(a),ro(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=no(this._data,t);e&&ii.destroyView(e)},t.prototype.detach=function(t){var e=no(this._data,t);return e?new yo(e):null},t}();function po(t){return new yo(t)}var yo=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,\"rootNodes\",{get:function(){return Ri(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"context\",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"destroyed\",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){bi(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{ii.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){ii.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ii.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,io(this._view),ii.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=t},t}();function mo(t,e){return new go(t,e)}var go=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return i(e,t),e.prototype.createEmbeddedView=function(t){return new yo(ii.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,\"elementRef\",{get:function(){return new Un(ti(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(zn);function vo(t,e){return new bo(t,e)}var bo=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=zt.THROW_IF_NOT_FOUND),ii.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ci(t)},e)},t}();function wo(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=ti(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return $r(t,n.nodeIndex).renderText;if(20240&n.flags)return ei(t,n.nodeIndex).instance;throw new Error(\"Illegal state: read nodeValue for node index \"+e)}function _o(t){return new Eo(t.renderer)}var Eo=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=s(ji(e),2),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment(\"\");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=s(ji(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error(\"Renderer.animate is no longer supported!\")},t}();function So(t,e,n,r){return new Co(t,e,n,r)}var Co=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=eo(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=zt.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),to(this,{token:t,tokenKey:ci(t),flags:r},e)},Object.defineProperty(t.prototype,\"instance\",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"componentFactoryResolver\",{get:function(){return this.get(rn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The ng module \"+Ot(this.instance.constructor)+\" has already been destroyed.\");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Xi){var a=o.ngOnDestroy;\"function\"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),To=ci(Ln),Io=ci(jn),ko=ci(Un),Ao=ci(Qn),Oo=ci(zn),No=ci(Xn),xo=ci(zt),Po=ci(Gt);function Ro(t,e,n,r,i,o,a,u){var l=[];if(a)for(var c in a){var h=s(a[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return Lo(t,e|=16384,n,r,i,i,o,l,f)}function Do(t,e,n){return Lo(-1,t|=16,null,0,e,e,n)}function Mo(t,e,n,r,i){return Lo(-1,t,e,0,n,r,i)}function Lo(t,e,n,r,i,o,a,s,u){var l=Ai(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=Vt(o);var p=Oi(a,Ot(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ui(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function Vo(t,e){return Bo(t,e)}function Fo(t,e){for(var n=t;n.parent&&!Ti(n);)n=n.parent;return qo(n.parent,Si(n),!0,e.provider.value,e.provider.deps)}function jo(t,e){var n=qo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(Uo(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function Uo(t,e,n){return function(r){return _i(t,e,n,r)}}function Bo(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return qo(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Wo(t,e,n,i[0]));case 2:return r(Wo(t,e,n,i[0]),Wo(t,e,n,i[1]));case 3:return r(Wo(t,e,n,i[0]),Wo(t,e,n,i[1]),Wo(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Wo(t,e,n,i[s]);return r.apply(void 0,u(a))}}(t,e.parent,n,r.value,r.deps);case 2048:return Wo(t,e.parent,n,r.deps[0]);case 256:return r.value}}function qo(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Wo(t,e,n,i[0]));case 2:return new r(Wo(t,e,n,i[0]),Wo(t,e,n,i[1]));case 3:return new r(Wo(t,e,n,i[0]),Wo(t,e,n,i[1]),Wo(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Wo(t,e,n,i[s]);return new(r.bind.apply(r,u([void 0],a)))}}var Ho={};function Wo(t,e,n,r,i){if(void 0===i&&(i=zt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===No&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case To:return _o(Go(s,e,n));case Io:return Go(s,e,n).renderer;case ko:return new Un(ti(s,e.nodeIndex).renderElement);case Ao:return ti(s,e.nodeIndex).viewContainer;case Oo:if(e.element.template)return ti(s,e.nodeIndex).template;break;case No:return po(Go(s,e,n));case xo:case Po:return vo(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=ei(s,u.nodeIndex);return l||(l={instance:Bo(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=Ti(s),e=Si(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,Ho);return c!==Ho||i===Ho?c:o.root.ngModule.injector.get(r.token,i)}function Go(t,e,n){var r;if(n)r=ti(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Ti(r);)r=r.parent;return r}function Ko(t,e,n,r,i,o){if(32768&n.flags){var a=ti(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=nr.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new rr(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function zo(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Xo(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Qo(t,a,e,r)),a=a.parent}}function Qo(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Xo(t,i,o.flags&n,r++),i+=o.childCount}return r}function Xo(t,e,n,r){var i=ei(t,e);if(i){var o=i.instance;o&&(ii.setCurrentNode(t,e),1048576&n&&Zr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Zr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Yo(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ki(e),bindings:r},ngContent:null}}function Jo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Ii(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&ri(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&ri(t,i).setDirty(),i+=o.childCount}}function Zo(t,e){var n=ri(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=$o(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ei(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=$o(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function $o(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(ta(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=ti(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&($o(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Ei(h);f&&f===u&&$o(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];$o(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ta(t,e,n){if(null!=n)switch(n){case 1:return ti(t,e.nodeIndex).renderElement;case 0:return new Un(ti(t,e.nodeIndex).renderElement);case 2:return ti(t,e.nodeIndex).template;case 3:return ti(t,e.nodeIndex).viewContainer;case 4:return ei(t,e.nodeIndex).instance}}function ea(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function na(t,e,n){var r=Ni(t,e,n);r&&Mi(t,n.ngContent.index,1,r,null,void 0)}function ra(t,e){return oa(128,t,new Array(e+1))}function ia(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return oa(64,t,i)}function oa(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ui(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function aa(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function sa(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Ni(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ua(t,e){return(null!=t?t.toString():\"\")+e.suffix}function la(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=l,y.bindingIndex=i,y.outputIndex=o,y.renderParent=c,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(ha(l,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!c&&3&y.flags&&(p=y),20224&y.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var g=0!=(32768&y.flags);0==(8192&y.flags)||g?l.element.publicProviders[ci(y.provider.token)]=y:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[ci(y.provider.token)]=y),g&&(l.element.componentProvider=y)}if(l?(l.childFlags|=y.flags,l.directChildFlags|=y.flags,l.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(l.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)l=y,ca(y)||(c=y);else for(;l&&d===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&ca(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ui,updateRenderer:r||ui,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function ca(t){return 0!=(1&t.flags)&&null===t.element.name}function ha(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(\"Illegal State: Last root node of a template can't have embedded views, at index \"+e.nodeIndex+\"!\")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(\"Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index \"+e.nodeIndex+\"!\");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(\"Illegal State: Content Query nodes need to be children of directives, at index \"+e.nodeIndex+\"!\");if(134217728&e.flags&&t)throw new Error(\"Illegal State: View Query nodes have to be top level nodes, at index \"+e.nodeIndex+\"!\")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(\"Illegal State: childCount of node leads outside of parent, at index \"+e.nodeIndex+\"!\")}}function fa(t,e,n,r){var i=ya(t.root,t.renderer,t,e,n);return ma(i,t.component,r),ga(i),i}function pa(t,e,n){var r=ya(t,t.renderer,null,null,e);return ma(r,n,n),ga(r),r}function da(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,ya(t.root,i,t,e.element.componentProvider,n)}function ya(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function ma(t,e,n){t.component=e,t.context=n}function ga(t){var e;Ti(t)&&(e=ti(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];ii.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Gi(t,e,o),u=void 0;if(33554432&o.flags){var l=Pi(o.element.componentView);u=ii.createComponentView(t,o,l,s)}Ki(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?mo(t,o):void 0},16777216&o.flags&&(a.viewContainer=ho(t,o,a));break;case 2:a=sa(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Vo(t,o)});break;case 16:a={instance:Fo(t,o)};break;case 16384:(a=r[i])||(a={instance:jo(t,o)}),32768&o.flags&&ma(ti(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new qn;break;case 8:na(t,e,o),a=void 0}r[i]=a}Ia(t,Ta.CreateViewNodes),Na(t,201326592,268435456,0)}function va(t){_a(t),ii.updateDirectives(t,1),ka(t,Ta.CheckNoChanges),ii.updateRenderer(t,1),Ia(t,Ta.CheckNoChanges),t.state&=-97}function ba(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Jr(t,0,256),_a(t),ii.updateDirectives(t,0),ka(t,Ta.CheckAndUpdate),Na(t,67108864,536870912,0);var e=Jr(t,256,512);zo(t,2097152|(e?1048576:0)),ii.updateRenderer(t,0),Ia(t,Ta.CheckAndUpdate),Na(t,134217728,536870912,0),zo(t,8388608|((e=Jr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Jr(t,768,1024)}function wa(t,e,n,r,i,o,a,s,l,c,h,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length,p=!1;return f>0&&Qi(t,e,0,n)&&(p=!0),f>1&&Qi(t,e,1,r)&&(p=!0),f>2&&Qi(t,e,2,i)&&(p=!0),f>3&&Qi(t,e,3,o)&&(p=!0),f>4&&Qi(t,e,4,a)&&(p=!0),f>5&&Qi(t,e,5,s)&&(p=!0),f>6&&Qi(t,e,6,u)&&(p=!0),f>7&&Qi(t,e,7,l)&&(p=!0),f>8&&Qi(t,e,8,c)&&(p=!0),f>9&&Qi(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&gi(t,e,0,n)&&(f=!0),d>1&&gi(t,e,1,r)&&(f=!0),d>2&&gi(t,e,2,i)&&(f=!0),d>3&&gi(t,e,3,o)&&(f=!0),d>4&&gi(t,e,4,a)&&(f=!0),d>5&&gi(t,e,5,s)&&(f=!0),d>6&&gi(t,e,6,u)&&(f=!0),d>7&&gi(t,e,7,l)&&(f=!0),d>8&&gi(t,e,8,c)&&(f=!0),d>9&&gi(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=ua(n,p[0])),d>1&&(y+=ua(r,p[1])),d>2&&(y+=ua(i,p[2])),d>3&&(y+=ua(o,p[3])),d>4&&(y+=ua(a,p[4])),d>5&&(y+=ua(s,p[5])),d>6&&(y+=ua(u,p[6])),d>7&&(y+=ua(l,p[7])),d>8&&(y+=ua(c,p[8])),d>9&&(y+=ua(h,p[9]));var m=$r(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=ei(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,m=e.bindings.length;return m>0&&mi(t,e,0,n)&&(d=!0,y=Ko(t,f,e,0,n,y)),m>1&&mi(t,e,1,r)&&(d=!0,y=Ko(t,f,e,1,r,y)),m>2&&mi(t,e,2,i)&&(d=!0,y=Ko(t,f,e,2,i,y)),m>3&&mi(t,e,3,o)&&(d=!0,y=Ko(t,f,e,3,o,y)),m>4&&mi(t,e,4,a)&&(d=!0,y=Ko(t,f,e,4,a,y)),m>5&&mi(t,e,5,s)&&(d=!0,y=Ko(t,f,e,5,s,y)),m>6&&mi(t,e,6,u)&&(d=!0,y=Ko(t,f,e,6,u,y)),m>7&&mi(t,e,7,l)&&(d=!0,y=Ko(t,f,e,7,l,y)),m>8&&mi(t,e,8,c)&&(d=!0,y=Ko(t,f,e,8,c,y)),m>9&&mi(t,e,9,h)&&(d=!0,y=Ko(t,f,e,9,h,y)),y&&p.ngOnChanges(y),65536&e.flags&&Zr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&gi(t,e,0,n)&&(p=!0),d>1&&gi(t,e,1,r)&&(p=!0),d>2&&gi(t,e,2,i)&&(p=!0),d>3&&gi(t,e,3,o)&&(p=!0),d>4&&gi(t,e,4,a)&&(p=!0),d>5&&gi(t,e,5,s)&&(p=!0),d>6&&gi(t,e,6,u)&&(p=!0),d>7&&gi(t,e,7,l)&&(p=!0),d>8&&gi(t,e,8,c)&&(p=!0),d>9&&gi(t,e,9,h)&&(p=!0),p){var y=ni(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=a),d>5&&(m[5]=s),d>6&&(m[6]=u),d>7&&(m[7]=l),d>8&&(m[8]=c),d>9&&(m[9]=h);break;case 64:m={},d>0&&(m[f[0].name]=n),d>1&&(m[f[1].name]=r),d>2&&(m[f[2].name]=i),d>3&&(m[f[3].name]=o),d>4&&(m[f[4].name]=a),d>5&&(m[f[5].name]=s),d>6&&(m[f[6].name]=u),d>7&&(m[f[7].name]=l),d>8&&(m[f[8].name]=c),d>9&&(m[f[9].name]=h);break;case 128:var g=n;switch(d){case 1:m=g.transform(n);break;case 2:m=g.transform(r);break;case 3:m=g.transform(r,i);break;case 4:m=g.transform(r,i,o);break;case 5:m=g.transform(r,i,o,a);break;case 6:m=g.transform(r,i,o,a,s);break;case 7:m=g.transform(r,i,o,a,s,u);break;case 8:m=g.transform(r,i,o,a,s,u,l);break;case 9:m=g.transform(r,i,o,a,s,u,l,c);break;case 10:m=g.transform(r,i,o,a,s,u,l,c,h)}}y.value=m}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw\"unreachable\"}}(t,e,r,i,o,a,s,l,c,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Qi(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)gi(t,e,o,n[o])&&(i=!0);if(i){var a=\"\";for(o=0;o<n.length;o++)a+=ua(n[o],r[o]);a=e.text.prefix+a;var s=$r(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ei(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)mi(t,e,s,n[s])&&(o=!0,a=Ko(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Zr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)gi(t,e,o,n[o])&&(i=!0);if(i){var a=ni(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var l=n[0],c=n.slice(1);s=l.transform.apply(l,u(c))}a.value=s}return i}(t,e,n);default:throw\"unreachable\"}}(t,e,r)}function _a(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=ti(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,wi(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ea(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length;f>0&&vi(t,e,0,n),f>1&&vi(t,e,1,r),f>2&&vi(t,e,2,i),f>3&&vi(t,e,3,o),f>4&&vi(t,e,4,a),f>5&&vi(t,e,5,s),f>6&&vi(t,e,6,u),f>7&&vi(t,e,7,l),f>8&&vi(t,e,8,c),f>9&&vi(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)vi(t,e,r,n[r])}(t,e,r),!1}function Sa(t,e){if(ri(t,e.nodeIndex).dirty)throw oi(ii.createDebugContext(t,e.nodeIndex),\"Query \"+e.query.id+\" not dirty\",\"Query \"+e.query.id+\" dirty\",0!=(1&t.state))}function Ca(t){if(!(128&t.state)){if(ka(t,Ta.Destroy),Ia(t,Ta.Destroy),zo(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ei(t);if(e){var n=e.template._projectedViews;n&&(ao(n,n.indexOf(t)),ii.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(ti(t,n).renderElement):2&r.flags?t.renderer.destroyNode($r(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&ri(t,n).destroy()}}(t),Ti(t)&&t.renderer.destroy(),t.state|=128}}var Ta=function(t){return t[t.CreateViewNodes=0]=\"CreateViewNodes\",t[t.CheckNoChanges=1]=\"CheckNoChanges\",t[t.CheckNoChangesProjectedViews=2]=\"CheckNoChangesProjectedViews\",t[t.CheckAndUpdate=3]=\"CheckAndUpdate\",t[t.CheckAndUpdateProjectedViews=4]=\"CheckAndUpdateProjectedViews\",t[t.Destroy=5]=\"Destroy\",t}({});function Ia(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Aa(ti(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ka(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=ti(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Aa(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Aa(t,e){var n=t.state;switch(e){case Ta.CheckNoChanges:0==(128&n)&&(12==(12&n)?va(t):64&n&&Oa(t,Ta.CheckNoChangesProjectedViews));break;case Ta.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?va(t):64&n&&Oa(t,e));break;case Ta.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ba(t):64&n&&Oa(t,Ta.CheckAndUpdateProjectedViews));break;case Ta.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ba(t):64&n&&Oa(t,e));break;case Ta.Destroy:Ca(t);break;case Ta.CreateViewNodes:ga(t)}}function Oa(t,e){ka(t,e),Ia(t,e)}function Na(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(ii.setCurrentNode(t,a.nodeIndex),r){case 0:Zo(t,a);break;case 1:Sa(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var xa=!1;function Pa(t,e,n,r,i,o){return pa(Da(t,i,i.injector.get(Vn),e,n),r,o)}function Ra(t,e,n,r,i,o){var a=i.injector.get(Vn),s=Da(t,i,new ds(a),e,n),u=Wa(r);return fs($a.create,pa,null,[s,u,o])}function Da(t,e,n,r,i){var o=e.injector.get(Yr),a=e.injector.get(ge);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Ma(t,e,n,r){var i=Wa(n);return fs($a.create,fa,null,[t,e,i,r])}function La(t,e,n,r){return n=Ua.get(e.element.componentProvider.provider.token)||Wa(n),fs($a.create,da,null,[t,e,n,r])}function Va(t,e,n,r){return So(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Fa.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Fa.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){ja.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Fa.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Oi(i.deps),r.value=i.value)}if(ja.size>0){var o=new Set(t.modules);ja.forEach(function(e,r){if(o.has(r.ngInjectableDef.providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Oi(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[ci(r)]=i}})}}(t=t.factory(function(){return ui})),t):t}(r))}var Fa=new Map,ja=new Map,Ua=new Map;function Ba(t){Fa.set(t.token,t),\"function\"==typeof t.token&&t.token.ngInjectableDef&&\"function\"==typeof t.token.ngInjectableDef.providedIn&&ja.set(t.token,t)}function qa(t,e){var n=Pi(Pi(e.viewDefFactory).nodes[0].element.componentView);Ua.set(t,n)}function Ha(){Fa.clear(),ja.clear(),Ua.clear()}function Wa(t){if(0===Fa.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Fa.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ui});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Fa.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Oi(o.deps),i.value=o.value)}}}}function Ga(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return wa(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?ni(t,e).value:void 0}function Ka(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return Ea(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?ni(t,e).value:void 0}function za(t){return fs($a.detectChanges,ba,null,[t])}function Qa(t){return fs($a.checkNoChanges,va,null,[t])}function Xa(t){return fs($a.destroy,Ca,null,[t])}var Ya,Ja,Za,$a=function(t){return t[t.create=0]=\"create\",t[t.detectChanges=1]=\"detectChanges\",t[t.checkNoChanges=2]=\"checkNoChanges\",t[t.destroy=3]=\"destroy\",t[t.handleEvent=4]=\"handleEvent\",t}({});function ts(t,e){Ja=t,Za=e}function es(t,e,n,r){return ts(t,e),fs($a.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function ns(t,e){if(128&t.state)throw si($a[Ya]);return ts(t,us(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?is(t,a,r,i):os(t,a,r,i),16384&a.flags&&ts(t,us(t,n)),224&a.flags?ni(t,a.nodeIndex).value:void 0},t)}function rs(t,e){if(128&t.state)throw si($a[Ya]);return ts(t,ls(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?is(t,a,r,i):os(t,a,r,i),3&a.flags&&ts(t,ls(t,n)),224&a.flags?ni(t,a.nodeIndex).value:void 0},t)}function is(t,e,n,r){if(wa.apply(void 0,u([t,e,n],r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],l=i[a];8&s.flags&&(o[(p=s.nonMinifiedName,\"ng-reflect-\"+(p=p.replace(/[$@]/g,\"_\").replace(as,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return\"-\"+t[1].toLowerCase()})))]=ss(l))}var c=e.parent,h=ti(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in o)null!=(l=o[f])?t.renderer.setAttribute(h,f,l):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,\"bindings=\"+JSON.stringify(o,null,2))}}var p}function os(t,e,n,r){Ea.apply(void 0,u([t,e,n],r))}var as=/([A-Z])/g;function ss(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return\"[ERROR] Exception while trying to serialize the value\"}}function us(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function ls(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var cs=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Si(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,\"elOrCompView\",{get:function(){return ti(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"injector\",{get:function(){return vo(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"component\",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"context\",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"providerTokens\",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"references\",{get:function(){var t={};if(this.elDef){hs(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&hs(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"componentRenderElement\",{get:function(){var t=function(t){for(;t&&!Ti(t);)t=t.parent;return t.parent?ti(t.parent,Si(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"renderNode\",{get:function(){return 2&this.nodeDef.flags?Ci(this.view,this.nodeDef):Ci(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),a=-1;e.factory(function(){return++a===o?(e=t.error).bind.apply(e,u([t],r)):ui;var e}),a<o&&(t.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),t.error.apply(t,u(r)))},t}();function hs(t,e,n){for(var r in e.references)n[r]=ta(t,e,e.references[r])}function fs(t,e,n,r){var i=Ya,o=Ja,a=Za;try{Ya=t;var s=e.apply(n,r);return Ja=o,Za=a,Ya=i,s}catch(t){if(de(t)||!Ja)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),ai(t,e),t}(t,ps())}}function ps(){return Ja?new cs(Ja,Za):null}var ds=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ys(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ys=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){Zn.delete(t.nativeNode)}($n(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=ps();if(r){var i=new Jn(n,null,r);i.name=t,tr(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=ps();return n&&tr(new Yn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=ps();return n&&tr(new Yn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=$n(t),r=$n(e);n&&r&&n instanceof Jn&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=$n(t),i=$n(e),o=$n(n);r&&i&&r instanceof Jn&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=$n(t),r=$n(e);n&&r&&n instanceof Jn&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=ps();return n&&tr(new Jn(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=$n(t);i&&i instanceof Jn&&(i.attributes[r?r+\":\"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=$n(t);r&&r instanceof Jn&&(r.attributes[n?n+\":\"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=$n(t);n&&n instanceof Jn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=$n(t);n&&n instanceof Jn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=$n(t);i&&i instanceof Jn&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=$n(t);r&&r instanceof Jn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=$n(t);r&&r instanceof Jn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if(\"string\"!=typeof t){var r=$n(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),ms=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return i(e,t),e.prototype.create=function(t){!function(){if(!xa){xa=!0;var t=An()?{setCurrentNode:ts,createRootView:Ra,createEmbeddedView:Ma,createComponentView:La,createNgModuleRef:Va,overrideProvider:Ba,overrideComponentView:qa,clearOverrides:Ha,checkAndUpdateView:za,checkNoChangesView:Qa,destroyView:Xa,createDebugContext:function(t,e){return new cs(t,e)},handleEvent:es,updateDirectives:ns,updateRenderer:rs}:{setCurrentNode:function(){},createRootView:Pa,createEmbeddedView:fa,createComponentView:da,createNgModuleRef:So,overrideProvider:ui,overrideComponentView:ui,clearOverrides:ui,checkAndUpdateView:ba,checkNoChangesView:va,destroyView:Ca,createDebugContext:function(t,e){return new cs(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Ga:Ka,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Ga:Ka,t)}};ii.setCurrentNode=t.setCurrentNode,ii.createRootView=t.createRootView,ii.createEmbeddedView=t.createEmbeddedView,ii.createComponentView=t.createComponentView,ii.createNgModuleRef=t.createNgModuleRef,ii.overrideProvider=t.overrideProvider,ii.overrideComponentView=t.overrideComponentView,ii.clearOverrides=t.clearOverrides,ii.checkAndUpdateView=t.checkAndUpdateView,ii.checkNoChangesView=t.checkNoChangesView,ii.destroyView=t.destroyView,ii.resolveDep=Wo,ii.createDebugContext=t.createDebugContext,ii.handleEvent=t.handleEvent,ii.updateDirectives=t.updateDirectives,ii.updateRenderer=t.updateRenderer,ii.dirtyParentQueries=Jo}}();var e=Pi(this._ngModuleDefFactory);return ii.createNgModuleRef(this.moduleType,t||zt.NULL,this._bootstrapComponents,e)},e}(un);function gs(t,e,n){t!=e&&ws(n)}function vs(t,e){null!=t&&ws(e)}function bs(t,e){null==t&&ws(e)}function ws(t){throw new Error(\"ASSERTION ERROR: \"+t)}function _s(t,e,n,r){var i=r?e:n;i&&function(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}(t,i)}\"undefined\"==typeof ngDevMode&&(\"undefined\"!=typeof window&&(window.ngDevMode=!0),\"undefined\"!=typeof self&&(self.ngDevMode=!0),\"undefined\"!=typeof global&&(global.ngDevMode=!0));var Es,Ss,Cs,Ts,Is,ks,As,Os,Ns,xs,Ps=\"__ngHostLNode__\",Rs=Promise.resolve(null),Ds=[0,0],Ms=null,Ls=!1;function Vs(t,e){var n=Ms;return Os=t&&t.data,Ns=t&&t.directives,Is=t&&t.tView.data,As=t&&1==(1&t.flags),Es=t&&t.renderer,t&&t.bindingIndex<0&&(t.bindingIndex=t.bindingStartIndex),null!=e&&(Cs=e,Ts=!0),Ms=t,ks=t&&t.queries,n}function Fs(t){Ls||_s(Ns,Ms.tView.viewHooks,Ms.tView.viewCheckHooks,As),Ms.flags&=-6,Ms.lifecycleStage=1,Ms.bindingIndex=-1,Vs(t,null)}function js(){Bs();var t=Ms.tView;t.firstTemplatePass=!1,Us(t.hostBindings),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)Ws(t[e],t[e+1])}(t.components)}function Us(t){if(null!=t)for(var e=Ms.tView.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function Bs(){if(!Ls){var t=Ms.tView;(function(t,e,n){1===t.lifecycleStage&&(_s(t.directives,e.initHooks,e.checkHooks,n),t.lifecycleStage=2)})(Ms,t,As),_s(Ns,t.contentHooks,t.contentCheckHooks,As)}}function qs(t,e,n,r,i,o){var a,s,u,l,c,h,f,p,d,y=Ts,m=Cs;try{Ts=!0,Cs=null;var g=2;null==t&&(s=null,u=2,l=null,c=function(t,e,n,r,i,o){return{parent:Ms,id:-1,flags:11,node:null,data:[],directives:null,tView:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:-1,bindingIndex:-1,template:r,context:i,dynamicViewCount:0,lifecycleStage:1,queries:null,injector:Ms&&Ms.injector}}(0,r,function(t,e,n){return t.ngPrivateData||(t.ngPrivateData=function(t,e){return{data:[],directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,hostBindings:null,components:null,directiveRegistry:\"function\"==typeof t?t():t,pipeRegistry:\"function\"==typeof e?e():e,currentMatches:null}}(e,n))}(e,i||null,o||null),e,n),h=Ts?Cs:Cs&&Cs.parent,f=(Ts?ks:Cs&&Cs.queries)||h&&h.queries&&h.queries.child(),d=function(t,e,n,r,i,o){return{type:t,native:r,view:e,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,pNextOrParent:null,dynamicLContainerNode:null}}(u,Ms,h,l,(p=null!=c)?c:null,f),2==(2&u)&&p&&(ngDevMode&&vs(c.node,\"LView.node should not have been initialized\"),c.node=d),null!=s&&(ngDevMode&&function(t,e){null==e&&(e=Os),gs(e.length,t,\"index \"+t+\" expected to be at the end of arr (length \"+e.length+\")\")}(s),Os[s]=d,s>=Is.length?Is[s]=null:d.tNode=Is[s],Ts?(ks=null,Cs.view!==Ms&&2!==Cs.type||(ngDevMode&&vs(Cs.child,\"previousOrParentNode's child should not have been set.\"),Cs.child=d)):Cs&&(ngDevMode&&vs(Cs.next,\"previousOrParentNode's next property should not have been set \"+s+\".\"),Cs.next=d,Cs.dynamicLContainerNode&&(Cs.dynamicLContainerNode.next=d))),Cs=d,Ts=!0,t=d,g=1),a=Vs(t.data,t),e(g,n),js(),Hs()}finally{Fs(a),Ts=y,Cs=m}return t}function Hs(){for(var t=Ms.child;null!==t;t=t.next)if(0!==t.dynamicViewCount&&t.views)for(var e=t,n=0;n<e.views.length;n++){var r=e.views[n];qs(r,r.data.template,r.data.context,Es)}}function Ws(t,e){ngDevMode&&zs(e);var n,r,i=Os[e];ngDevMode&&(r=3,bs(n=i,\"should be called with a node\"),gs(n.type,r,\"should be a \"+function(t){return 1==t?\"Projection\":0==t?\"Container\":2==t?\"View\":3==t?\"Element\":\"<unknown>\"}(r))),ngDevMode&&bs(i.data,\"Component's host node should have an LView attached.\");var o,a=i.data;8==(8&a.flags)&&6&a.flags&&(ngDevMode&&zs(t,Ns),Ks(a,i,Ms.tView.directives[t],(o=Ns[t],Array.isArray(o)?o[0]:o)))}function Gs(t){var e=Qs(t);ngDevMode&&bs(e.data,\"Component host node should be attached to an LView\"),Ks(e.data,e,e.view.tView.directives[e.tNode.flags>>13],t)}function Ks(t,e,n,r){var i=Vs(t,e),o=n.template;try{o(1&t.flags?3:2,r),js(),Hs()}finally{Fs(i)}}function zs(t,e){null==e&&(e=Os),t>=(e?e.length:0)&&ws(\"index expected to be a valid data index\")}function Qs(t){ngDevMode&&bs(t,\"expecting component got null\");var e=t[Ps];return ngDevMode&&bs(t,\"object is not a component\"),e}i(function(t,e,n){var r=xs.call(this,t.data,n)||this;return r._lViewNode=t,r},xs=function(){function t(t,e){this._view=t,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t.prototype.markForCheck=function(){!function(t){for(var e=t;null!=e.parent;)e.flags|=4,e=e.parent;var n,r;e.flags|=4,ngDevMode&&bs(e.context,\"rootContext\"),(n=e.context).clean==Rs&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){var t,e;e=Qs((t=function(t){ngDevMode&&bs(t,\"component\");for(var e=Qs(t).view;e.parent;)e=e.parent;return e}(n.component)).context.component),ngDevMode&&bs(e.data,\"Component host node should be attached to an LView\"),function(n,r,i,o){var a=Vs(t,e);try{Ss.begin&&Ss.begin(),Bs(),Us(Ds),Ws(0,0)}finally{Ss.end&&Ss.end(),Fs(a)}}(),r(null),n.clean=Rs}))}(this._view)},t.prototype.detach=function(){this._view.flags&=-9},t.prototype.reattach=function(){this._view.flags|=8},t.prototype.detectChanges=function(){Gs(this.context)},t.prototype.checkNoChanges=function(){!function(t){Ls=!0;try{Gs(t)}finally{Ls=!1}}(this.context)},t}()),n(\"yLV6\");var Xs=function(){},Ys=function(){this.title=\"app\"},Js=function(){},Zs=new dt(\"Location Initialized\"),$s=function(){},tu=new dt(\"appBaseHref\"),eu=function(){function t(e){var n=this;this._subject=new pn,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(nu(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=\"\"),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,nu(e)))},t.prototype.prepareExternalUrl=function(t){return t&&\"/\"!==t[0]&&(t=\"/\"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=\"\"),void 0===n&&(n=null),this._platformStrategy.pushState(n,\"\",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=\"\"),void 0===n&&(n=null),this._platformStrategy.replaceState(n,\"\",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&\"?\"!==t[0]?\"?\"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith(\"/\")&&n++,e.startsWith(\"/\")&&n++,2==n?t+e.substring(1):1==n?t+e:t+\"/\"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\\?|$/),n=e&&e.index||t.length;return t.slice(0,n-(\"/\"===t[n-1]?1:0))+t.slice(n)},t}();function nu(t){return t.replace(/\\/index.html$/,\"\")}var ru=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref=\"\",null!=n&&(r._baseHref=n),r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e=\"#\"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=eu.joinWithSlash(this._baseHref,t);return e.length>0?\"#\"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+eu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+eu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}($s),iu=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");return r._baseHref=n,r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return eu.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+eu.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?\"\"+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+eu.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+eu.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}($s),ou=void 0,au=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],ou],[[\"AM\",\"PM\"],ou,ou],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],ou,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],ou,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",ou,\"{1} 'at' {0}\",ou],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xd7\",\"\\u2030\",\"\\u221e\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xa4#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===e&&0===n?1:5}],su={},uu=function(t){return t[t.Decimal=0]=\"Decimal\",t[t.Percent=1]=\"Percent\",t[t.Currency=2]=\"Currency\",t[t.Scientific=3]=\"Scientific\",t}({}),lu=function(t){return t[t.Zero=0]=\"Zero\",t[t.One=1]=\"One\",t[t.Two=2]=\"Two\",t[t.Few=3]=\"Few\",t[t.Many=4]=\"Many\",t[t.Other=5]=\"Other\",t}({}),cu=function(t){return t[t.Decimal=0]=\"Decimal\",t[t.Group=1]=\"Group\",t[t.List=2]=\"List\",t[t.PercentSign=3]=\"PercentSign\",t[t.PlusSign=4]=\"PlusSign\",t[t.MinusSign=5]=\"MinusSign\",t[t.Exponential=6]=\"Exponential\",t[t.SuperscriptingExponent=7]=\"SuperscriptingExponent\",t[t.PerMille=8]=\"PerMille\",t[t[1/0]=9]=\"Infinity\",t[t.NaN=10]=\"NaN\",t[t.TimeSeparator=11]=\"TimeSeparator\",t[t.CurrencyDecimal=12]=\"CurrencyDecimal\",t[t.CurrencyGroup=13]=\"CurrencyGroup\",t}({});function hu(t,e){var n=fu(t),r=n[13][e];if(void 0===r){if(e===cu.CurrencyDecimal)return n[13][cu.Decimal];if(e===cu.CurrencyGroup)return n[13][cu.Group]}return r}function fu(t){var e=t.toLowerCase().replace(/_/g,\"-\"),n=su[e];if(n)return n;var r=e.split(\"-\")[0];if(n=su[r])return n;if(\"en\"===r)return au;throw new Error('Missing locale data for the locale \"'+t+'\".')}var pu=/^(\\d+)?\\.((\\d+)(-(\\d+))?)?$/;function du(t){var e=parseInt(t);if(isNaN(e))throw new Error(\"Invalid integer literal when parsing \"+t);return e}var yu=new dt(\"UseV4Plurals\"),mu=function(){},gu=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return i(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return fu(t)[18]}(e||this.locale)(t)){case lu.Zero:return\"zero\";case lu.One:return\"one\";case lu.Two:return\"two\";case lu.Few:return\"few\";case lu.Many:return\"many\";default:return\"other\"}},e}(mu),vu=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,\"klass\",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses=\"string\"==typeof t?t.split(/\\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClass\",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass=\"string\"==typeof t?t.split(/\\s+/):t,this._rawClass&&(ir(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if(\"string\"!=typeof t.item)throw new Error(\"NgClass can only toggle CSS classes expressed as strings, got \"+Ot(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),bu=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,\"first\",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"last\",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"even\",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"odd\",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),wu=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,\"ngForTrackBy\",{get:function(){return this._trackByFn},set:function(t){An()&&null!=t&&\"function\"!=typeof t&&console&&console.warn&&console.warn(\"trackBy must be a function, but received \"+JSON.stringify(t)+\". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.\"),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngForTemplate\",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if(\"ngForOf\"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(\"Cannot find a differ supporting object '\"+e+\"' of type '\"+((n=e).name||typeof n)+\"'. NgFor only supports binding to Iterables such as Arrays.\")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new bu(null,e.ngForOf,-1,-1),i),a=new _u(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new _u(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),_u=function(t,e){this.record=t,this.view=e},Eu=function(){function t(t,e){this._viewContainer=t,this._context=new Su,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,\"ngIf\",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngIfThen\",{set:function(t){Cu(\"ngIfThen\",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngIfElse\",{set:function(t){Cu(\"ngIfElse\",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Su=function(){this.$implicit=null,this.ngIf=null};function Cu(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+\" must be a TemplateRef, but received '\"+Ot(e)+\"'.\")}var Tu=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,\"ngStyle\",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=s(t.split(\".\"),2),r=n[0],i=n[1];null!=(e=null!=e&&i?\"\"+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}();function Iu(t,e){return Error(\"InvalidPipeArgument: '\"+e+\"' for pipe '\"+Ot(t)+\"'\")}var ku=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Au=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Ou=new ku,Nu=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,nr.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Ve(e))return Au;if(Fe(e))return Ou;throw Iu(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),xu=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Pu=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(function(t){return null==t||\"\"===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s=\"\",u=!1;if(isFinite(t)){var l=function(e){var n,r,i,o,a,s=Math.abs(t)+\"\",u=0;for((r=s.indexOf(\".\"))>-1&&(s=s.replace(\".\",\"\")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;\"0\"===s.charAt(i);i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;\"0\"===s.charAt(a);)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>22&&(n=n.splice(0,21),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var p=o.match(pu);if(null===p)throw new Error(o+\" is not a valid digit info\");var d=p[1],y=p[3],m=p[5];null!=d&&(c=du(d)),null!=y&&(h=du(y)),null!=m?f=du(m):null!=y&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(\"The minimum number of digits after fraction (\"+e+\") is higher than the maximum (\"+n+\").\");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,p=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}(l,h,f);var g=l.digits,v=l.integerLen,b=l.exponent,w=[];for(u=g.every(function(t){return!t});v<c;v++)g.unshift(0);for(;v<0;v++)g.unshift(0);v>0?w=g.splice(v,g.length):(w=g,g=[0]);var _=[];for(g.length>=e.lgSize&&_.unshift(g.splice(-e.lgSize,g.length).join(\"\"));g.length>e.gSize;)_.unshift(g.splice(-e.gSize,g.length).join(\"\"));g.length&&_.unshift(g.join(\"\")),s=_.join(hu(n,r)),w.length&&(s+=hu(n,i)+w.join(\"\")),b&&(s+=hu(n,cu.Exponential)+\"+\"+b)}else s=hu(n,cu.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,function(t,e){void 0===e&&(e=\"-\");var n={minInt:1,minFrac:0,maxFrac:0,posPre:\"\",posSuf:\"\",negPre:\"\",negSuf:\"\",gSize:0,lgSize:0},r=t.split(\";\"),i=r[0],o=r[1],a=-1!==i.indexOf(\".\")?i.split(\".\"):[i.substring(0,i.lastIndexOf(\"0\")+1),i.substring(i.lastIndexOf(\"0\")+1)],s=a[0],u=a[1]||\"\";n.posPre=s.substr(0,s.indexOf(\"#\"));for(var l=0;l<u.length;l++){var c=u.charAt(l);\"0\"===c?n.minFrac=n.maxFrac=l+1:\"#\"===c?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(\",\");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(\"#\");n.negPre=o.substr(0,p).replace(/'/g,\"\"),n.negSuf=o.substr(p+f).replace(/'/g,\"\")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return fu(t)[14][e]}(e,uu.Percent),hu(e,cu.MinusSign)),e,cu.Group,cu.Decimal,n,!0).replace(new RegExp(\"%\",\"g\"),hu(e,cu.PercentSign))}(function(t){if(\"string\"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(\"number\"!=typeof t)throw new Error(t+\" is not a number\");return t}(e),r,n)}catch(e){throw Iu(t,e.message)}},t}(),Ru=function(){},Du=new dt(\"DocumentToken\"),Mu=\"browser\",Lu=\"server\";function Vu(t){return t===Lu}var Fu=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,\"value\",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new tt;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(rt),ju=new N(function(t){return t.complete()});function Uu(t){return t?function(t){return new N(function(e){return t.schedule(function(){return e.complete()})})}(t):ju}function Bu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=t[t.length-1];switch(P(i)?t.pop():i=void 0,t.length){case 0:return Uu(i);case 1:return i?z(t,i):(n=t[0],(r=new N(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return z(t,i)}}var qu=function(t){function e(){var n=t.call(this,\"no elements in sequence\")||this;return n.name=\"EmptyError\",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error);function Hu(t,e){return X(t,e,1)}function Wu(t,e){return function(n){return n.lift(new Gu(t,e))}}var Gu=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ku(t,this.predicate,this.thisArg))},t}(),Ku=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(C),zu=function(t){function e(){var n=t.call(this,\"argument out of range\")||this;return n.name=\"ArgumentOutOfRangeError\",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error);function Qu(t){return function(e){return 0===t?Uu():e.lift(new Xu(t))}}var Xu=function(){function t(t){if(this.total=t,this.total<0)throw new zu}return t.prototype.call=function(t,e){return e.subscribe(new Yu(t,this.total))},t}(),Yu=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(C);function Ju(t,e,n){return function(r){return r.lift(new Zu(t,e,n))}}var Zu=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new $u(t,this.nextOrObserver,this.error,this.complete))},t}(),$u=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=k,o._tapError=k,o._tapComplete=k,o._tapError=r||k,o._tapComplete=i||k,l(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||k,o._tapError=n.error||k,o._tapComplete=n.complete||k),o}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(C),tl=function(t){return void 0===t&&(t=el),Ju({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function el(){return new qu}function nl(t){return void 0===t&&(t=null),function(e){return e.lift(new rl(t))}}var rl=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new il(t,this.defaultValue))},t}(),il=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(C);function ol(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Wu(function(e,n){return t(e,n,r)}):Z,Qu(1),n?nl(e):tl(function(){return new qu}))}}function al(t){return function(e){var n=new sl(t),r=e.lift(n);return n.caught=r}}var sl=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new ul(t,this.selector,this.caught))},t}(),ul=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(q(this,n))}},e}(H);function ll(t,e){return function(n){return n.lift(new cl(t,e,n))}}var cl=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new hl(t,this.predicate,this.thisArg,this.source))},t}(),hl=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(C);function fl(t){return function(e){return 0===t?Uu():e.lift(new pl(t))}}var pl=function(){function t(t){if(this.total=t,this.total<0)throw new zu}return t.prototype.call=function(t,e){return e.subscribe(new dl(t,this.total))},t}(),dl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(C);function yl(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Wu(function(e,n){return t(e,n,r)}):Z,fl(1),n?nl(e):tl(function(){return new qu}))}}function ml(){return $(1)}function gl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new vl(t,e,n))}}var vl=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new bl(t,this.accumulator,this.seed,this.hasSeed))},t}(),bl=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return i(e,t),Object.defineProperty(e.prototype,\"seed\",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(C),wl=null;function _l(){return wl}var El,Sl={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},Cl={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\\x7f\":\"Delete\",\"\\x1b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},Tl={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\\x90\":\"NumLock\"};St.Node&&(El=St.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Il,kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parse=function(t){throw new Error(\"parse not implemented\")},e.makeCurrent=function(){var t;t=new e,wl||(wl=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,u(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,\"attrToPropMap\",{get:function(){return Sl},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return El.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent(\"MouseEvent\");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent(\"Event\");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return\"content\"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,\"content\")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement(\"template\");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement(\"SCRIPT\");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=\"\"},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||\"\";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument(\"fakeTitle\")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||\"\"},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&\"TEMPLATE\"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute(\"href\")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return\"Unidentified\";e.startsWith(\"U+\")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Tl.hasOwnProperty(e)&&(e=Tl[e]))}return Cl[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return\"window\"===e?window:\"document\"===e?t:\"body\"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Al||(Al=document.querySelector(\"base\"))?Al.getAttribute(\"href\"):null;return null==n?null:(e=n,Il||(Il=document.createElement(\"a\")),Il.setAttribute(\"href\",e),\"/\"===Il.pathname.charAt(0)?Il.pathname:\"/\"+Il.pathname)},e.prototype.resetBaseElement=function(){Al=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,\"data-\"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,\"data-\"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return\"function\"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);try{for(var n=a(t.split(\";\")),r=n.next();!r.done;r=n.next()){var i=r.value,o=i.indexOf(\"=\"),u=s(-1==o?[i,\"\"]:[i.slice(0,o),i.slice(o+1)],2),l=u[1];if(u[0].trim()===e)return decodeURIComponent(l)}}catch(t){c={error:t}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}return null;var c,h}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+\"=\"+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement(\"div\",document);if(null!=e.getStyle(n,\"animationName\"))e._animationPrefix=\"\";else for(var r=[\"Webkit\",\"Moz\",\"O\",\"ms\"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+\"AnimationName\")){e._animationPrefix=\"-\"+r[i].toLowerCase()+\"-\";break}var o={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return i(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+\"/../\"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return\"function\"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:\"\"},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:\"\"},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,\"attrToPropMap\",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Al=null,Ol=Du;function Nl(){return!!window.history.pushState}var xl=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return i(e,t),e.prototype._init=function(){this.location=_l().getLocation(),this._history=_l().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return _l().getBaseHref(this._doc)},e.prototype.onPopState=function(t){_l().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",t,!1)},e.prototype.onHashChange=function(t){_l().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",t,!1)},Object.defineProperty(e.prototype,\"pathname\",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"search\",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"hash\",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Nl()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Nl()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:Ft,args:[Ol]}]}]},e}(Js),Pl=function(){function t(t){this._doc=t,this._dom=_l()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,\"meta[\"+t+\"]\")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,\"meta[\"+t+\"]\");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement(\"meta\");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,\"head\")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?\"name\":\"property\";return e+'=\"'+t[e]+'\"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),Rl=new dt(\"TRANSITION_ID\"),Dl=[{provide:je,useFactory:function(t,e,n){return function(){n.get(Ue).donePromise.then(function(){var n=_l();Array.prototype.slice.apply(n.querySelectorAll(e,\"style[ng-transition]\")).filter(function(e){return n.getAttribute(e,\"ng-transition\")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Rl,Ol,zt],multi:!0}],Ml=function(){function t(){}return t.init=function(){var e;e=new t,Cn=e},t.prototype.addToWindow=function(t){St.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error(\"Could not find testability for element.\");return r},St.getAllAngularTestabilities=function(){return t.getAllTestabilities()},St.getAllAngularRootElements=function(){return t.getAllRootElements()},St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(function(t){var e=St.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?_l().isShadowRoot(e)?this.findTestabilityInTree(t,_l().getHost(e),!0):this.findTestabilityInTree(t,_l().parentElement(e),!0):null},t}(),Ll=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return _l().getTitle(this._doc)},t.prototype.setTitle=function(t){_l().setTitle(this._doc,t)},t}();function Vl(t,e){\"undefined\"!=typeof COMPILED&&COMPILED||((St.ng=St.ng||{})[t]=e)}var Fl={ApplicationRef:Dn,NgZone:dn};function jl(t){return $n(t)}var Ul=new dt(\"EventManagerPlugins\"),Bl=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error(\"No event manager plugin found for event \"+t)},t}(),ql=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=_l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(\"Unsupported event target \"+r+\" for event \"+e);return this.addEventListener(r,e,n)},t}(),Hl=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Wl=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return i(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement(\"style\");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return _l().remove(t)})},e}(Hl),Gl={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},Kl=/%COMP%/g,zl=\"_nghost-%COMP%\",Ql=\"_ngcontent-%COMP%\";function Xl(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Xl(t,i,n):(i=i.replace(Kl,t),n.push(i))}return n}function Yl(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Jl=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Zl(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case le.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new nc(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case le.Native:return new rc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Xl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Zl=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Gl[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e=\"string\"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector \"'+t+'\" did not match any elements');return e.textContent=\"\",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+\":\"+e;var i=Gl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Gl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+\":\"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&Fn.DashCase?t.style.setProperty(e,n,r&Fn.Important?\"important\":\"\"):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&Fn.DashCase?t.style.removeProperty(e):t.style[e]=\"\"},t.prototype.setProperty=function(t,e,n){tc(e,\"property\"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return tc(e,\"listener\"),\"string\"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yl(n)):this.eventManager.addEventListener(t,e,Yl(n))},t}(),$l=\"@\".charCodeAt(0);function tc(t,e){if(t.charCodeAt(0)===$l)throw new Error(\"Found the synthetic \"+e+\" \"+t+'. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.')}var ec,nc=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Xl(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Ql.replace(Kl,r.id),i.hostAttr=zl.replace(Kl,r.id),i}return i(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,\"\")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,\"\"),r},e}(Zl),rc=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Xl(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement(\"style\");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return i(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Zl),ic=\"undefined\"!=typeof Zone&&Zone.__symbol__||function(t){return\"__zone_symbol__\"+t},oc=ic(\"addEventListener\"),ac=ic(\"removeEventListener\"),sc={},uc=\"__zone_symbol__propagationStopped\";\"undefined\"!=typeof Zone&&Zone[ic(\"BLACK_LISTED_EVENTS\")]&&(ec={});var lc=function(t){return!!ec&&ec.hasOwnProperty(t)},cc=function(t){var e=sc[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[uc];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},hc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Vu(r)||i.patchEvent(),i}return i(e,t),e.prototype.patchEvent=function(){if(\"undefined\"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[uc]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[oc]||dn.isInAngularZone()&&!lc(e))t.addEventListener(e,i,!1);else{var o=sc[e];o||(o=sc[e]=ic(\"ANGULAR\"+e+\"FALSE\"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=lc(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[oc](e,cc,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[ac];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=sc[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,cc,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(ql),fc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},pc=new dt(\"HammerGestureConfig\"),dc=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get(\"pinch\").set({enable:!0}),e.get(\"rotate\").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),yc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i._config=n,i.console=r,i}return i(e,t),e.prototype.supports=function(t){return!(!fc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&(this.console.warn(\"Hammer.js is not loaded, can not bind '\"+t+\"' event.\"),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ql),mc=[\"alt\",\"control\",\"meta\",\"shift\"],gc={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},vc=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _l().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split(\".\"),r=n.shift();if(0===n.length||\"keydown\"!==r&&\"keyup\"!==r)return null;var i=e._normalizeKey(n.pop()),o=\"\";if(mc.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+\".\")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e=\"\",n=_l().getEventKey(t);return\" \"===(n=n.toLowerCase())?n=\"space\":\".\"===n&&(n=\"dot\"),mc.forEach(function(r){r!=n&&(0,gc[r])(t)&&(e+=r+\".\")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case\"esc\":return\"escape\";default:return t}},e}(ql),bc=function(){},wc=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return i(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Xr.NONE:return e;case Xr.HTML:return e instanceof Ec?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,\"HTML\"),function(t,e){var n=null;try{Rr=Rr||new kr(t);var r=e?String(e):\"\";n=Rr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error(\"Failed to sanitize html because the input is unstable\");i--,r=o,o=n.innerHTML,n=Rr.getInertBodyElement(r)}while(r!==o);var a=new qr,s=a.sanitizeChildren(Kr(n)||n);return An()&&a.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss).\"),s}finally{if(n)for(var u=Kr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case Xr.STYLE:return e instanceof Sc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,\"Style\"),function(t){if(!(t=String(t).trim()))return\"\";var e=t.match(Qr);return e&&Nr(e[1])===e[1]||t.match(zr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);\"'\"===i&&n?e=!e:'\"'===i&&e&&(n=!n)}return e&&n}(t)?t:(An()&&console.warn(\"WARNING: sanitizing unsafe style value \"+t+\" (see http://g.co/ng/security#xss).\"),\"unsafe\")}(e));case Xr.SCRIPT:if(e instanceof Cc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,\"Script\"),new Error(\"unsafe value used in a script context\");case Xr.URL:return e instanceof Ic||e instanceof Tc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,\"URL\"),Nr(String(e)));case Xr.RESOURCE_URL:if(e instanceof Ic)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(\"Unexpected SecurityContext \"+t+\" (see http://g.co/ng/security#xss)\")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof _c)throw new Error(\"Required a safe \"+e+\", got a \"+t.getTypeName()+\" (see http://g.co/ng/security#xss)\")},e.prototype.bypassSecurityTrustHtml=function(t){return new Ec(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Sc(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Cc(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Tc(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Ic(t)},e}(bc),_c=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return\"SafeValue must use [property]=binding: \"+this.changingThisBreaksApplicationSecurity+\" (see http://g.co/ng/security#xss)\"},t}(),Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return\"HTML\"},e}(_c),Sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return\"Style\"},e}(_c),Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return\"Script\"},e}(_c),Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return\"URL\"},e}(_c),Ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return\"ResourceURL\"},e}(_c),kc=Nn(_r,\"browser\",[{provide:Ge,useValue:Mu},{provide:We,useValue:function(){kl.makeCurrent(),Ml.init()},multi:!0},{provide:Js,useClass:xl,deps:[Ol]},{provide:Ol,useFactory:function(){return document},deps:[]}]);function Ac(){return new ge}var Oc=function(){function t(t){if(t)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Be,useValue:e.appId},{provide:Rl,useExisting:Be},Dl]}},t}();\"undefined\"!=typeof window&&window;var Nc=function(t,e){this.id=t,this.url=e},xc=function(t){function e(e,n,r,i){void 0===r&&(r=\"imperative\"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return i(e,t),e.prototype.toString=function(){return\"NavigationStart(id: \"+this.id+\", url: '\"+this.url+\"')\"},e}(Nc),Pc=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return i(e,t),e.prototype.toString=function(){return\"NavigationEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"')\"},e}(Nc),Rc=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return i(e,t),e.prototype.toString=function(){return\"NavigationCancel(id: \"+this.id+\", url: '\"+this.url+\"')\"},e}(Nc),Dc=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return i(e,t),e.prototype.toString=function(){return\"NavigationError(id: \"+this.id+\", url: '\"+this.url+\"', error: \"+this.error+\")\"},e}(Nc),Mc=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return\"RoutesRecognized(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},e}(Nc),Lc=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return\"GuardsCheckStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},e}(Nc),Vc=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return i(e,t),e.prototype.toString=function(){return\"GuardsCheckEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\", shouldActivate: \"+this.shouldActivate+\")\"},e}(Nc),Fc=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return\"ResolveStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},e}(Nc),jc=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return\"ResolveEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},e}(Nc),Uc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return\"RouteConfigLoadStart(path: \"+this.route.path+\")\"},t}(),Bc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return\"RouteConfigLoadEnd(path: \"+this.route.path+\")\"},t}(),qc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return\"ChildActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},t}(),Hc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return\"ChildActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},t}(),Wc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return\"ActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},t}(),Gc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return\"ActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},t}(),Kc=function(){},zc=\"primary\",Qc=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,\"keys\",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Xc(t){return new Qc(t)}function Yc(t,e,n){var r=n.path.split(\"/\");if(r.length>t.length)return null;if(\"full\"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(\":\"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Jc=function(t,e){this.routes=t,this.module=e};function Zc(t,e){void 0===e&&(e=\"\");for(var n=0;n<t.length;n++){var r=t[n];$c(r,th(e,r))}}function $c(t,e){if(!t)throw new Error(\"\\n      Invalid configuration of route '\"+e+\"': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    \");if(Array.isArray(t))throw new Error(\"Invalid configuration of route '\"+e+\"': Array cannot be specified\");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==zc)throw new Error(\"Invalid configuration of route '\"+e+\"': a componentless route without children or loadChildren cannot have a named outlet set\");if(t.redirectTo&&t.children)throw new Error(\"Invalid configuration of route '\"+e+\"': redirectTo and children cannot be used together\");if(t.redirectTo&&t.loadChildren)throw new Error(\"Invalid configuration of route '\"+e+\"': redirectTo and loadChildren cannot be used together\");if(t.children&&t.loadChildren)throw new Error(\"Invalid configuration of route '\"+e+\"': children and loadChildren cannot be used together\");if(t.redirectTo&&t.component)throw new Error(\"Invalid configuration of route '\"+e+\"': redirectTo and component cannot be used together\");if(t.path&&t.matcher)throw new Error(\"Invalid configuration of route '\"+e+\"': path and matcher cannot be used together\");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(\"Invalid configuration of route '\"+e+\"'. One of the following must be provided: component, redirectTo, children or loadChildren\");if(void 0===t.path&&void 0===t.matcher)throw new Error(\"Invalid configuration of route '\"+e+\"': routes must have either a path or a matcher specified\");if(\"string\"==typeof t.path&&\"/\"===t.path.charAt(0))throw new Error(\"Invalid configuration of route '\"+e+\"': path cannot start with a slash\");if(\"\"===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(\"Invalid configuration of route '{path: \\\"\"+e+'\", redirectTo: \"'+t.redirectTo+\"\\\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.\");if(void 0!==t.pathMatch&&\"full\"!==t.pathMatch&&\"prefix\"!==t.pathMatch)throw new Error(\"Invalid configuration of route '\"+e+\"': pathMatch can only be set to 'prefix' or 'full'\");t.children&&Zc(t.children,e)}function th(t,e){return e?t||e.path?t&&!e.path?t+\"/\":!t&&e.path?e.path:t+\"/\"+e.path:\"\":t}function eh(t){var e=t.children&&t.children.map(eh),n=e?o({},t,{children:e}):o({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==zc&&(n.component=Kc),n}function nh(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function rh(t){return Array.prototype.concat.apply([],t)}function ih(t){return t.length>0?t[t.length-1]:null}function oh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ah(t){return t.pipe($(),ll(function(t){return!0===t}))}function sh(t){return Fe(t)?t:Ve(t)?Q(Promise.resolve(t)):Bu(t)}function uh(t,e,n){return n?function(t,e){return nh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!fh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!fh(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!fh(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!fh(n.segments,a)&&!!n.children[zc]&&e(n.children[zc],r,s)}(e,n,n.segments)}(t.root,e.root)}var lh=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return mh.serialize(this)},t}(),ch=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,oh(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,\"numberOfChildren\",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return gh(this)},t}(),hh=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,\"parameterMap\",{get:function(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Sh(this)},t}();function fh(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function ph(t,e){var n=[];return oh(t.children,function(t,r){r===zc&&(n=n.concat(e(t,r)))}),oh(t.children,function(t,r){r!==zc&&(n=n.concat(e(t,r)))}),n}var dh=function(){},yh=function(){function t(){}return t.prototype.parse=function(t){var e=new Ah(t);return new lh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return\"/\"+function t(e,n){if(!e.hasChildren())return gh(e);if(n){var r=e.children[zc]?t(e.children[zc],!1):\"\",i=[];return oh(e.children,function(e,n){n!==zc&&i.push(n+\":\"+t(e,!1))}),i.length>0?r+\"(\"+i.join(\"//\")+\")\":r}var o=ph(e,function(n,r){return r===zc?[t(e.children[zc],!1)]:[r+\":\"+t(n,!1)]});return gh(e)+\"/(\"+o.join(\"//\")+\")\"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return bh(t)+\"=\"+bh(e)}).join(\"&\"):bh(t)+\"=\"+bh(n)})).length?\"?\"+n.join(\"&\"):\"\")+(\"string\"==typeof t.fragment?\"#\"+encodeURI(t.fragment):\"\")},t}(),mh=new yh;function gh(t){return t.segments.map(function(t){return Sh(t)}).join(\"/\")}function vh(t){return encodeURIComponent(t).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function bh(t){return vh(t).replace(/%3B/gi,\";\")}function wh(t){return vh(t).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function _h(t){return decodeURIComponent(t)}function Eh(t){return _h(t.replace(/\\+/g,\"%20\"))}function Sh(t){return\"\"+wh(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return\";\"+wh(t)+\"=\"+wh(e[t])}).join(\"\"));var e}var Ch=/^[^\\/()?;=#]+/;function Th(t){var e=t.match(Ch);return e?e[0]:\"\"}var Ih=/^[^=?&#]+/,kh=/^[^?&#]+/,Ah=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new ch([],{}):new ch([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(t)}while(this.consumeOptional(\"&\"));return t},t.prototype.parseFragment=function(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");var t=[];for(this.peekStartsWith(\"(\")||t.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),t.push(this.parseSegment());var e={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),e=this.parseParens(!0));var n={};return this.peekStartsWith(\"(\")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[zc]=new ch(t,e)),n},t.prototype.parseSegment=function(){var t=Th(this.remaining);if(\"\"===t&&this.peekStartsWith(\";\"))throw new Error(\"Empty path url segment cannot have parameters: '\"+this.remaining+\"'.\");return this.capture(t),new hh(_h(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(\";\");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Th(this.remaining);if(e){this.capture(e);var n=\"\";if(this.consumeOptional(\"=\")){var r=Th(this.remaining);r&&this.capture(n=r)}t[_h(e)]=_h(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Ih))?e[0]:\"\";if(n){this.capture(n);var r=\"\";if(this.consumeOptional(\"=\")){var i=function(t){var e=t.match(kh);return e?e[0]:\"\"}(this.remaining);i&&this.capture(r=i)}var o=Eh(n),a=Eh(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){var n=Th(this.remaining),r=this.remaining[n.length];if(\"/\"!==r&&\")\"!==r&&\";\"!==r)throw new Error(\"Cannot parse url '\"+this.url+\"'\");var i=void 0;n.indexOf(\":\")>-1?(i=n.substr(0,n.indexOf(\":\")),this.capture(i),this.capture(\":\")):t&&(i=zc);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[zc]:new ch([],o),this.consumeOptional(\"//\")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected \"'+t+'\".')},t}(),Oh=function(t){this.segmentGroup=t||null},Nh=function(t){this.urlTree=t};function xh(t){return new N(function(e){return e.error(new Oh(t))})}function Ph(t){return new N(function(e){return e.error(new Nh(t))})}function Rh(t){return new N(function(e){return e.error(new Error(\"Only absolute redirects can have named outlets. redirectTo: '\"+t+\"'\"))})}var Dh=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(sn)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,zc).pipe(W(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(al(function(e){if(e instanceof Nh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Oh)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,zc).pipe(W(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(al(function(t){if(t instanceof Oh)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error(\"Cannot match any routes. URL Segment: '\"+t.segmentGroup+\"'\")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new ch([],((r={})[zc]=t,r)):t;return new lh(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(W(function(t){return new ch([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Bu({});var o=[],a=[],s={};return oh(n,function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(W(function(t){return s[i]=t}));i===zc?o.push(c):a.push(c)}),Bu.apply(null,o.concat(a)).pipe(ml(),ol(),W(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return Bu.apply(void 0,u(n)).pipe(W(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(al(function(t){if(t instanceof Oh)return Bu(null);throw t}))}),ml(),yl(function(t){return!!t}),al(function(t,n){if(t instanceof qu||\"EmptyError\"===t.name){if(a.noLeftoversInUrl(e,r,i))return Bu(new ch([],{}));throw new Oh(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Fh(r)!==o?xh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xh(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return\"**\"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith(\"/\")?Ph(o):this.lineralizeSegments(n,o).pipe(X(function(n){var o=new ch(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Mh(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return xh(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith(\"/\")?Ph(h):this.lineralizeSegments(r,h).pipe(X(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if(\"**\"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(W(function(t){return n._loadedConfig=t,new ch(r,{})})):Bu(new ch(r,{}));var s=Mh(e,n,r),u=s.consumedSegments,l=s.lastChild;if(!s.matched)return xh(e);var c=r.slice(l);return this.getChildConfig(t,n).pipe(X(function(t){var n=t.module,r=t.routes,s=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return Vh(t,e,n)&&Fh(n)!==zc})}(t,n)?{segmentGroup:Lh(new ch(e,function(t,e){var n,r,i={};i[zc]=e;try{for(var o=a(t),s=o.next();!s.done;s=o.next()){var u=s.value;\"\"===u.path&&Fh(u)!==zc&&(i[Fh(u)]=new ch([],{}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new ch(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return Vh(t,e,n)})}(t,n)?{segmentGroup:Lh(new ch(t.segments,function(t,e,n,r){var i,s,u={};try{for(var l=a(n),c=l.next();!c.done;c=l.next()){var h=c.value;Vh(t,e,h)&&!r[Fh(h)]&&(u[Fh(h)]=new ch([],{}))}}catch(t){i={error:t}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return o({},r,u)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,c,r),l=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&l.hasChildren()?i.expandChildren(n,r,l).pipe(W(function(t){return new ch(u,t)})):0===r.length&&0===h.length?Bu(new ch(u,{})):i.expandSegment(n,l,r,h,zc,!0).pipe(W(function(t){return new ch(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Bu(new Jc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Bu(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?ah(Q(n).pipe(W(function(n){var r=t.get(n);return sh(r.canLoad?r.canLoad(e):r(e))}))):Bu(!0)}(t.injector,e).pipe(X(function(r){return r?n.configLoader.load(t.injector,e).pipe(W(function(t){return e._loadedConfig=t,t})):function(t){return new N(function(e){return e.error(((n=Error(\"NavigationCancelingError: Cannot load children because the guard of the route \\\"path: '\"+t.path+\"'\\\" returned false\")).ngNavigationCancelingError=!0,n));var n})}(e)})):Bu(new Jc([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Bu(n);if(r.numberOfChildren>1||!r.children[zc])return Rh(t.redirectTo);r=r.children[zc]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new lh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return oh(t,function(t,r){if(\"string\"==typeof t&&t.startsWith(\":\")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return oh(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new ch(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(\":\")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error(\"Cannot redirect to '\"+t+\"'. Cannot find '\"+e.path+\"'.\");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=a(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function Mh(t,e,n){if(\"\"===e.path)return\"full\"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Yc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Lh(t){if(1===t.numberOfChildren&&t.children[zc]){var e=t.children[zc];return new ch(t.segments.concat(e.segments),e.children)}return t}function Vh(t,e,n){return(!(t.hasChildren()||e.length>0)||\"full\"!==n.pathMatch)&&\"\"===n.path&&void 0!==n.redirectTo}function Fh(t){return t.outlet||zc}var jh=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,\"root\",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Uh(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Uh(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Bh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Bh(t,this._root).map(function(t){return t.value})},t}();function Uh(t,e){if(t===e.value)return e;try{for(var n=a(e.children),r=n.next();!r.done;r=n.next()){var i=Uh(t,r.value);if(i)return i}}catch(t){o={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return null;var o,s}function Bh(t,e){if(t===e.value)return[e];try{for(var n=a(e.children),r=n.next();!r.done;r=n.next()){var i=Bh(t,r.value);if(i.length)return i.unshift(e),i}}catch(t){o={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return[];var o,s}var qh=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return\"TreeNode(\"+this.value+\")\"},t}();function Hh(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Wh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Yh(r,e),r}return i(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(jh);function Gh(t,e){var n=function(t,e){var n=new Qh([],{},{},\"\",{},zc,e,null,t.root,-1,{});return new Xh(\"\",new qh(n,[]))}(t,e),r=new Fu([new hh(\"\",{})]),i=new Fu({}),o=new Fu({}),a=new Fu({}),s=new Fu(\"\"),u=new Kh(r,i,a,s,o,zc,e,n.root);return u.snapshot=n.root,new Wh(new qh(u,[]),n)}var Kh=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,\"routeConfig\",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(W(function(t){return Xc(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(function(t){return Xc(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():\"Future(\"+this._futureSnapshot+\")\"},t}();function zh(t,e){void 0===e&&(e=\"emptyOnly\");var n=t.pathFromRoot,r=0;if(\"always\"!==e)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&\"\"===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:o({},t.params,e.params),data:o({},t.data,e.data),resolve:o({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Qh=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return\"Route(url:'\"+this.url.map(function(t){return t.toString()}).join(\"/\")+\"', path:'\"+(this.routeConfig?this.routeConfig.path:\"\")+\"')\"},t}(),Xh=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Yh(r,n),r}return i(e,t),e.prototype.toString=function(){return Jh(this._root)},e}(jh);function Yh(t,e){e.value._routerState=t,e.children.forEach(function(e){return Yh(t,e)})}function Jh(t){var e=t.children.length>0?\" { \"+t.children.map(Jh).join(\", \")+\" } \":\"\";return\"\"+t.value+e}function Zh(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),nh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!nh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),nh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $h(t,e){var n,r;return nh(t.params,e.params)&&fh(n=t.url,r=e.url)&&n.every(function(t,e){return nh(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||$h(t.parent,e.parent))}function tf(t){return\"object\"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ef(t,e,n,r,i){var o={};return r&&oh(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return\"\"+t}):\"\"+t}),new lh(n.root===t?e:function t(e,n,r){var i={};return oh(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new ch(e.segments,i)}(n.root,t,e),o,i)}var nf=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&tf(n[0]))throw new Error(\"Root segment cannot have matrix parameters\");var r=n.find(function(t){return\"object\"==typeof t&&null!=t&&t.outlets});if(r&&r!==ih(n))throw new Error(\"{outlets:{}} has to be the last command\")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]},t}(),rf=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function of(t){return\"object\"==typeof t&&null!=t&&t.outlets?t.outlets[zc]:\"\"+t}function af(t,e,n){if(t||(t=new ch([],{})),0===t.segments.length&&t.hasChildren())return sf(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=of(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&\"object\"==typeof u&&void 0===u.outlets){if(!hf(s,u,a))return o;r+=2}else{if(!hf(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new ch(t.segments.slice(0,r.pathIndex),{});return o.children[zc]=new ch(t.segments.slice(r.pathIndex),t.children),sf(o,0,i)}return r.match&&0===i.length?new ch(t.segments,{}):r.match&&!t.hasChildren()?uf(t,e,n):r.match?sf(t,0,i):uf(t,e,n)}function sf(t,e,n){if(0===n.length)return new ch(t.segments,{});var r=function(t){return\"object\"!=typeof t[0]?((e={})[zc]=t,e):void 0===t[0].outlets?((n={})[zc]=t,n):t[0].outlets;var e,n}(n),i={};return oh(r,function(n,r){null!==n&&(i[r]=af(t.children[r],e,n))}),oh(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new ch(t.segments,i)}function uf(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if(\"object\"==typeof n[i]&&void 0!==n[i].outlets){var o=lf(n[i].outlets);return new ch(r,o)}if(0===i&&tf(n[0]))r.push(new hh(t.segments[e].path,n[0])),i++;else{var a=of(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&tf(s)?(r.push(new hh(a,cf(s))),i+=2):(r.push(new hh(a,{})),i++)}}return new ch(r,{})}function lf(t){var e={};return oh(t,function(t,n){null!==t&&(e[n]=uf(new ch([],{}),0,t))}),e}function cf(t){var e={};return oh(t,function(t,n){return e[n]=\"\"+t}),e}function hf(t,e,n){return t==n.path&&nh(e,n.parameters)}var ff=function(t){this.path=t,this.route=this.path[this.path.length-1]},pf=function(t,e){this.component=t,this.route=e},df=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(X(function(e){return e?t.runCanActivateChecks():Bu(!1)})):Bu(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?Q(this.canActivateChecks).pipe(Hu(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(n){return A(gl(t,e),Qu(1),nl(e))(n)}:function(e){return A(gl(function(e,n,r){return t(e,n,r+1)}),Qu(1))(e)}}(function(t,e){return t})):Bu(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=Hh(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),oh(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new ff(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new pf(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new ff(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!$h(t,e)||!nh(t.queryParams,e.queryParams);case\"paramsChange\":default:return!$h(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Hh(t),i=t.value;oh(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new pf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this;return Q(this.canDeactivateChecks).pipe(X(function(e){return t.runCanDeactivate(e.component,e.route)}),ll(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return Q(this.canActivateChecks).pipe(Hu(function(e){return ah(Q([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),ll(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Wc(t)),Bu(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new qc(t)),Bu(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?ah(Q(n).pipe(W(function(n){var r=e.getToken(n,t);return sh(r.canActivate?r.canActivate(t,e.future):r(t,e.future)).pipe(yl())}))):Bu(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1];return ah(Q(t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t})).pipe(W(function(t){return ah(Q(t.guards).pipe(W(function(r){var i=e.getToken(r,t.node);return sh(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)).pipe(yl())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Q(r).pipe(X(function(r){var i=n.getToken(r,e);return sh(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)).pipe(yl())})).pipe(ll(function(t){return!0===t})):Bu(!0)},t.prototype.runResolve=function(t,e){return this.resolveNode(t._resolve,t).pipe(W(function(n){return t._resolvedData=n,t.data=o({},t.data,zh(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Bu({});if(1===r.length){var i=r[0];return this.getResolver(t[i],e).pipe(W(function(t){return(e={})[i]=t,e;var e}))}var o={};return Q(r).pipe(X(function(r){return n.getResolver(t[r],e).pipe(W(function(t){return o[r]=t,t}))})).pipe(ol(),W(function(){return o}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return sh(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),yf=function(){},mf=function(){function t(t,e,n,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i}return t.prototype.recognize=function(){try{var t=bf(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,zc),n=new Qh([],Object.freeze({}),Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,{},zc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qh(n,e),i=new Xh(this.url,r);return this.inheritParamsAndData(i._root),Bu(i)}catch(t){return new N(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=zh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=ph(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join(\"/\"),i=t.value.url.map(function(t){return t.toString()}).join(\"/\");throw new Error(\"Two segments cannot have the same outlet name: '\"+r+\"' and '\"+i+\"'.\")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===zc?-1:e.value.outlet===zc?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){try{for(var i=a(t),o=i.next();!o.done;o=i.next()){var s=o.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof yf))throw t}}}catch(t){u={error:t}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new yf;var u,l},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new yf;if((t.outlet||zc)!==r)throw new yf;var i,a=[],s=[];if(\"**\"===t.path){var u=n.length>0?ih(n).parameters:{};i=new Qh(n,u,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,Ef(t),r,t.component,t,gf(e),vf(e)+n.length,Sf(t))}else{var l=function(t,e,n){if(\"\"===e.path){if(\"full\"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new yf;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Yc)(n,t,e);if(!r)throw new yf;var i={};oh(r.posParams,function(t,e){i[e]=t.path});var a=r.consumed.length>0?o({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=l.consumedSegments,s=n.slice(l.lastChild),i=new Qh(a,l.parameters,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,Ef(t),r,t.component,t,gf(e),vf(e)+a.length,Sf(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=bf(e,a,s,c),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new qh(i,d)]}if(0===c.length&&0===p.length)return[new qh(i,[])];var y=this.processSegment(c,f,p,zc);return[new qh(i,y)]},t}();function gf(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function vf(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bf(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return wf(t,e,n)&&_f(n)!==zc})}(t,n)){var i=new ch(e,function(t,e,n,r){var i,o,s={};s[zc]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=a(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(\"\"===c.path&&_f(c)!==zc){var h=new ch([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[_f(c)]=h}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}(t,e,r,new ch(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return wf(t,e,n)})}(t,n)){var s=new ch(t.segments,function(t,e,n,r){var i,s,u={};try{for(var l=a(n),c=l.next();!c.done;c=l.next()){var h=c.value;if(wf(t,e,h)&&!r[_f(h)]){var f=new ch([],{});f._sourceSegment=t,f._segmentIndexShift=t.segments.length,u[_f(h)]=f}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return o({},r,u)}(t,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new ch(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function wf(t,e,n){return(!(t.hasChildren()||e.length>0)||\"full\"!==n.pathMatch)&&\"\"===n.path&&void 0===n.redirectTo}function _f(t){return t.outlet||zc}function Ef(t){return t.data||{}}function Sf(t){return t.resolve||{}}var Cf=function(){},Tf=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),If=new dt(\"ROUTES\"),kf=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(W(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Jc(rh(i.injector.get(If)).map(eh),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return\"string\"==typeof t?Q(this.loader.load(t)):sh(t()).pipe(X(function(t){return t instanceof un?Bu(t):Q(e.compiler.compileModuleAsync(t))}))},t}(),Af=function(){},Of=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Nf(t){throw t}function xf(t){return Bu(null)}var Pf=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new Fu(null),this.navigationId=0,this.events=new rt,this.errorHandler=Nf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xf,afterPreactivation:xf},this.urlHandlingStrategy=new Of,this.routeReuseStrategy=new Tf,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.ngModule=i.get(sn),this.resetConfig(s),this.currentUrlTree=new lh(new ch([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new kf(o,a,function(t){return u.triggerEvent(new Uc(t))},function(t){return u.triggerEvent(new Bc(t))}),this.routerState=Gh(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.urlSerializer.parse(e.url),r=\"popstate\"===e.type?\"popstate\":\"hashchange\",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,\"url\",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Zc(t),this.config=t.map(eh),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,l=e.preserveFragment;An()&&a&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");var c=n||this.routerState.root,h=l?this.currentUrlTree.fragment:i,f=null;if(s)switch(s){case\"merge\":f=o({},this.currentUrlTree.queryParams,r);break;case\"preserve\":f=this.currentUrlTree.queryParams;break;default:f=r||null}else f=a?this.currentUrlTree.queryParams:r||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return ef(e.root,e.root,e,r,i);var o=function(t){if(\"string\"==typeof t[0]&&1===t.length&&\"/\"===t[0])return new nf(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if(\"object\"==typeof r&&null!=r){if(r.outlets){var o={};return oh(r.outlets,function(t,e){o[e]=\"string\"==typeof t?t.split(\"/\"):t}),u(t,[{outlets:o}])}if(r.segmentPath)return u(t,[r.segmentPath])}return\"string\"!=typeof r?u(t,[r]):0===i?(r.split(\"/\").forEach(function(r,i){0==i&&\".\"===r||(0==i&&\"\"===r?n=!0:\"..\"===r?e++:\"\"!=r&&t.push(r))}),t):u(t,[r])},[]);return new nf(n,e,r)}(n);if(o.toRoot())return ef(e.root,new ch([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new rf(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new rf(r.snapshot._urlSegment,!0,0);var i=tf(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error(\"Invalid number of '../'\");s=a.segments.length}return new rf(a,!1,s-u)}()}(o,0,t),s=a.processChildren?sf(a.segmentGroup,a.index,o.commands):af(a.segmentGroup,a.index,o.commands);return ef(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof lh?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,\"imperative\",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error(\"The requested path contains \"+n+\" segment at index \"+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof lh)return uh(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return uh(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(Hu(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Bu(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.navigations.value;if(i&&\"imperative\"!==e&&\"imperative\"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&\"hashchange\"==e&&\"popstate\"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&\"popstate\"==e&&\"hashchange\"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:a,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=t.source,u=t.state,l=this.urlHandlingStrategy.extract(r),c=!this.navigated||l.toString()!==this.currentUrlTree.toString();(\"reload\"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new xc(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new xc(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!1,!1,n,Gh(l,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var s=this;return i!==this.navigationId?(this.events.next(new Rc(i,this.serializeUrl(t),\"Navigation ID \"+i+\" is not equal to the current navigation id \"+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,l){var c,h=(o?Bu({appliedUrl:t,snapshot:o}):new Dh(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config).apply().pipe(X(function(e){return function(t,e,n,r,i){return void 0===i&&(i=\"emptyOnly\"),new mf(t,e,n,r,i).recognize()}(s.rootComponentType,s.config,e,s.serializeUrl(e),s.paramsInheritanceStrategy).pipe(W(function(n){return s.events.next(new Mc(i,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}))).pipe(X(function(t){return\"boolean\"==typeof t?Bu(t):s.hooks.beforePreactivation(t.snapshot).pipe(W(function(){return t}))})).pipe(W(function(t){if(\"boolean\"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot;return(c=new df(n,s.routerState.snapshot,s.ngModule.injector,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(X(function(e){if(\"boolean\"==typeof e||s.navigationId!==i)return Bu(!1);var n=e.appliedUrl,r=e.snapshot;return s.triggerEvent(new Lc(i,s.serializeUrl(t),s.serializeUrl(n),r)),c.checkGuards().pipe(W(function(e){return s.triggerEvent(new Vc(i,s.serializeUrl(t),s.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(X(function(e){return\"boolean\"==typeof e||s.navigationId!==i?Bu(!1):e.shouldActivate&&c.isActivating()?(s.triggerEvent(new Fc(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),c.resolveData(s.paramsInheritanceStrategy).pipe(W(function(){return s.triggerEvent(new jc(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),e}))):Bu(e)})).pipe(X(function(t){return\"boolean\"==typeof t||s.navigationId!==i?Bu(!1):s.hooks.afterPreactivation(t.snapshot).pipe(W(function(){return t}))})).pipe(W(function(t){if(\"boolean\"==typeof t||s.navigationId!==i)return!1;var e,n,r,o=t.appliedUrl,u=t.shouldActivate;return u?{appliedUrl:o,state:(r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(l=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){try{for(var i=a(r.children),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(t){u={error:t}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return t(e,n);var u,l})}(e,n,r);return new qh(l,i)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(e.children.length!==n.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new Kh(new Fu((u=n.value).url),new Fu(u.params),new Fu(u.queryParams),new Fu(u.fragment),new Fu(u.data),u.outlet,u.component,u);return i=n.children.map(function(n){return t(e,n)}),new qh(l,i)}(s.routeReuseStrategy,(e=t.snapshot)._root,(n=s.routerState)?n._root:void 0),new Wh(r,e)),shouldActivate:u}:{appliedUrl:o,state:null,shouldActivate:u}}));s.activateRoutes(h,s.routerState,s.currentUrlTree,i,t,e,n,r,u,l)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,a,s,u,l){var c,h=this;t.forEach(function(t){if(\"boolean\"!=typeof t&&t.shouldActivate&&r===h.navigationId&&t.state){var n=t.state;if(h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=n,!a){var i=h.urlSerializer.serialize(h.rawUrlTree);h.location.isCurrentPathEqualTo(i)||s?h.location.replaceState(i,\"\",{navigationId:r}):h.location.go(i,\"\",{navigationId:r})}new Rf(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),c=!0}else c=!1}).then(function(){c?(h.navigated=!0,h.lastSuccessfulId=r,h.events.next(new Pc(r,h.serializeUrl(i),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new Rc(r,h.serializeUrl(i),\"\")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new Rc(r,h.serializeUrl(i),t.message)),u(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new Dc(r,h.serializeUrl(i),t));try{u(h.errorHandler(t))}catch(t){l(t)}}var a})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})},t}(),Rf=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zh(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Hh(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),oh(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Hh(t),o=t.value.component?r.children:e;oh(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Hh(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Gc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Hc(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Zh(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Df(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Df(t){Zh(t.value),t.children.forEach(Df)}var Mf=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,\"tabindex\",\"0\")}return Object.defineProperty(t.prototype,\"routerLink\",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"preserveQueryParams\",{set:function(t){An()&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated!, use queryParamsHandling instead.\"),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Vf(this.skipLocationChange),replaceUrl:Vf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,\"urlTree\",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Vf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Vf(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Lf=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Pc&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,\"routerLink\",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"preserveQueryParams\",{set:function(t){An()&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\"),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if(\"string\"==typeof this.target&&\"_self\"!=this.target)return!0;var i={skipLocationChange:Vf(this.skipLocationChange),replaceUrl:Vf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,\"urlTree\",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Vf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Vf(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Vf(t){return\"\"===t||!!t}var Ff=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Pc&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,\"routerLinkActive\",{set:function(t){var e=Array.isArray(t)?t:t.split(\" \");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),jf=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Uf,this.attachRef=null}}(),Uf=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new jf,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Bf=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new pn,this.deactivateEvents=new pn,this.name=r||zc,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,\"isActivated\",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"component\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activatedRoute\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activatedRouteData\",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),qf=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Kh?this.route:t===Uf?this.childContexts:this.parent.get(t,e)},t}(),Hf=function(){},Wf=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(al(function(){return Bu(null)}))},t}(),Gf=function(){function t(){}return t.prototype.preload=function(t,e){return Bu(null)},t}(),Kf=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new kf(e,n,function(e){return t.triggerEvent(new Uc(e))},function(e){return t.triggerEvent(new Bc(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Wu(function(t){return t instanceof Pc}),Hu(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(sn);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=a(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Q(i).pipe($(),W(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(X(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),zf=new dt(\"ROUTER_CONFIGURATION\"),Qf=new dt(\"ROUTER_FORROOT_GUARD\"),Xf=[eu,{provide:dh,useClass:yh},{provide:Pf,useFactory:ep,deps:[Dn,dh,Uf,eu,zt,Bn,Xe,If,zf,[Af,new jt],[Cf,new jt]]},Uf,{provide:Kh,useFactory:np,deps:[Pf]},{provide:Bn,useClass:Gn},Kf,Gf,Wf,{provide:zf,useValue:{enableTracing:!1}}];function Yf(){return new On(\"Router\",Pf)}var Jf=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Xf,tp(e),{provide:Qf,useFactory:$f,deps:[[Pf,new jt,new Bt]]},{provide:zf,useValue:n||{}},{provide:$s,useFactory:Zf,deps:[Js,[new Ft(tu),new jt],zf]},{provide:Hf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gf},{provide:On,multi:!0,useFactory:Yf},[rp,{provide:je,multi:!0,useFactory:ip,deps:[rp]},{provide:ap,useFactory:op,deps:[rp]},{provide:Ke,multi:!0,useExisting:ap}]]}},t.forChild=function(e){return{ngModule:t,providers:[tp(e)]}},t}();function Zf(t,e,n){return void 0===n&&(n={}),n.useHash?new ru(t,e):new iu(t,e)}function $f(t){if(t)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function tp(t){return[{provide:gt,multi:!0,useValue:t},{provide:If,multi:!0,useValue:t}]}function ep(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Pf(null,e,n,r,i,o,a,rh(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=_l();h.events.subscribe(function(t){f.logGroup(\"Router Event: \"+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),h}function np(t){return t.routerState.root}var rp=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new rt}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Zs,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Pf),i=t.injector.get(zf);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if(\"disabled\"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if(\"enabled\"!==i.initialNavigation)throw new Error(\"Invalid initialNavigation options: '\"+i.initialNavigation+\"'\");r.hooks.afterPreactivation=function(){return t.initNavigation?Bu(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(zf),n=this.injector.get(Kf),r=this.injector.get(Pf),i=this.injector.get(Dn);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return\"legacy_enabled\"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return\"legacy_disabled\"===t.initialNavigation||!1===t.initialNavigation},t}();function ip(t){return t.appInitializer.bind(t)}function op(t){return t.bootstrapListener.bind(t)}var ap=new dt(\"Router Initializer\"),sp=di({encapsulation:2,styles:[],data:{}});function up(t){return la(0,[(t()(),Wi(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Ro(1,212992,null,0,Bf,[Uf,Qn,rn,[8,null],Xn],null,null)],function(t,e){t(e,1,0)},null)}var lp=uo(\"ng-component\",Kc,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"ng-component\",[],null,null,null,up,sp)),Ro(1,49152,null,0,Kc,[],null,null)],null,null)},{},{},[]),cp=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=q(r,n[o],null,o);a&&r.add(a)}return r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(H),hp=function(){function t(){}return Object.defineProperty(t.prototype,\"value\",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"valid\",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"invalid\",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pending\",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"disabled\",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"enabled\",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"errors\",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pristine\",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dirty\",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"touched\",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"status\",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"untouched\",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"statusChanges\",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"valueChanges\",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,\"formDirective\",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return null},enumerable:!0,configurable:!0}),e}(hp);function pp(t){return null==t||0===t.length}var dp=new dt(\"NgValidators\"),yp=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mp=function(){function t(){}return t.min=function(t){return function(e){if(pp(e.value)||pp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(pp(e.value)||pp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return pp(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return pp(t.value)?null:yp.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(pp(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?(\"string\"==typeof e?(r=\"\",\"^\"!==e.charAt(0)&&(r+=\"^\"),r+=e,\"$\"!==e.charAt(e.length-1)&&(r+=\"$\"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(pp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(gp);return 0==e.length?null:function(t){return bp(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(gp);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return\"function\"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&d(n[0])&&(n=n[0]),0===n.length?ju:e?t(n).pipe(W(function(t){return e.apply(void 0,t)})):new N(function(t){return new cp(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(vp)).pipe(W(bp))}},t}();function gp(t){return null!=t}function vp(t){var e=Ve(t)?Q(t):t;if(!Fe(e))throw new Error(\"Expected validator to return Promise or Observable.\");return e}function bp(t){var e=t.reduce(function(t,e){return null!=e?o({},t,e):t},{});return 0===Object.keys(e).length?null:e}var wp=new dt(\"NgValueAccessor\"),_p=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t}(),Ep=new dt(\"CompositionEventMode\"),Sp=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=_l()?_l().getUserAgent():\"\",!/android (\\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==t?\"\":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function Cp(t){return t.validate?function(e){return t.validate(e)}:t}function Tp(t){return t.validate?function(e){return t.validate(e)}:t}var Ip=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==t?\"\":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(\"\"==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t}();function kp(){throw new Error(\"unimplemented\")}var Ap=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return i(e,t),Object.defineProperty(e.prototype,\"validator\",{get:function(){return kp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"asyncValidator\",{get:function(){return kp()},enumerable:!0,configurable:!0}),e}(hp),Op=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Np=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Ap),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\\n      If you define both a name and a formControlName attribute on your radio button, their values\\n      must match. Ex: <input type=\"radio\" formControlName=\"food\" name=\"food\">\\n    ')},t}(),xp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(\"\"==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t}(),Pp='\\n    <div [formGroup]=\"myGroup\">\\n       <div formGroupName=\"person\">\\n          <input formControlName=\"firstName\">\\n       </div>\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       person: new FormGroup({ firstName: new FormControl() })\\n    });',Rp='\\n    <form>\\n       <div ngModelGroup=\"person\">\\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\\n       </div>\\n    </form>';function Dp(t,e){return null==t?\"\"+e:(e&&\"object\"==typeof e&&(e=\"Object\"),(t+\": \"+e).slice(0,50))}var Mp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=At}return Object.defineProperty(t.prototype,\"compareWith\",{set:function(t){if(\"function\"!=typeof t)throw new Error(\"compareWith must be a function, but received \"+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,\"selectedIndex\",-1);var n=Dp(e,t);this._renderer.setProperty(this._elementRef.nativeElement,\"value\",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){try{for(var e=a(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var r=n.value;if(this._compareWith(this._optionMap.get(r),t))return r}}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}return null;var i,o},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(\":\")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Lp=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,\"ngValue\",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Dp(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,\"value\",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Vp(t,e){return null==t?\"\"+e:(\"string\"==typeof e&&(e=\"'\"+e+\"'\"),e&&\"object\"==typeof e&&(e=\"Object\"),(t+\": \"+e).slice(0,50))}var Fp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=At}return Object.defineProperty(t.prototype,\"compareWith\",{set:function(t){if(\"function\"!=typeof t)throw new Error(\"compareWith must be a function, but received \"+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty(\"selectedOptions\"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){try{for(var e=a(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var r=n.value;if(this._compareWith(this._optionMap.get(r)._value,t))return r}}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}return null;var i,o},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(\":\")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),jp=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,\"ngValue\",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Vp(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{set:function(t){this._select?(this._value=t,this._setElementValue(Vp(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,\"value\",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,\"selected\",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Up(t,e){return u(e.path,[t])}function Bp(t,e){t||Hp(e,\"Cannot find control with\"),e.valueAccessor||Hp(e,\"No value accessor for form control with\"),t.validator=mp.compose([t.validator,e.validator]),t.asyncValidator=mp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,\"change\"===t.updateOn&&qp(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,\"blur\"===t.updateOn&&t._pendingChange&&qp(t,e),\"submit\"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function qp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hp(t,e){var n;throw n=t.path.length>1?\"path: '\"+t.path.join(\" -> \")+\"'\":t.path[0]?\"name: '\"+t.path+\"'\":\"unspecified name attribute\",new Error(e+\" \"+n)}function Wp(t){return null!=t?mp.compose(t.map(Cp)):null}function Gp(t){return null!=t?mp.composeAsync(t.map(Tp)):null}var Kp=[_p,xp,Ip,Mp,Fp,Np],zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,\"control\",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return Up(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"formDirective\",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"validator\",{get:function(){return Wp(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"asyncValidator\",{get:function(){return Gp(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(fp),Qp=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,\"ngClassUntouched\",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassTouched\",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassPristine\",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassDirty\",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassValid\",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassInvalid\",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ngClassPending\",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Xp=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(Qp),Yp=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(Qp);function Jp(t){var e=$p(t)?t.validators:t;return Array.isArray(e)?Wp(e):e||null}function Zp(t,e){var n=$p(e)?e.asyncValidators:t;return Array.isArray(n)?Gp(n):n||null}function $p(t){return null!=t&&!Array.isArray(t)&&\"object\"==typeof t}var td=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,\"parent\",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"valid\",{get:function(){return\"VALID\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"invalid\",{get:function(){return\"INVALID\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pending\",{get:function(){return\"PENDING\"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"disabled\",{get:function(){return\"DISABLED\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"enabled\",{get:function(){return\"DISABLED\"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dirty\",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"untouched\",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"updateOn\",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:\"change\"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Jp(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Zp(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status=\"PENDING\",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status=\"DISABLED\",this.errors=null,this._forEachChild(function(e){e.disable(o({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status=\"VALID\",this._forEachChild(function(e){e.enable(o({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),\"VALID\"!==this.status&&\"PENDING\"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?\"DISABLED\":\"VALID\"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status=\"PENDING\";var n=vp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(\".\")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof nd?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof rd&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,\"root\",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new pn,this.statusChanges=new pn},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?\"DISABLED\":this.errors?\"INVALID\":this._anyControlsHaveStatus(\"PENDING\")?\"PENDING\":this._anyControlsHaveStatus(\"INVALID\")?\"INVALID\":\"VALID\"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return\"object\"==typeof t&&null!==t&&2===Object.keys(t).length&&\"value\"in t&&\"disabled\"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){$p(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),ed=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,Jp(n),Zp(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return i(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!(\"submit\"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(td),nd=function(t){function e(e,n,r){var i=t.call(this,Jp(n),Zp(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof ed?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error(\"\\n        There are no form controls registered with this group yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.controls[t])throw new Error(\"Cannot find form control with name: \"+t+\".\")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){try{for(var t=a(Object.keys(this.controls)),e=t.next();!e.done;e=t.next())if(this.controls[e.value].enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled;var n,r},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error(\"Must supply a value for form control with name: '\"+n+\"'.\")})},e}(td),rd=function(t){function e(e,n,r){var i=t.call(this,Jp(n),Zp(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,\"length\",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof ed?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error(\"\\n        There are no form controls registered with this array yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.at(t))throw new Error(\"Cannot find form control at index \"+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error(\"Must supply a value for form control at index: \"+n+\".\")})},e.prototype._allControlsDisabled=function(){try{for(var t=a(this.controls),e=t.next();!e.done;e=t.next())if(e.value.enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled;var n,r},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(td),id=Promise.resolve(null),od=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new pn,r.form=new nd({},Wp(e),Gp(n)),r}return i(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,\"formDirective\",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"control\",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"controls\",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;id.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Bp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;id.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;id.then(function(){var n=e._findContainer(t.path),r=new nd({});(function(t,e){null==t&&Hp(e,\"Cannot find control with\"),t.validator=mp.compose([t.validator,e.validator]),t.asyncValidator=mp.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;id.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;id.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;\"submit\"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(fp),ad=function(){function t(){}return t.modelParentException=function(){throw new Error('\\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\\n      formGroup\\'s partner directive \"formControlName\" instead.  Example:\\n\\n      \\n    <div [formGroup]=\"myGroup\">\\n      <input formControlName=\"firstName\">\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       firstName: new FormControl()\\n    });\\n\\n      Or, if you\\'d like to avoid registering this form control, indicate that it\\'s standalone in ngModelOptions:\\n\\n      Example:\\n\\n      \\n    <div [formGroup]=\"myGroup\">\\n       <input formControlName=\"firstName\">\\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\\n    </div>\\n  ')},t.formGroupNameException=function(){throw new Error(\"\\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\\n\\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\\n\\n      \"+Pp+\"\\n\\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\\n\\n      \"+Rp)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\\n      control must be defined as \\'standalone\\' in ngModelOptions.\\n\\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">')},t.modelGroupParentException=function(){throw new Error(\"\\n      ngModelGroup cannot be used with a parent formGroup directive.\\n\\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\\n\\n      \"+Pp+\"\\n\\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\\n\\n      \"+Rp)},t}(),sd=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return i(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof od||ad.modelGroupParentException()},e}(zp),ud=Promise.resolve(null),ld=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new ed,o._registered=!1,o.update=new pn,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Hp(t,\"Value accessor was not provided as an array for form control with\");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===Sp?n=e:(o=e,Kp.some(function(t){return o.constructor===t})?(r&&Hp(t,\"More than one built-in value accessor matches form control with\"),r=e):(i&&Hp(t,\"More than one custom value accessor matches form control with\"),i=e))}),i||r||n||(Hp(t,\"No valid value accessor for form control with\"),null)}(o,i),o}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),\"isDisabled\"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty(\"model\"))return!1;var n=t.model;return!!n.isFirstChange()||!At(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,\"path\",{get:function(){return this._parent?Up(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"formDirective\",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"validator\",{get:function(){return Wp(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"asyncValidator\",{get:function(){return Gp(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){Bp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof sd)&&this._parent instanceof zp?ad.formGroupNameException():this._parent instanceof sd||this._parent instanceof od||ad.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ad.missingNameException()},e.prototype._updateValue=function(t){var e=this;ud.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=\"\"===n||n&&\"false\"!==n;ud.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(Ap),cd=new dt(\"NgModelWithFormControlWarning\"),hd=function(){function t(){}return Object.defineProperty(t.prototype,\"required\",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&\"\"+t!=\"false\",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?mp.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),fd=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new nd(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new ed(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new rd(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof ed||t instanceof nd||t instanceof rd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),pd=function(){},dd=function(){},yd=function(){},md=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:cd,useValue:e.warnOnNgModelWithFormControl}]}},t}(),gd=(Lt(function(){return gd}),function(){function t(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}return t.prototype.onClick=function(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))},t.prototype.ngOnInit=function(){this.toggle(this.trueValue===this.value)},Object.defineProperty(t.prototype,\"trueValue\",{get:function(){return void 0===this.btnCheckboxTrue||this.btnCheckboxTrue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"falseValue\",{get:function(){return void 0!==this.btnCheckboxFalse&&this.btnCheckboxFalse},enumerable:!0,configurable:!0}),t.prototype.toggle=function(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue},t.prototype.writeValue=function(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue},t.prototype.setDisabledState=function(t){this.isDisabled=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}()),vd=(Lt(function(){return vd}),function(){function t(t,e){this.renderer=e,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.radioElementsArray=[],this.el=t}return Object.defineProperty(t.prototype,\"isActive\",{get:function(){return this.mdbRadio===this.value},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){var e=this;try{this.el.nativeElement.parentElement.childNodes.forEach(function(t){e.radioElementsArray.push(t)}),this.radioElementsArray.forEach(function(t){e.renderer.removeClass(t,\"active\")}),this.renderer.addClass(t.target,\"active\")}catch(t){}this.el.nativeElement.attributes.disabled||(this.value=this.uncheckable&&this.mdbRadio===this.value?void 0:this.mdbRadio,this.onTouched(),this.onChange(this.value))},t.prototype.ngOnInit=function(){this.uncheckable=void 0!==this.uncheckable},t.prototype.onBlur=function(){this.onTouched()},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}()),bd=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),wd=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),_d=function(){function t(t,e,n){this._elRef=t,this._renderer=e,this.el=null,this.elLabel=null,this.elIcon=null,this.mdbValidate=!0,this.focusCheckbox=!0,this.focusRadio=!0,this.isBrowser=!1,this.isClicked=!1,this.el=t,this.isBrowser=function(t){return t===Mu}(n)}return t.prototype.ngOnDestroy=function(){this.changes.disconnect()},t.prototype.onfocus=function(){try{this._renderer.addClass(this.elLabel,\"active\"),this.isClicked=!0}catch(t){}},t.prototype.onblur=function(){try{\"\"===this.el.nativeElement.value&&this._renderer.removeClass(this.elLabel,\"active\"),this.isClicked=!1}catch(t){}},t.prototype.onchange=function(){try{this.checkValue()}catch(t){}},t.prototype.onkeydown=function(t){try{if(\"number\"===t.target.type){if(t.shiftKey)switch(t.keyCode){case 38:t.target.value=+t.target.value+10;break;case 40:t.target.value=+t.target.value-10}if(t.altKey)switch(t.keyCode){case 38:t.target.value=+t.target.value+.1;break;case 40:t.target.value=+t.target.value-.1}}}catch(t){}},t.prototype.ngOnInit=function(){var t=this;if(this.mdbValidate){this.wrongTextContainer=this._renderer.createElement(\"span\"),this._renderer.addClass(this.wrongTextContainer,\"inputVal\"),this._renderer.addClass(this.wrongTextContainer,\"text-danger\"),this._renderer.appendChild(this._elRef.nativeElement.parentElement,this.wrongTextContainer);var e=this._elRef.nativeElement.getAttribute(\"data-error\");this.wrongTextContainer.innerHTML=e||\"wrong\",this._renderer.setStyle(this.wrongTextContainer,\"visibility\",\"hidden\"),this.rightTextContainer=this._renderer.createElement(\"span\"),this._renderer.addClass(this.rightTextContainer,\"inputVal\"),this._renderer.addClass(this.rightTextContainer,\"text-success\"),this._renderer.appendChild(this._elRef.nativeElement.parentElement,this.rightTextContainer);var n=this._elRef.nativeElement.getAttribute(\"data-success\");this.rightTextContainer.innerHTML=n||\"success\",this._renderer.setStyle(this.rightTextContainer,\"visibility\",\"hidden\"),this.changes=new MutationObserver(function(e){e.forEach(function(e){e.target.classList.contains(\"ng-touched\")&&e.target.classList.contains(\"ng-invalid\")&&!e.target.classList.contains(\"counter-danger\")?(t._renderer.addClass(t._elRef.nativeElement,\"counter-danger\"),t._renderer.removeClass(t._elRef.nativeElement,\"counter-success\"),t._renderer.setStyle(t.rightTextContainer,\"visibility\",\"hidden\"),t._renderer.setStyle(t.wrongTextContainer,\"visibility\",\"visible\"),t._renderer.setStyle(t.rightTextContainer,\"top\",t._elRef.nativeElement.offsetHeight+\"px\"),t._renderer.setStyle(t.wrongTextContainer,\"top\",t._elRef.nativeElement.offsetHeight+\"px\")):e.target.classList.contains(\"ng-touched\")&&e.target.classList.contains(\"ng-valid\")&&!e.target.classList.contains(\"counter-success\")&&(t._renderer.removeClass(t._elRef.nativeElement,\"counter-danger\"),t._renderer.addClass(t._elRef.nativeElement,\"counter-success\"),t._renderer.setStyle(t.rightTextContainer,\"visibility\",\"visible\"),t._renderer.setStyle(t.wrongTextContainer,\"visibility\",\"hidden\"),t._renderer.setStyle(t.rightTextContainer,\"top\",t._elRef.nativeElement.offsetHeight+\"px\"),t._renderer.setStyle(t.wrongTextContainer,\"top\",t._elRef.nativeElement.offsetHeight+\"px\"))})}),this.changes.observe(this._elRef.nativeElement,{attributes:!0})}},t.prototype.ngAfterViewInit=function(){var t=this.el.nativeElement.type;this.focusCheckbox&&\"checkbox\"===t&&this._renderer.addClass(this.el.nativeElement,\"onFocusSelect\"),this.focusRadio&&\"radio\"===t&&this._renderer.addClass(this.el.nativeElement,\"onFocusSelect\")},t.prototype.ngAfterViewChecked=function(){this.initComponent(),this.checkValue(),\"MDB-COMPLETER\"!==this.el.nativeElement.tagName||null!=this.el.nativeElement.getAttribute(\"ng-reflect-model\")||this.isClicked||this._renderer.removeClass(this.elLabel,\"active\")},t.prototype.initComponent=function(){var t,e;if(this.isBrowser){try{t=this.el.nativeElement.id}catch(t){}try{e=this.el.nativeElement.parentNode}catch(t){}this.elLabel=e.querySelector('label[for=\"'+t+'\"]')||e.querySelector(\"label\"),this.elLabel&&\"\"!==this.el.nativeElement.value&&this._renderer.addClass(this.elLabel,\"active\"),this.elIcon=e.querySelector(\"i\")||!1,this.elIcon&&this._renderer.addClass(this.elIcon,\"active\")}},t.prototype.checkValue=function(){var t=\"\";null!=this.elLabel&&(\"\"===(t=this.el.nativeElement.value||\"\")&&(this._renderer.removeClass(this.elLabel,\"active\"),this.elIcon&&this._renderer.removeClass(this.elIcon,\"active\")),(\"\"===t&&this.isClicked||\"\"===t&&this.el.nativeElement.placeholder||\"\"===t&&this.el.nativeElement.attributes.placeholder)&&this._renderer.addClass(this.elLabel,\"active\"),null!=this.el.nativeElement.getAttribute(\"ng-reflect-model\")&&\"MDB-COMPLETER\"===this.el.nativeElement.tagName&&0!==this.el.nativeElement.getAttribute(\"ng-reflect-model\").length&&this._renderer.addClass(this.elLabel,\"active\"))},t}(),Ed=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),Sd=function(){function t(){this.navbarLinkClicks=new rt}return t.prototype.getNavbarLinkClicks=function(){return this.navbarLinkClicks.asObservable()},t.prototype.setNavbarLinkClicks=function(){this.navbarLinkClicks.next()},t}(),Cd=function(){function t(t){this._navbarService=t,this.linkClick=new pn}return t.prototype.ngAfterContentInit=function(){var t=this;setTimeout(function(){t.links.forEach(function(e){e.nativeElement.onclick=function(){t._navbarService.setNavbarLinkClicks()}})},0)},t.prototype.ngAfterViewInit=function(){},t}(),Td=function(){},Id=function(){function t(t,e){var n=this;this.renderer=t,this._navbarService=e,this.containerInside=!0,this.shown=!1,this.duration=350,this.collapse=!1,this.showClass=!1,this.collapsing=!1,this.subscription=this._navbarService.getNavbarLinkClicks().subscribe(function(t){n.closeNavbarOnClick(t)})}return t.prototype.closeNavbarOnClick=function(t){this.navbarLinkClicks=t,this.showClass&&this.hide()},t.prototype.ngOnInit=function(){var t=this.SideClass.split(\" \");this.doubleNav=-1!==t.indexOf(\"double-nav\")},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.height=t.el.nativeElement.scrollHeight,t.collapse=!0,t.containerInside||Array.from(t.container.nativeElement.children).forEach(function(e){t.renderer.appendChild(t.navbar.nativeElement,e),t.container.nativeElement.remove()}),0===t.el.nativeElement.children.length&&t.el.nativeElement.remove()})},t.prototype.toggle=function(t){t.preventDefault(),this.collapsing||(this.shown?this.hide():this.show())},t.prototype.show=function(){var t=this;this.shown=!0,this.collapse=!1,this.collapsing=!0,setTimeout(function(){t.renderer.setStyle(t.el.nativeElement,\"height\",t.height+\"px\")},10),setTimeout(function(){t.collapsing=!1,t.collapse=!0,t.showClass=!0},this.duration)},t.prototype.hide=function(){var t=this;this.shown=!1,this.collapse=!1,this.showClass=!1,this.collapsing=!0,setTimeout(function(){t.renderer.setStyle(t.el.nativeElement,\"height\",\"0px\")},10),setTimeout(function(){t.collapsing=!1,t.collapse=!0},this.duration)},Object.defineProperty(t.prototype,\"displayStyle\",{get:function(){return\"\"},enumerable:!0,configurable:!0}),t.prototype.onResize=function(t){var e,n=this;e=this.SideClass.includes(\"navbar-expand-xl\")?1200:this.SideClass.includes(\"navbar-expand-lg\")?992:this.SideClass.includes(\"navbar-expand-md\")?768:this.SideClass.includes(\"navbar-expand-sm\")?576:t.target.innerWidth+1,t.target.innerWidth<e?this.shown||(this.collapse=!1,this.renderer.setStyle(this.el.nativeElement,\"height\",\"0px\"),this.renderer.setStyle(this.el.nativeElement,\"opacity\",\"0\"),setTimeout(function(){n.height=n.el.nativeElement.scrollHeight,n.collapse=!0,n.renderer.setStyle(n.el.nativeElement,\"opacity\",\"\")},4)):(this.collapsing=!1,this.shown=!1,this.showClass=!1,this.collapse=!0,this.renderer.setStyle(this.el.nativeElement,\"height\",\"\"))},t.prototype.onScroll=function(){this.navbar.nativeElement.classList.contains(\"scrolling-navbar\")&&(window.pageYOffset>120?this.renderer.addClass(this.navbar.nativeElement,\"top-nav-collapse\"):this.renderer.removeClass(this.navbar.nativeElement,\"top-nav-collapse\"))},t}(),kd=function(){},Ad=function(){function t(t,e){this.open=t,this.close=e||t}return t.prototype.isManual=function(){return\"manual\"===this.open||\"manual\"===this.close},t}(),Od={hover:[\"mouseover\",\"mouseout\"],focus:[\"focusin\",\"focusout\"]},Nd=function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n},xd=function(){function t(t,e,n,r,i,o,a,s){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=i,this._ngZone=o,this._applicationRef=a,this._posService=s,this.onBeforeShow=new pn,this.onShown=new pn,this.onBeforeHide=new pn,this.onHidden=new pn,this._providers=[]}return Object.defineProperty(t.prototype,\"isShown\",{get:function(){return!!this._componentRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this},t.prototype.to=function(t){return this.container=t||this.container,this},t.prototype.position=function(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this},t.prototype.provide=function(t){return this._providers.push(t),this},t.prototype.show=function(t){if(void 0===t&&(t={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content);var e=De.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Un&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),\"body\"===this.container&&\"undefined\"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._componentRef},t.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null,this._componentRef=null,this.onHidden.emit(),this},t.prototype.toggle=function(){this.isShown?this.hide():this.show()},t.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},t.prototype.listen=function(t){var e,n,r,i,o,a,s,u=this;return this.triggers=t.triggers||this.triggers,t.target=t.target||this._elementRef,t.show=t.show||function(){return u.show()},t.hide=t.hide||function(){return u.hide()},t.toggle=t.toggle||function(){return u.isShown?t.hide():t.show()},this._unregisterListenersFn=(e=this._renderer,n=t.target.nativeElement,r=t.show,i=t.hide,o=t.toggle,a=function(t,e){void 0===e&&(e=Od);var n=(t||\"\").trim();if(0===n.length)return[];var r=n.split(/\\s+/).map(function(t){return t.split(\":\")}).map(function(t){var n=e[t[0]]||t;return new Ad(n[0],n[1])}),i=r.filter(function(t){return t.isManual()});if(i.length>1)throw new Error(\"Triggers parse error: only one manual trigger is allowed\");if(1===i.length&&r.length>1)throw new Error(\"Triggers parse error: manual trigger can't be mixed with other triggers\");return r}(this.triggers),s=[],1===a.length&&a[0].isManual()?Function.prototype:(a.forEach(function(t){t.open!==t.close?s.push(e.listen(n,t.open,function(){r()}),e.listen(n,t.close,function(){i()})):s.push(e.listen(n,t.open,function(){o()}))}),function(){s.forEach(function(t){return t()})})),this},t.prototype.getInnerComponent=function(){return this._innerComponent},t.prototype._subscribePositioning=function(){var t=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){t._componentRef&&t._posService.position({element:t._componentRef.location,target:t._elementRef,attachment:t.attachment,appendToBody:\"body\"===t.container})}))},t.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},t.prototype._getContentRef=function(t){if(!t)return new Nd([]);if(t instanceof zn){if(this._viewContainerRef){var e=this._viewContainerRef.createEmbeddedView(t);return new Nd([e.rootNodes],e)}var n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new Nd([n.rootNodes],n)}if(\"function\"==typeof t){var r=this._componentFactoryResolver.resolveComponentFactory(t),i=De.resolveAndCreate(this._providers.concat([t]),this._injector),o=r.create(i);return this._applicationRef.attachView(o.hostView),new Nd([[o.location.nativeElement]],o.hostView,o)}return new Nd([[this._renderer.createText(\"\"+t)]])},t}(),Pd=new(function(){function t(){}return t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if(\"fixed\"===this.getStyle(t,\"position\")){var i=t.getBoundingClientRect();n={width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=r?this.offset(t,!1):this.position(t,!1),o={left:i.left,center:i.left+i.width/2-e.offsetWidth/2,right:i.left+i.width},a={top:i.top,center:i.top+i.height/2-e.offsetHeight/2,bottom:i.top+i.height},s=e.getBoundingClientRect(),u=n.split(\" \")[0]||\"top\",l=n.split(\" \")[1]||\"center\",c={height:s.height||e.offsetHeight,width:s.width||e.offsetWidth,top:0,bottom:s.height||e.offsetHeight,left:0,right:s.width||e.offsetWidth};switch(u){case\"top\":c.top=i.top-e.offsetHeight,c.bottom+=i.top-e.offsetHeight,c.left=o[l],c.right+=o[l];break;case\"bottom\":c.top=a[u],c.bottom+=a[u],c.left=o[l],c.right+=o[l];break;case\"left\":c.top=a[l],c.bottom+=a[l],c.left=i.left-e.offsetWidth,c.right+=i.left-e.offsetWidth;break;case\"right\":c.top=a[l],c.bottom+=a[l],c.left=o[u],c.right+=o[u]}return c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right),c},t.prototype.getStyle=function(t,e){return window.getComputedStyle(t)[e]},t.prototype.isStaticPositioned=function(t){return\"static\"===(this.getStyle(t,\"position\")||\"static\")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t}()),Rd=function(){function t(){}return t.prototype.position=function(t){var e=t.element,n=t.attachment,r=t.appendToBody;!function(t,e,r,i){var o=Pd.positionElements(t,e,n,i);e.style.top=o.top+\"px\",e.style.left=o.left+\"px\"}(this._getHtmlElement(t.target),this._getHtmlElement(e),0,r)},t.prototype._getHtmlElement=function(t){return\"string\"==typeof t?document.querySelector(t):t instanceof Un?t.nativeElement:t},t}(),Dd=function(){function t(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}return t.prototype.createLoader=function(t,e,n){return new xd(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},t}(),Md=function(){return function(){var t=this;this.direction=\"down\",this.isOpenChange=new pn,this.isDisabledChange=new pn,this.toggleClick=new pn,this.dropdownMenu=new Promise(function(e){t.resolveDropdownMenu=e})}}(),Ld=function(){function t(t){var e=this;this._state=t,this.isOpen=!1,this.display=\"block\",this.position=\"absolute\",this._subscription=t.isOpenChange.subscribe(function(t){e.isOpen=t})}return Object.defineProperty(t.prototype,\"direction\",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t}(),Vd=function(){this.autoClose=!0},Fd=\"undefined\"!=typeof window&&window||{};function jd(){return\"bs4\"===Fd.__theme}var Ud=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[Dd,Rd,Md,{provide:Vd,useValue:e||{autoClose:!0}}]}},t}(),Bd=function(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.keyboard=!1},qd=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),Hd=function(){},Wd=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),Gd=function(){},Kd=function(){function t(){}return t.prototype.hide=function(){},t}(),zd={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:\"\",animated:!0},Qd=function(){function t(){}return t.reflow=function(t){},t.getStyles=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=Fd),e.getComputedStyle(t)},t}(),Xd=function(){function t(t,e){this.classNameBackDrop=!0,this._isShown=!1,this.element=t,this.renderer=e}return Object.defineProperty(t.prototype,\"isAnimated\",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isShown\",{get:function(){return this._isShown},set:function(t){this._isShown=t,this.renderer.setElementClass(this.element.nativeElement,\"in\",t),jd()||this.renderer.setElementClass(this.element.nativeElement,\"show\",t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.isAnimated&&(this.renderer.setElementClass(this.element.nativeElement,\"fade\",this.isAnimated),Qd.reflow(this.element.nativeElement)),this.isShown=!0},t}(),Yd={serviceInstance:new Object},Jd=function(){function t(t,e,n){this._renderer=n,this.tabindex=-1,this.role=\"dialog\",this.modla=!0,this.isShown=!1,this.isModalHiding=!1,this.mdbModalService=Yd.serviceInstance,this._element=e,this.config=Object.assign({},t)}return t.prototype.onClick=function(t){this.config.ignoreBackdropClick||\"static\"===this.config.backdrop||t.target!==this._element.nativeElement||(this.mdbModalService.setDismissReason(\"backdrop-click\"),this.hide())},t.prototype.onEsc=function(){this.config.keyboard&&this.level===this.mdbModalService.getModalsCount()&&(this.mdbModalService.setDismissReason(\"esc\"),this.hide())},t.prototype.ngOnInit=function(){var t=this;this.isAnimated&&this._renderer.setElementClass(this._element.nativeElement,\"fade\",!0),this._renderer.setElementStyle(this._element.nativeElement,\"display\",\"block\"),setTimeout(function(){t.isShown=!0,t._renderer.setElementClass(t._element.nativeElement,jd()?\"in\":\"show\",!0)},this.isAnimated?150:0),document&&document.body&&(1===this.mdbModalService.getModalsCount()&&(this.mdbModalService.checkScrollbar(),this.mdbModalService.setScrollbar()),this._renderer.setElementClass(document.body,\"modal-open\",!0))},t.prototype.ngOnDestroy=function(){this.isShown&&this.hide()},t.prototype.hide=function(){var t=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.setElementClass(this._element.nativeElement,jd()?\"in\":\"show\",!1),setTimeout(function(){t.isShown=!1,document&&document.body&&1===t.mdbModalService.getModalsCount()&&t._renderer.setElementClass(document.body,\"modal-open\",!1),t.mdbModalService.hide(t.level),t.isModalHiding=!1},this.isAnimated?300:0))},t}(),Zd=function(){function t(t,e,n,r){this.clf=t,this.el=e,this.v=n,this.r=r,this.config=zd,this.onShow=new pn,this.onShown=new pn,this.onHide=new pn,this.onHidden=new pn,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=\"\",this.loaders=[],this._backdropLoader=this.clf.createLoader(this.el,this.v,this.r),Yd.serviceInstance=this}return t.prototype.show=function(t,e){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},zd,e),this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)},t.prototype.hide=function(t){var e=this;1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1?this.modalsCount-1:0,setTimeout(function(){e._hideModal(t),e.removeLoaders(t)},this.config.animated?150:0)},t.prototype._showBackdrop=function(){var t=this.config.backdrop||\"static\"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(Xd).to(\"body\").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))},t.prototype._hideBackdrop=function(){var t=this;this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(function(){return t.removeBackdrop()},this.config.animated?150:0))},t.prototype._showModal=function(t){var e=this.loaders[this.loaders.length-1],n=new Kd,r=e.provide({provide:Gd,useValue:this.config}).provide({provide:Kd,useValue:n}).attach(Jd).to(\"body\").show({content:t,isAnimated:this.config.animated});return r.instance.level=this.getModalsCount(),n.hide=function(){r.instance.hide()},n.content=e.getInnerComponent()||null,n},t.prototype._hideModal=function(t){var e=this.loaders[t-1];e&&e.hide()},t.prototype.getModalsCount=function(){return this.modalsCount},t.prototype.setDismissReason=function(t){this.lastDismissReason=t},t.prototype.removeBackdrop=function(){this._backdropLoader.hide(),this.backdropRef=null},t.prototype.checkScrollbar=function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},t.prototype.setScrollbar=function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue(\"padding-right\")||\"0\",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+\"px\"))},t.prototype.resetScrollbar=function(){document.body.style.paddingRight=this.originalBodyPadding+\"px\"},t.prototype.getScrollbarWidth=function(){var t=document.createElement(\"div\");t.className=\"modal-scrollbar-measure\",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},t.prototype._createLoaders=function(){var t=this.clf.createLoader(this.el,this.v,this.r);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)},t.prototype.removeLoaders=function(t){this.loaders.splice(t-1,1),this.loaders.forEach(function(t,e){t.instance.level=e+1})},t.prototype.copyEvent=function(t,e){var n=this;t.subscribe(function(){e.emit(n.lastDismissReason)})},t}(),$d=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Zd,Dd,Rd]}},t}(),ty=function(){this.placement=\"top\",this.triggers=\"hover focus\"},ey=function(){function t(t){this.show=!this.isBs3,Object.assign(this,t)}return Object.defineProperty(t.prototype,\"isBs3\",{get:function(){return jd()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.classMap={in:!1,fade:!1},this.classMap[this.placement]=!0,this.classMap[\"tooltip-\"+this.placement]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.popupClass&&(this.classMap[this.popupClass]=!0)},t}(),ny=function(){function t(t,e,n,r,i){this.tooltipChange=new pn,this.delay=0,this.fadeDuration=150,this._tooltip=r.createLoader(n,t,e).provide({provide:ty,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return Object.defineProperty(t.prototype,\"isOpen\",{get:function(){return this._tooltip.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._tooltip.listen({triggers:this.triggers,show:function(){return t.show()}}),this.tooltipChange.subscribe(function(e){e||t._tooltip.hide()})},t.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},t.prototype.show=function(){var t=this;if(!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.mdbTooltip){var e=function(){return t._tooltip.attach(ey).to(t.container).position({attachment:t.placement}).show({content:t.mdbTooltip,placement:t.placement})};this.delay?this._delayTimeoutId=setTimeout(function(){e()},this.delay):e()}},t.prototype.hide=function(){var t=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance.classMap.in=!1,setTimeout(function(){t._tooltip.hide()},this.fadeDuration))},t.prototype.dispose=function(){this._tooltip.dispose()},t.prototype.ngOnDestroy=function(){this._tooltip.dispose()},t}();!function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([function(t,e){var n=\" __\"+e+\"Value\";Object.defineProperty(t,e,{get:function(){return this[n]},set:function(t){var r=this[n];this[n]=t,r!==t&&this[e+\"Change\"]&&this[e+\"Change\"].emit(t)}})},function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(\"design:type\",e)}(0,Object)],ny.prototype,\"mdbTooltip\",void 0);var ry=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[ty,Dd,Rd]}},t}(),iy=function(){this.placement=\"top\",this.triggers=\"click\"},oy=function(){function t(t){this.show=\"!isBs3\",this.role=\"tooltip\",Object.assign(this,t)}return Object.defineProperty(t.prototype,\"isBs3\",{get:function(){return jd()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.class=\"popover-fadeIn popover in popover-\"+this.placement+\" \"+this.placement+\" bs-popover-\"+this.placement},t}(),ay=function(){function t(t,e,n,r,i){this._popover=i.createLoader(t,n,e).provide({provide:iy,useValue:r}),Object.assign(this,r),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden}return Object.defineProperty(t.prototype,\"isOpen\",{get:function(){return this._popover.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._popover.isShown||(this._popover.attach(oy).to(this.container).position({attachment:this.placement}).show({content:this.mdbPopover,placement:this.placement,title:this.popoverTitle}),this.isOpen=!0)},t.prototype.hide=function(){this.isOpen&&(this._popover.hide(),this.isOpen=!1)},t.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},t.prototype.ngOnInit=function(){var t=this;this._popover.listen({triggers:this.triggers,show:function(){return t.show()}})},t.prototype.dispose=function(){this._popover.dispose()},t.prototype.ngOnDestroy=function(){this._popover.dispose()},t}(),sy=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[iy,Dd,Rd]}},t}(),uy=function(){function t(t){this.el=t}return t.prototype.click=function(t){if(!this.el.nativeElement.classList.contains(\"disabled\")){var e=this.el.nativeElement;e.classList.contains(\"waves-effect\")||(e.className+=\" waves-effect\");var n=t.clientX-e.getBoundingClientRect().left,r=t.clientY-e.getBoundingClientRect().top,i=document.createElement(\"div\");i.className+=\"waves-ripple waves-rippling\";var o=e.appendChild(i),a=n+\"px\";i.style.top=r+\"px\",i.style.left=a;var s=\"scale(\"+e.clientWidth/100*3+\") translate(0,0)\";i.style.webkitTransform=s,i.style.transform=s,i.style.opacity=\"1\",i.style.webkitTransitionDuration=\"750ms\",i.style.transitionDuration=\"750ms\",this.removeRipple(e,o)}},t.prototype.removeRipple=function(t,e){e.classList.remove(\"waves-rippling\"),setTimeout(function(){e.style.opacity=\"0\",setTimeout(function(){t.removeChild(e)},750)},200)},t}(),ly=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),cy=function(){},hy=function(){},fy=di({encapsulation:2,styles:[],data:{}});function py(t){return la(0,[ea(null,1),(t()(),Hi(0,null,null,0))],null,null)}function dy(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"button\",[[\"class\",\"navbar-toggler\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.toggle(n)&&r),r},null,null)),(t()(),Wi(1,0,null,null,0,\"span\",[[\"class\",\"navbar-toggler-icon\"]],null,null,null,null,null))],null,null)}function yy(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,1,null,dy)),Ro(2,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,0!==e.component.el.nativeElement.children.length)},null)}function my(t){return la(0,[Yo(402653184,1,{el:0}),Yo(402653184,2,{mobile:0}),Yo(402653184,3,{navbar:0}),Yo(402653184,4,{container:0}),(t()(),Wi(4,0,[[3,0],[\"nav\",1]],null,14,\"nav\",[],[[8,\"className\",0]],null,null,null,null)),(t()(),Wi(5,0,[[4,0],[\"container\",1]],null,13,\"div\",[],null,null,null,null,null)),Ro(6,278528,null,0,vu,[mr,gr,Un,jn],{ngClass:[0,\"ngClass\"]},null),ia(7,{container:0}),Ro(8,278528,null,0,Tu,[gr,Un,jn],{ngStyle:[0,\"ngStyle\"]},null),ia(9,{display:0}),ea(null,0),(t()(),Hi(16777216,null,null,1,null,py)),Ro(12,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Hi(16777216,null,null,1,null,yy)),Ro(14,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(15,0,[[1,0],[\"navbar\",1]],null,3,\"div\",[[\"class\",\"navbar-collapse collapse\"]],[[4,\"height\",null]],null,null,null,null)),Ro(16,278528,null,0,vu,[mr,gr,Un,jn],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),ia(17,{collapse:0,show:1,collapsing:2}),ea(null,2)],function(t,e){var n=e.component;t(e,6,0,t(e,7,0,n.containerInside)),t(e,8,0,t(e,9,0,n.displayStyle)),t(e,12,0,1==n.doubleNav),t(e,14,0,0==n.doubleNav),t(e,16,0,\"navbar-collapse collapse\",t(e,17,0,n.collapse,n.showClass,n.collapsing))},function(t,e){var n=e.component;t(e,4,0,Bi(1,\"\",n.SideClass,\"\")),t(e,15,0,n.height)})}var gy=di({encapsulation:2,styles:[],data:{}});function vy(t){return la(2,[(t()(),Wi(0,0,null,null,1,\"div\",[],[[2,\"dropup\",null],[2,\"dropdown\",null],[2,\"show\",null],[2,\"open\",null]],null,null,null,null)),ea(null,0)],null,function(t,e){var n=e.component;t(e,0,0,\"up\"===n.direction,\"down\"===n.direction,n.isOpen,n.isOpen)})}var by=uo(\"mdb-dropdown-container\",Ld,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"mdb-dropdown-container\",[],[[4,\"display\",null],[4,\"position\",null]],null,null,vy,gy)),Ro(1,180224,null,0,Ld,[Md],null,null)],null,function(t,e){t(e,0,0,wo(e,1).display,wo(e,1).position)})},{},{},[\"*\"]),wy=di({encapsulation:2,styles:[],data:{}});function _y(t){return la(0,[],null,null)}var Ey=uo(\"mdb-modal-backdrop\",Xd,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"mdb-modal-backdrop\",[],[[2,\"modal-backdrop\",null]],null,null,_y,wy)),Ro(1,114688,null,0,Xd,[Un,Ln],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,wo(e,1).classNameBackDrop)})},{},{},[]),Sy=di({encapsulation:2,styles:[],data:{}});function Cy(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"div\",[[\"role\",\"document\"]],[[8,\"className\",0]],null,null,null,null)),(t()(),Wi(1,0,null,null,1,\"div\",[[\"class\",\"modal-content\"]],null,null,null,null,null)),ea(null,0)],null,function(t,e){var n=e.component;t(e,0,0,\"modal-dialog\"+(n.config.class?\" \"+n.config.class:\"\"))})}var Ty=uo(\"mdb-modal-container\",Jd,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"mdb-modal-container\",[],[[8,\"tabIndex\",0],[8,\"role\",0],[2,\"modal\",null]],[[null,\"click\"],[\"window\",\"keydown.esc\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,1).onClick(n)&&r),\"window:keydown.esc\"===e&&(r=!1!==wo(t,1).onEsc()&&r),r},Cy,Sy)),Ro(1,245760,null,0,Jd,[Gd,Un,Ln],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,wo(e,1).tabindex,wo(e,1).role,wo(e,1).modla)})},{},{},[\"*\"]),Iy=di({encapsulation:2,styles:[],data:{}});function ky(t){return la(2,[(t()(),Wi(0,0,null,null,0,\"div\",[[\"class\",\"tooltip-arrow\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,1,\"div\",[[\"class\",\"tooltip-inner\"]],null,null,null,null,null)),ea(null,0)],null,null)}var Ay=uo(\"mdb-tooltip-container\",ey,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"mdb-tooltip-container\",[],[[8,\"className\",0],[2,\"show\",null]],null,null,ky,Iy)),Ro(1,4243456,null,0,ey,[ty],null,null)],null,function(t,e){t(e,0,0,\"tooltip-fadeIn tooltip in tooltip-\"+wo(e,1).placement,wo(e,1).show)})},{},{},[\"*\"]),Oy=di({encapsulation:2,styles:[],data:{}});function Ny(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"h3\",[[\"class\",\"popover-header\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.title)})}function xy(t){return la(2,[(t()(),Hi(16777216,null,null,1,null,Ny)),Ro(1,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(2,0,null,null,1,\"div\",[[\"class\",\"popover-body\"]],null,null,null,null,null)),ea(null,0)],function(t,e){t(e,1,0,e.component.title)},null)}var Py=uo(\"mdb-popover-container\",oy,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"mdb-popover-container\",[],[[2,\"show\",null],[1,\"role\",0],[8,\"className\",0]],null,null,xy,Oy)),Ro(1,114688,null,0,oy,[iy],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,wo(e,1).show,wo(e,1).role,wo(e,1).class)})},{placement:\"placement\",title:\"title\"},{},[\"*\"]),Ry=di({encapsulation:2,styles:[],data:{}});function Dy(t){return la(0,[ea(null,0)],null,null)}var My=di({encapsulation:2,styles:[],data:{}});function Ly(t){return la(0,[ea(null,0)],null,null)}function Vy(t,e){return\"function\"==typeof e?function(n){return n.pipe(Vy(function(n,r){return Q(t(n,r)).pipe(W(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Fy(t))}}var Fy=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new jy(t,this.project))},t}(),jy=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=q(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(H),Uy=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error(\"executing a cancelled action\");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(_))),By=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),qy=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(function(t){function e(n,r){void 0===r&&(r=By.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(By)))(Uy),Hy=(new dt(\"angularfire2.realtimeDatabaseURL\"),function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return qy.schedule.apply(qy,t)})},t.prototype.keepUnstableUntilFirst=function(t){var e=this;return Vu(this.platformId)?new N(function(n){var r=function(){},i=Zone.current.scheduleMacroTask(\"firebaseZoneBlock\",r,{},r,r);return t.pipe(yl()).subscribe(function(){return e.zone.runOutsideAngular(function(){return i.invoke()})}),t.subscribe(n)}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new N(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}()),Wy=n(\"Wcq6\"),Gy=new dt(\"angularfire2.app.options\"),Ky=new dt(\"angularfire2.app.nameOrConfig\"),zy=function(){};function Qy(t,e){var n=\"object\"==typeof e&&e||{};return n.name=n.name||\"string\"==typeof e&&e||\"[DEFAULT]\",Wy.apps.filter(function(t){return t&&t.name===n.name})[0]||Object(Wy.initializeApp)(t,n)}new jt;var Xy=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:Gy,useValue:e},{provide:Ky,useValue:n}]}},t}(),Yy=function(){return function(t,e,n,r){var i=this;this.zone=r;var o=new Hy(r,n);this.auth=r.runOutsideAngular(function(){return Qy(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new N(function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new N(function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Vy(function(t){return t?Q(t.getIdToken()):Bu(null)})),this.idTokenResult=this.user.pipe(Vy(function(t){return t?Q(t.getIdTokenResult()):Bu(null)}))}}(),Jy=(n(\"LOEa\"),function(){}),Zy=function(){function t(t,e){var n=this;this.af=t,this.router=e,this.af.authState.subscribe(function(t){t&&n.router.navigateByUrl(\"/members\")})}return t.prototype.loginFb=function(){this.af.auth.signInWithPopup(new Wy.auth.FacebookAuthProvider)},t.prototype.loginGoogle=function(){this.af.auth.signInWithPopup(new Wy.auth.GoogleAuthProvider)},t.prototype.ngOnInit=function(){},t}(),$y=di({encapsulation:0,styles:[[\"#lock[_ngcontent-%COMP%]{width:20%;margin:1.5em auto;display:block}\"]],data:{}});function tm(t){return la(0,[(t()(),Wi(0,0,null,null,24,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,23,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,20,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,0,\"img\",[[\"alt\",\"Card image cap\"],[\"class\",\"img-fluid\"],[\"id\",\"lock\"],[\"src\",\"./assets/images/lock.svg\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,18,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(6,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-2\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Log in\"])),(t()(),Wi(8,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue btn-lg btn-block waves-light mb-4\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,9).click(n)&&r),\"click\"===e&&(r=!1!==i.loginFb()&&r),r},null,null)),Ro(9,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Login With Facebook\"])),(t()(),Wi(11,0,null,null,1,\"button\",[[\"class\",\"btn btn-red btn-lg btn-block waves-light mb-4\"],[\"id\",\"google\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.loginGoogle()&&r),r},null,null)),(t()(),aa(-1,null,[\"Login With Google\"])),(t()(),Wi(13,0,null,null,2,\"button\",[[\"class\",\"btn btn-grey btn-lg btn-block waves-light mb-4\"],[\"id\",\"email\"],[\"routerLink\",\"/login-email\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,14).onClick()&&r),r},null,null)),Ro(14,16384,null,0,Mf,[Pf,Kh,[8,null],jn,Un],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Email\"])),(t()(),Wi(16,0,null,null,7,\"button\",[[\"class\",\"btn btn-default btn-lg btn-block waves-light mb-4\"],[\"routerLink\",\"/signup\"],[\"routerLinkActive\",\"active\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,17).onClick()&&r),r},null,null)),Ro(17,16384,[[1,4]],0,Mf,[Pf,Kh,[8,null],jn,Un],{routerLink:[0,\"routerLink\"]},null),Ro(18,1720320,null,2,Ff,[Pf,Un,jn,Xn],{routerLinkActive:[0,\"routerLinkActive\"]},null),Yo(603979776,1,{links:1}),Yo(603979776,2,{linksWithHrefs:1}),(t()(),aa(-1,null,[\" No account? \"])),(t()(),Wi(22,0,null,null,1,\"strong\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Create one here\"])),(t()(),Wi(24,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){t(e,14,0,\"/login-email\"),t(e,17,0,\"/signup\"),t(e,18,0,\"active\")},null)}var em=uo(\"app-login\",Zy,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-login\",[],null,null,null,tm,$y)),Ro(1,114688,null,0,Zy,[Yy,Pf],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),nm=function(){function t(t,e){this.af=t,this.router=e,this.state=\"\"}return t.prototype.onSubmit=function(t){var e=this;t.valid&&(console.log(t.value),this.af.auth.createUserWithEmailAndPassword(t.value.email,t.value.password).then(function(t){console.log(t),e.router.navigate([\"/members\"])}).catch(function(t){e.error=t}))},t.prototype.ngOnInit=function(){},t}(),rm=di({encapsulation:0,styles:[[\"\"]],data:{}});function im(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function om(t){return la(0,[(t()(),Wi(0,0,null,null,44,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,43,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,40,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,39,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,38,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,7).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,7).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.onSubmit(wo(t,7))&&r),r},null,null)),Ro(6,16384,null,0,pd,[],null,null),Ro(7,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(9,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(10,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Sign up\"])),(t()(),Hi(16777216,null,null,1,null,im)),Ro(13,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(14,0,null,null,10,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,0,\"i\",[[\"class\",\"fa fa-envelope prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,6,\"input\",[[\"class\",\"form-control\"],[\"id\",\"materialFormCardEmailEx\"],[\"mdbInputDirective\",\"\"],[\"name\",\"email\"],[\"type\",\"email\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModel\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,17)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,17).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,17)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,17)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,22).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,22).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,22).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,22).onkeydown(n)&&r),\"ngModel\"===e&&(r=!1!==i.email&&r),r},null,null)),Ro(17,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(19,671744,null,0,ld,[[2,fp],[8,null],[8,null],[6,wp]],{name:[0,\"name\"]},null),Mo(2048,null,Ap,null,[ld]),Ro(21,16384,null,0,Xp,[[4,Ap]],null,null),Ro(22,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"]},null),(t()(),Wi(23,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardEmailEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Your email\"])),(t()(),Wi(25,0,null,null,10,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(26,0,null,null,0,\"i\",[[\"class\",\"fa fa-lock prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(27,0,null,null,6,\"input\",[[\"class\",\"form-control\"],[\"id\",\"materialFormCardPasswordEx\"],[\"mdbInputDirective\",\"\"],[\"name\",\"password\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModel\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,28)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,28).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,28)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,28)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,33).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,33).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,33).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,33).onkeydown(n)&&r),\"ngModel\"===e&&(r=!1!==i.password&&r),r},null,null)),Ro(28,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(30,671744,null,0,ld,[[2,fp],[8,null],[8,null],[6,wp]],{name:[0,\"name\"]},null),Mo(2048,null,Ap,null,[ld]),Ro(32,16384,null,0,Xp,[[4,Ap]],null,null),Ro(33,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"]},null),(t()(),Wi(34,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Your password\"])),(t()(),Wi(36,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(37,0,null,null,2,\"button\",[[\"class\",\"btn btn-cyan waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,38).click(n)&&r),r},null,null)),Ro(38,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Create my account\"])),(t()(),Wi(40,0,null,null,3,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(41,0,null,null,2,\"a\",[[\"id\",\"goback\"],[\"routerLink\",\"/login\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,42).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(42,671744,null,0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(44,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){t(e,13,0,e.component.error),t(e,19,0,\"email\"),t(e,22,0,\"\"),t(e,30,0,\"password\"),t(e,33,0,\"\"),t(e,42,0,\"/login\")},function(t,e){t(e,5,0,wo(e,9).ngClassUntouched,wo(e,9).ngClassTouched,wo(e,9).ngClassPristine,wo(e,9).ngClassDirty,wo(e,9).ngClassValid,wo(e,9).ngClassInvalid,wo(e,9).ngClassPending),t(e,16,0,wo(e,21).ngClassUntouched,wo(e,21).ngClassTouched,wo(e,21).ngClassPristine,wo(e,21).ngClassDirty,wo(e,21).ngClassValid,wo(e,21).ngClassInvalid,wo(e,21).ngClassPending),t(e,27,0,wo(e,32).ngClassUntouched,wo(e,32).ngClassTouched,wo(e,32).ngClassPristine,wo(e,32).ngClassDirty,wo(e,32).ngClassValid,wo(e,32).ngClassInvalid,wo(e,32).ngClassPending),t(e,37,0,!wo(e,7).valid),t(e,41,0,wo(e,42).target,wo(e,42).href)})}var am=uo(\"app-signup\",nm,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-signup\",[],null,null,null,om,rm)),Ro(1,114688,null,0,nm,[Yy,Pf],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),sm=function(){function t(t,e){var n=this;this.af=t,this.router=e,this.state=\"\",this.af.authState.subscribe(function(t){t&&n.router.navigateByUrl(\"/members\")})}return t.prototype.onSubmit=function(t){var e=this;t.valid&&this.af.auth.signInWithEmailAndPassword(t.value.email,t.value.password).catch(function(t){t.success||(e.error=t.message)})},t.prototype.ngOnInit=function(){},t}(),um=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}}]}});function lm(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function cm(t){return la(0,[(t()(),Wi(0,0,null,null,48,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,47,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,44,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,43,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,42,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,7).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,7).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.onSubmit(wo(t,7))&&r),r},null,null)),Ro(6,16384,null,0,pd,[],null,null),Ro(7,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(9,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(10,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Sign in\"])),(t()(),Hi(16777216,null,null,1,null,lm)),Ro(13,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(14,0,null,null,12,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,0,\"i\",[[\"class\",\"fa fa-envelope prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,8,\"input\",[[\"class\",\"form-control\"],[\"id\",\"materialFormCardEmailEx\"],[\"mdbInputDirective\",\"\"],[\"name\",\"email\"],[\"required\",\"\"],[\"type\",\"email\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModel\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,17)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,17).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,17)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,17)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,24).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,24).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,24).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,24).onkeydown(n)&&r),\"ngModel\"===e&&(r=!1!==i.email&&r),r},null,null)),Ro(17,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(18,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(21,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"]},null),Mo(2048,null,Ap,null,[ld]),Ro(23,16384,null,0,Xp,[[4,Ap]],null,null),Ro(24,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"]},null),(t()(),Wi(25,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardEmailEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Your email\"])),(t()(),Wi(27,0,null,null,12,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(28,0,null,null,0,\"i\",[[\"class\",\"fa fa-lock prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(29,0,null,null,8,\"input\",[[\"class\",\"form-control\"],[\"id\",\"materialFormCardPasswordEx\"],[\"mdbInputDirective\",\"\"],[\"name\",\"password\"],[\"required\",\"\"],[\"type\",\"password\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModel\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,30)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,30).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,30)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,30)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,37).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,37).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,37).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,37).onkeydown(n)&&r),\"ngModel\"===e&&(r=!1!==i.password&&r),r},null,null)),Ro(30,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(31,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(34,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"]},null),Mo(2048,null,Ap,null,[ld]),Ro(36,16384,null,0,Xp,[[4,Ap]],null,null),Ro(37,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"]},null),(t()(),Wi(38,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Your password\"])),(t()(),Wi(40,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(41,0,null,null,2,\"button\",[[\"class\",\"btn btn-grey waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,42).click(n)&&r),r},null,null)),Ro(42,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Sign in\"])),(t()(),Wi(44,0,null,null,3,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(45,0,null,null,2,\"a\",[[\"id\",\"goback\"],[\"routerLink\",\"/login\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,46).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(46,671744,null,0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(48,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){t(e,13,0,e.component.error),t(e,18,0,\"\"),t(e,21,0,\"email\"),t(e,24,0,\"\"),t(e,31,0,\"\"),t(e,34,0,\"password\"),t(e,37,0,\"\"),t(e,46,0,\"/login\")},function(t,e){t(e,5,0,wo(e,9).ngClassUntouched,wo(e,9).ngClassTouched,wo(e,9).ngClassPristine,wo(e,9).ngClassDirty,wo(e,9).ngClassValid,wo(e,9).ngClassInvalid,wo(e,9).ngClassPending),t(e,16,0,wo(e,18).required?\"\":null,wo(e,23).ngClassUntouched,wo(e,23).ngClassTouched,wo(e,23).ngClassPristine,wo(e,23).ngClassDirty,wo(e,23).ngClassValid,wo(e,23).ngClassInvalid,wo(e,23).ngClassPending),t(e,29,0,wo(e,31).required?\"\":null,wo(e,36).ngClassUntouched,wo(e,36).ngClassTouched,wo(e,36).ngClassPristine,wo(e,36).ngClassDirty,wo(e,36).ngClassValid,wo(e,36).ngClassInvalid,wo(e,36).ngClassPending),t(e,41,0,!wo(e,7).valid),t(e,45,0,wo(e,46).target,wo(e,46).href)})}var hm=uo(\"app-email\",sm,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-email\",[],[[40,\"@moveIn\",0]],null,null,cm,um)),Ro(1,114688,null,0,sm,[Yy,Pf],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})},{},{},[]);function fm(t){return function(t){return new N(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(ft())}function pm(t){return fm(t).pipe(W(function(t){return{payload:t,type:\"query\"}}))}function dm(t){return pm(t).pipe(W(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var ym=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(dm(this.query))).pipe(W(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Wu(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(dm(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(gl(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=[\"added\",\"removed\",\"modified\"]),t}(t),n=function(t,e){return pm(t).pipe(W(function(t){return t.payload.docChanges()}),gl(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case\"added\":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case\"modified\":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case\"removed\":t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),W(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=pm(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(W(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new mm(this.ref.doc(t),this.afs)},t}(),mm=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=wm(this.ref.collection(t),e);return new ym(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=fm(this.ref).pipe(W(function(t){return{payload:t,type:\"value\"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(W(function(t){return t.payload.data()}))},t}(),gm=new dt(\"angularfire2.enableFirestorePersistence\"),vm=new dt(\"angularfire2.firestore.settings\"),bm={timestampsInSnapshots:!0};function wm(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var _m=function(){function t(t,e,n,r,i,o){var a=this;this.scheduler=new Hy(o,i),this.firestore=o.runOutsideAngular(function(){var n=Qy(t,e).firestore();return n.settings(r||bm),n}),this.persistenceEnabled$=o.runOutsideAngular(function(){return n?Q(a.firestore.enablePersistence().then(function(){return!0},function(){return!1})):Bu(!1)}).pipe(al(function(){return Bu(!1)}))}return t.prototype.collection=function(t,e){var n=wm(\"string\"==typeof t?this.firestore.collection(t):t,e);return new ym(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e=\"string\"==typeof t?this.firestore.doc(t):t,new mm(e,this)},t.prototype.createId=function(){return this.firestore.collection(\"_\").doc().id},t}(),Em=(n(\"6Joi\"),function(){function t(){}return t.enablePersistence=function(){return{ngModule:t,providers:[{provide:gm,useValue:!0}]}},t}());N.prototype.map=function(t,e){return W(t,e)(this)};var Sm=function(){function t(t,e,n){var r=this;this.af=t,this.router=e,this.afs=n,this.state=\"\",this.af.authState.subscribe(function(t){t?(r.name=t.displayName,r.photoUrl=t.photoURL,r.acctId=t.uid,r.getPlayerInfo(),r.getRooms()):r.router.navigateByUrl(\"/login\")})}return t.prototype.getPlayerInfo=function(){this.player=this.afs.doc(\"Players/\"+this.acctId),this.currentPlayer=this.player.valueChanges()},t.prototype.getRooms=function(){this.roomsCollection=this.afs.collection(\"Rooms\"),this.rooms=this.roomsCollection.snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return{id:t.payload.doc.id,data:e}})})},t.prototype.goToRoom=function(t){this.router.navigate([\"/room\",{roomId:t}])},t.prototype.goToLockedRoom=function(t){this.router.navigate([\"/room-sign-in\",{roomId:t}])},t.prototype.deleteRoom=function(t){this.roomDoc=this.afs.doc(\"Rooms/\"+t),this.roomDoc.delete()},t.prototype.logout=function(){this.af.auth.signOut(),this.router.navigateByUrl(\"/login\")},t.prototype.ngOnInit=function(){},t}(),Cm=di({encapsulation:0,styles:[[\".img-thumbnail[_ngcontent-%COMP%]{max-height:150px;max-width:150px;-ms-grid-row-align:center;align-self:center}\"]],data:{}});function Tm(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"a\",[[\"class\",\"btn btn-primary waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,1).click(n)&&r),\"click\"===e&&(r=!1!==i.goToRoom(t.parent.context.$implicit.id)&&r),r},null,null)),Ro(1,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Join!\"]))],null,null)}function Im(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"a\",[[\"class\",\"btn btn-primary waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,1).click(n)&&r),\"click\"===e&&(r=!1!==i.goToLockedRoom(t.parent.context.$implicit.id)&&r),r},null,null)),Ro(1,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Join! (locked)\"]))],null,null)}function km(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"a\",[[\"class\",\"btn btn-danger waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,1).click(n)&&r),\"click\"===e&&(r=!1!==i.deleteRoom(t.parent.context.$implicit.id)&&r),r},null,null)),Ro(1,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Delete Room\"]))],null,null)}function Am(t){return la(0,[(t()(),Wi(0,0,null,null,18,\"div\",[[\"class\",\"card col-md-12\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,3,\"div\",[[\"class\",\"view hm-white-slight waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,2).click(n)&&r),r},null,null)),Ro(2,16384,null,0,uy,[Un],null,null),(t()(),Wi(3,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),Wi(4,0,null,null,0,\"div\",[[\"class\",\"mask\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,13,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(6,0,null,null,1,\"h4\",[[\"class\",\"card-title\"]],null,null,null,null,null)),(t()(),aa(7,null,[\"\",\"\"])),(t()(),Wi(8,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),aa(9,null,[\"Players: \",\"\"])),(t()(),Wi(10,0,null,null,0,\"br\",[],null,null,null,null,null)),(t()(),Wi(11,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),aa(12,null,[\"Game: \",\"\"])),(t()(),Wi(13,0,null,null,0,\"hr\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,1,null,Tm)),Ro(15,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),(t()(),Hi(0,[[\"lockedRoom\",2]],null,0,null,Im)),(t()(),Hi(16777216,null,null,1,null,km)),Ro(18,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,15,0,!e.context.$implicit.data.isLocked,wo(e,16)),t(e,18,0,e.context.$implicit.data.admin==e.parent.context.$implicit.acctId)},function(t,e){t(e,7,0,e.context.$implicit.data.roomName),t(e,9,0,e.context.$implicit.data.playerCount),t(e,12,0,e.context.$implicit.data.gameType)})}function Om(t){return la(0,[(t()(),Wi(0,0,null,null,21,\"main\",[],null,null,null,null,null)),(t()(),Wi(1,0,null,null,20,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,7,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,4,\"div\",[[\"class\",\"col-4 mt-4\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,3,\"div\",[[\"class\",\"card\"]],null,null,null,null,null)),(t()(),Wi(6,0,null,null,0,\"img\",[[\"class\",\"img-thumbnail\"]],[[8,\"src\",4]],null,null,null,null)),(t()(),Wi(7,0,null,null,1,\"strong\",[[\"class\",\"text-center\"]],null,null,null,null,null)),(t()(),aa(8,null,[\" Hey \",\"!\"])),(t()(),Wi(9,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(10,0,null,null,7,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(11,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(12,0,null,null,4,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(13,0,null,null,3,\"button\",[[\"class\",\"btn btn-pink btn-lg btn-block waves-light mb-4 mt-4\"],[\"mdbWavesEffect\",\"\"],[\"routerLink\",\"/room-form\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,14).onClick()&&r),\"click\"===e&&(r=!1!==wo(t,15).click(n)&&r),r},null,null)),Ro(14,16384,null,0,Mf,[Pf,Kh,[8,null],jn,Un],{routerLink:[0,\"routerLink\"]},null),Ro(15,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Create Room\"])),(t()(),Wi(17,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(18,0,null,null,3,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Hi(16777216,null,null,2,null,Am)),Ro(20,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn])],function(t,e){var n=e.component;t(e,14,0,\"/room-form\"),t(e,20,0,hi(e,20,0,wo(e,21).transform(n.rooms)))},function(t,e){t(e,6,0,Bi(1,\"\",e.component.photoUrl,\"\")),t(e,8,0,e.context.$implicit.UserName)})}function Nm(t){return la(0,[(t()(),Wi(0,0,null,null,15,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,14,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,11,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,1,\"h2\",[],null,null,null,null,null)),(t()(),aa(5,null,[\"Hey \",\"!\"])),(t()(),Wi(6,0,null,null,8,\"h3\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Looks like you haven't made a username yet! click \"])),(t()(),Wi(8,0,null,null,5,\"a\",[[\"class\",\"alc\"],[\"routerLink\",\"/registration\"],[\"routerLinkActive\",\"active\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(9,671744,[[3,4]],0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),Ro(10,1720320,null,2,Ff,[Pf,Un,jn,Xn],{routerLinkActive:[0,\"routerLinkActive\"]},null),Yo(603979776,2,{links:1}),Yo(603979776,3,{linksWithHrefs:1}),(t()(),aa(-1,null,[\"here\"])),(t()(),aa(-1,null,[\".\"])),(t()(),Wi(15,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){t(e,9,0,\"/registration\"),t(e,10,0,\"active\")},function(t,e){t(e,5,0,e.component.name),t(e,8,0,wo(e,9).target,wo(e,9).href)})}function xm(t){return la(0,[(t()(),Wi(0,0,null,null,15,\"mdb-navbar\",[[\"SideClass\",\"navbar fixed-top navbar-expand-lg navbar-dark blue scrolling-navbar ie-nav\"]],null,[[\"window\",\"resize\"],[\"document\",\"scroll\"]],function(t,e,n){var r=!0;return\"window:resize\"===e&&(r=!1!==wo(t,1).onResize(n)&&r),\"document:scroll\"===e&&(r=!1!==wo(t,1).onScroll(n)&&r),r},my,fy)),Ro(1,4308992,null,0,Id,[jn,Sd],{SideClass:[0,\"SideClass\"],containerInside:[1,\"containerInside\"]},null),(t()(),Wi(2,0,null,0,3,\"logo\",[],null,null,null,Ly,My)),Ro(3,49152,null,0,Td,[],null,null),(t()(),Wi(4,0,null,0,1,\"a\",[[\"class\",\"navbar-brand\"],[\"href\",\"/members\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Board Game Tracker\"])),(t()(),Wi(6,0,null,2,9,\"links\",[],null,null,null,Dy,Ry)),Ro(7,5292032,null,1,Cd,[Sd],null,null),Yo(603979776,1,{links:1}),(t()(),Wi(9,0,null,0,6,\"ul\",[[\"class\",\"navbar-nav mr-auto\"]],null,null,null,null,null)),(t()(),Wi(10,0,null,null,5,\"li\",[[\"class\",\"nav-item waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,11).click(n)&&r),r},null,null)),Ro(11,16384,null,0,uy,[Un],null,null),(t()(),Wi(12,0,null,null,3,\"a\",[[\"class\",\"nav-link\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),aa(-1,null,[\"Logout \"])),(t()(),Wi(14,0,null,null,1,\"span\",[[\"class\",\"sr-only\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"(current)\"])),(t()(),Hi(16777216,null,null,2,null,Om)),Ro(17,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),Do(131072,Nu,[Xn]),(t()(),Hi(0,[[\"nocontent\",2]],null,0,null,Nm))],function(t,e){var n=e.component;t(e,1,0,\"navbar fixed-top navbar-expand-lg navbar-dark blue scrolling-navbar ie-nav\",!1),t(e,17,0,hi(e,17,0,wo(e,18).transform(n.currentPlayer)),wo(e,19))},null)}var Pm=uo(\"app-members\",Sm,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-members\",[],null,null,null,xm,Cm)),Ro(1,114688,null,0,Sm,[Yy,Pf,_m],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Rm=function(){function t(t,e,n){var r=this;this.af=t,this.router=e,this.afs=n,this.af.authState.subscribe(function(t){t&&(r.userId=t.uid)})}return t.prototype.ngOnInit=function(){},t.prototype.addPlayer=function(){\"\"==this.UserName||void 0==this.UserName?this.error=\"Username can not be empty\":(this.afs.collection(\"Players\").doc(this.userId).set({UserName:this.UserName,isAdmin:!1,acctId:this.userId,totalWins:0,winPercent:0,gamesPlayed:0}),this.goHome())},t.prototype.goHome=function(){this.router.navigateByUrl(\"/members\")},t}(),Dm=di({encapsulation:0,styles:[[\"\"]],data:{}});function Mm(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Username can not be empty.\"]))],null,null)}function Lm(t){return la(0,[(t()(),Wi(0,0,null,null,23,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,22,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,19,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,18,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Create Username\"])),(t()(),Hi(16777216,null,null,1,null,Mm)),Ro(8,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(9,0,null,null,9,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(10,0,null,null,0,\"i\",[[\"class\",\"fa fa-envelope prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(11,0,null,null,6,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"UserName\"],[\"placeholder\",\"UserName\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,12)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,12).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,12)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,12)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,17).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,17).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,17).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,17).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.UserName=n)&&r),r},null,null)),Ro(12,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(14,671744,null,0,ld,[[8,null],[8,null],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(16,16384,null,0,Xp,[[4,Ap]],null,null),Ro(17,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(18,0,null,null,0,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardEmailEx\"]],null,null,null,null,null)),(t()(),Wi(19,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(20,0,null,null,2,\"button\",[[\"class\",\"btn btn-cyan waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,21).click(n)&&r),\"click\"===e&&(r=!1!==i.addPlayer()&&r),r},null,null)),Ro(21,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Create User Name\"])),(t()(),Wi(23,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.error),t(e,14,0,\"UserName\",n.UserName),t(e,17,0,\"\",\"UserName\")},function(t,e){t(e,11,0,wo(e,16).ngClassUntouched,wo(e,16).ngClassTouched,wo(e,16).ngClassPristine,wo(e,16).ngClassDirty,wo(e,16).ngClassValid,wo(e,16).ngClassInvalid,wo(e,16).ngClassPending)})}var Vm=uo(\"app-registration\",Rm,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-registration\",[],null,null,null,Lm,Dm)),Ro(1,114688,null,0,Rm,[Yy,Pf,_m],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Fm=function(){function t(){}return t.prototype.transform=function(t,e){var n=[];for(var r in t)n.push(r);return n},t}(),jm=function(){function t(){}return t.prototype.transform=function(t,e){var n=new Date(1e3*t.seconds);return(\"0\"+(n.getMonth()+1)).slice(-2)+\"/\"+(\"0\"+n.getDate()).slice(-2)+\"/\"+n.getFullYear()},t}(),Um=function(){function t(){}return t.prototype.transform=function(t,e){return JSON.parse(t)},t}(),Bm=function(){function t(t,e,n,r){this.af=t,this.router=e,this.afs=n,this.route=r,this.winTypes={},this.isInRoom=!0}return t.prototype.getRoomInfo=function(){var t=this;this.roomDoc=this.afs.doc(\"Rooms/\"+this.roomId),this.currentRoom=this.roomDoc.valueChanges(),this.currentRoom.subscribe(function(e){t.gameName=e.gameType,t.playerCount=e.playerCount,t.getGameTypeInfo()}),this.getGamesInfo()},t.prototype.getGameTypeInfo=function(){var t=this;this.gameDoc=this.afs.doc(\"Games/\"+this.gameName),this.gameVC=this.gameDoc.valueChanges(),this.gameVC.subscribe(function(e){t.gameType=e,t.setWinTypeObj()})},t.prototype.setWinTypeObj=function(){for(var t=this.gameType.minPlayers;t<=this.gameType.maxPlayers;t++)this.winTypes[t+\"PlayerWins\"]=0},t.prototype.getPlayerInfo=function(){var t=this;this.playerDoc=this.afs.doc(\"Players/\"+this.acctId),this.playerVC=this.playerDoc.valueChanges(),this.playerVC.subscribe(function(e){t.player=e,t.checkIfPlayerInRoom()})},t.prototype.getPlayersInfo=function(){this.playersCol=this.afs.collection(\"Rooms/\"+this.roomId+\"/Players/\",function(t){return t.orderBy(\"totalWins\",\"desc\")}),this.playersCol.ref.orderBy(\"date\"),this.players=this.playersCol.valueChanges()},t.prototype.getGamesInfo=function(){this.gamesCol=this.afs.collection(\"Rooms/\"+this.roomId+\"/Games/\",function(t){return t.orderBy(\"date\",\"desc\")}),this.games=this.gamesCol.valueChanges()},t.prototype.goHome=function(){this.router.navigateByUrl(\"/members\")},t.prototype.createGame=function(){this.router.navigate([\"/add-game\",{roomId:this.roomId}])},t.prototype.logout=function(){this.af.auth.signOut(),this.router.navigateByUrl(\"/login\")},t.prototype.checkIfPlayerInRoom=function(){var t=this;this.afs.doc(\"Rooms/\"+this.roomId+\"/Players/\"+this.acctId).ref.get().then(function(e){!0!==e.exists?(t.isInRoom=!1,t.afs.collection(\"Rooms/\"+t.roomId+\"/Players\").doc(t.acctId).set({UserName:t.player.UserName,isAdmin:!1,acctId:t.acctId,totalWins:0,winPercent:0,winTypes:t.winTypes,gamesPlayed:0}),t.afs.doc(\"Rooms/\"+t.roomId).update({playerCount:t.playerCount+1})):t.isInRoom=!0})},t.prototype.ngOnInit=function(){var t=this;this.route.paramMap.subscribe(function(e){var n=e.get(\"roomId\");t.roomId=n}),this.af.authState.subscribe(function(e){e?(t.name=e.displayName,t.photoUrl=e.photoURL,t.acctId=e.uid,t.getPlayerInfo(),t.getRoomInfo(),t.getPlayersInfo()):t.router.navigateByUrl(\"/login\")})},t}(),qm=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"moveInLeft\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(-100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s .2s ease-in-out\"}],options:null}],options:{}}]}});function Hm(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"li\",[],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\": \",\"\"]))],null,function(t,e){t(e,1,0,e.context.$implicit,e.parent.parent.context.$implicit.winTypes[e.context.$implicit])})}function Wm(t){return la(0,[(t()(),Wi(0,0,null,null,3,\"ul\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,2,null,Hm)),Ro(2,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),ra(3,1)],function(t,e){t(e,2,0,hi(e,2,0,t(e,3,0,wo(e.parent.parent.parent,0),e.parent.context.$implicit.winTypes)))},null)}function Gm(t){return la(0,[(t()(),Wi(0,0,null,null,15,\"tr\",[],null,null,null,null,null)),(t()(),Wi(1,0,null,null,1,\"th\",[[\"scope\",\"row\"]],null,null,null,null,null)),(t()(),aa(2,null,[\"\",\"\"])),(t()(),Wi(3,0,null,null,1,\"td\",[],null,null,null,null,null)),(t()(),aa(4,null,[\"\",\"\"])),(t()(),Hi(0,[[\"popTemplate\",2]],null,0,null,Wm)),(t()(),Wi(6,0,null,null,4,\"td\",[],null,null,null,null,null)),(t()(),aa(7,null,[\"\",\" \"])),(t()(),Wi(8,16777216,null,null,2,\"button\",[[\"class\",\"btn-sm btn-blue waves-light ml-4\"],[\"placement\",\"right\"],[\"popoverTitle\",\"Win Breakdown\"],[\"triggers\",\"focus\"],[\"type\",\"button\"]],null,null,null,null,null)),Ro(9,212992,null,0,ay,[Un,jn,Qn,iy,Dd],{mdbPopover:[0,\"mdbPopover\"],popoverTitle:[1,\"popoverTitle\"],placement:[2,\"placement\"],triggers:[3,\"triggers\"]},null),(t()(),aa(-1,null,[\"Win Breakdown\"])),(t()(),Wi(11,0,null,null,1,\"td\",[],null,null,null,null,null)),(t()(),aa(12,null,[\"\",\"\"])),(t()(),Wi(13,0,null,null,2,\"td\",[],null,null,null,null,null)),(t()(),aa(14,null,[\"\",\"\"])),ra(15,1)],function(t,e){t(e,9,0,wo(e,5),\"Win Breakdown\",\"right\",\"focus\")},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.UserName),t(e,7,0,e.context.$implicit.totalWins),t(e,12,0,e.context.$implicit.gamesPlayed),t(e,14,0,hi(e,14,0,t(e,15,0,wo(e.parent.parent,1),e.context.$implicit.totalWins/e.context.$implicit.gamesPlayed)))})}function Km(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"])),ra(2,1)],null,function(t,e){t(e,1,0,hi(e,1,0,t(e,2,0,wo(e.parent.parent.parent.parent,3),e.context.$implicit)).UserName)})}function zm(t){return la(0,[(t()(),Wi(0,0,null,null,2,\"ol\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,1,null,Km)),Ro(2,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.context.$implicit.players)},null)}function Qm(t){return la(0,[(t()(),Wi(0,0,null,null,11,\"tr\",[],null,null,null,null,null)),(t()(),Wi(1,0,null,null,2,\"td\",[],null,null,null,null,null)),(t()(),aa(2,null,[\"\",\"\"])),ra(3,1),(t()(),Hi(0,[[\"popTemplate\",2]],null,0,null,zm)),(t()(),Wi(5,0,null,null,4,\"td\",[],null,null,null,null,null)),(t()(),aa(6,null,[\"\",\" \"])),(t()(),Wi(7,16777216,null,null,2,\"button\",[[\"class\",\"btn-sm btn-blue waves-light ml-4\"],[\"placement\",\"right\"],[\"popoverTitle\",\"Whomst've played?\"],[\"triggers\",\"focus\"]],null,null,null,null,null)),Ro(8,212992,null,0,ay,[Un,jn,Qn,iy,Dd],{mdbPopover:[0,\"mdbPopover\"],popoverTitle:[1,\"popoverTitle\"],placement:[2,\"placement\"],triggers:[3,\"triggers\"]},null),(t()(),aa(-1,null,[\"Whomst've played?\"])),(t()(),Wi(10,0,null,null,1,\"td\",[],null,null,null,null,null)),(t()(),aa(11,null,[\"\",\"\"]))],function(t,e){t(e,8,0,wo(e,4),\"Whomst've played?\",\"right\",\"focus\")},function(t,e){t(e,2,0,hi(e,2,0,t(e,3,0,wo(e.parent.parent,2),e.context.$implicit.date))),t(e,6,0,e.context.$implicit.numPlayers),t(e,11,0,e.context.$implicit.winner)})}function Xm(t){return la(0,[(t()(),Wi(0,0,null,null,59,\"main\",[],null,null,null,null,null)),(t()(),Wi(1,0,null,null,58,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,8,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,5,\"div\",[[\"class\",\"col-4 mt-4\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,1,\"h2\",[[\"class\",\"text-center\"]],null,null,null,null,null)),(t()(),aa(6,null,[\"Welcome to \",\"!\"])),(t()(),Wi(7,0,null,null,0,\"br\",[],null,null,null,null,null)),(t()(),Wi(8,0,null,null,1,\"h4\",[[\"class\",\"text-center\"]],null,null,null,null,null)),(t()(),aa(9,null,[\"Game: \",\"\"])),(t()(),Wi(10,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(11,0,null,null,6,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(12,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(13,0,null,null,3,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(14,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue btn-lg btn-block waves-light mb-4 mt-4\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0,i=t.component;return\"click\"===e&&(r=!1!==wo(t,15).click(n)&&r),\"click\"===e&&(r=!1!==i.createGame()&&r),r},null,null)),Ro(15,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Log a game\"])),(t()(),Wi(17,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(18,0,null,null,22,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(19,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(20,0,null,null,19,\"div\",[[\"class\",\"col-md-12\"]],null,null,null,null,null)),(t()(),Wi(21,0,null,null,1,\"h3\",[[\"class\",\"text-center p-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Leaderboard\"])),(t()(),Wi(23,0,null,null,16,\"table\",[[\"class\",\"table\"]],null,null,null,null,null)),(t()(),Wi(24,0,null,null,11,\"thead\",[[\"class\",\"blue-grey lighten-4\"]],null,null,null,null,null)),(t()(),Wi(25,0,null,null,10,\"tr\",[],null,null,null,null,null)),(t()(),Wi(26,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Rank\"])),(t()(),Wi(28,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Username\"])),(t()(),Wi(30,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Total Wins\"])),(t()(),Wi(32,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Games Played\"])),(t()(),Wi(34,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Win %\"])),(t()(),Wi(36,0,null,null,3,\"tbody\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,2,null,Gm)),Ro(38,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn]),(t()(),Wi(40,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(41,0,null,null,18,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(42,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(43,0,null,null,15,\"div\",[[\"class\",\"col-md-12\"]],null,null,null,null,null)),(t()(),Wi(44,0,null,null,1,\"h3\",[[\"class\",\"text-center p-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Games\"])),(t()(),Wi(46,0,null,null,12,\"table\",[[\"class\",\"table\"]],null,null,null,null,null)),(t()(),Wi(47,0,null,null,7,\"thead\",[[\"class\",\"blue\"]],null,null,null,null,null)),(t()(),Wi(48,0,null,null,6,\"tr\",[],null,null,null,null,null)),(t()(),Wi(49,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Date\"])),(t()(),Wi(51,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Total Players\"])),(t()(),Wi(53,0,null,null,1,\"th\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Winner\"])),(t()(),Wi(55,0,null,null,3,\"tbody\",[],null,null,null,null,null)),(t()(),Hi(16777216,null,null,2,null,Qm)),Ro(57,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn]),(t()(),Wi(59,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,38,0,hi(e,38,0,wo(e,39).transform(n.players))),t(e,57,0,hi(e,57,0,wo(e,58).transform(n.games)))},function(t,e){t(e,6,0,e.context.$implicit.roomName),t(e,9,0,e.context.$implicit.gameType)})}function Ym(t){return la(0,[(t()(),Wi(0,0,null,null,6,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,5,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,2,\"div\",[[\"class\",\"col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,1,\"h3\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Looks like we couldn't load this room!\"])),(t()(),Wi(6,0,null,null,0,\"div\",[[\"class\",\"col\"]],null,null,null,null,null))],null,null)}function Jm(t){return la(0,[Do(0,Fm,[]),Do(0,Pu,[Er]),Do(0,jm,[]),Do(0,Um,[]),(t()(),Wi(4,0,null,null,21,\"mdb-navbar\",[[\"SideClass\",\"navbar fixed-top navbar-expand-lg navbar-dark blue scrolling-navbar ie-nav\"]],null,[[\"window\",\"resize\"],[\"document\",\"scroll\"]],function(t,e,n){var r=!0;return\"window:resize\"===e&&(r=!1!==wo(t,5).onResize(n)&&r),\"document:scroll\"===e&&(r=!1!==wo(t,5).onScroll(n)&&r),r},my,fy)),Ro(5,4308992,null,0,Id,[jn,Sd],{SideClass:[0,\"SideClass\"],containerInside:[1,\"containerInside\"]},null),(t()(),Wi(6,0,null,0,3,\"logo\",[],null,null,null,Ly,My)),Ro(7,49152,null,0,Td,[],null,null),(t()(),Wi(8,0,null,0,1,\"a\",[[\"class\",\"navbar-brand\"],[\"href\",\"/members\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Board Game Tracker\"])),(t()(),Wi(10,0,null,2,15,\"links\",[],null,null,null,Dy,Ry)),Ro(11,5292032,null,1,Cd,[Sd],null,null),Yo(603979776,1,{links:1}),(t()(),Wi(13,0,null,0,12,\"ul\",[[\"class\",\"navbar-nav mr-auto\"]],null,null,null,null,null)),(t()(),Wi(14,0,null,null,5,\"li\",[[\"class\",\"nav-item waves-light\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,15).click(n)&&r),r},null,null)),Ro(15,16384,null,0,uy,[Un],null,null),(t()(),Wi(16,0,null,null,3,\"a\",[[\"class\",\"nav-link\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),aa(-1,null,[\"Logout \"])),(t()(),Wi(18,0,null,null,1,\"span\",[[\"class\",\"sr-only\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"(current)\"])),(t()(),Wi(20,0,null,null,5,\"li\",[[\"class\",\"nav-item waves-light ml-3\"],[\"mdbWavesEffect\",\"\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,21).click(n)&&r),r},null,null)),Ro(21,16384,null,0,uy,[Un],null,null),(t()(),Wi(22,0,null,null,3,\"a\",[[\"class\",\"nav-link\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.goHome()&&r),r},null,null)),(t()(),aa(-1,null,[\"Home \"])),(t()(),Wi(24,0,null,null,1,\"span\",[[\"class\",\"sr-only\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"(current)\"])),(t()(),Hi(16777216,null,null,2,null,Xm)),Ro(27,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),Do(131072,Nu,[Xn]),(t()(),Hi(0,[[\"nocontent\",2]],null,0,null,Ym))],function(t,e){var n=e.component;t(e,5,0,\"navbar fixed-top navbar-expand-lg navbar-dark blue scrolling-navbar ie-nav\",!1),t(e,27,0,hi(e,27,0,wo(e,28).transform(n.currentRoom)),wo(e,29))},null)}var Zm=uo(\"app-room\",Bm,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-room\",[],null,null,null,Jm,qm)),Ro(1,114688,null,0,Bm,[Yy,Pf,_m,Kh],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),$m=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},tg=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?\"return\":o[0]?\"throw\":\"next\"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},eg=function(){function t(t,e,n,r,i){this.af=t,this.router=e,this.afs=n,this.route=r,this.fb=i,this.temp=0,this.winTypes={},this.gForm=i.group({numPlayers:[null,mp.required],gamePlayers:new rd([]),winner:[null,mp.required],validate:\"\"})}return t.prototype.addGame=function(t){this.game=new function(){},this.game.players=this.gamePlayers,this.game.date=new Date,this.game.numPlayers=this.gamePlayers.length,this.game.winner=JSON.parse(this.winner).UserName,this.updateWinnerStats(),this.updateAllStats();try{this.afs.collection(\"Rooms/\"+this.roomId+\"/Games/\").add({date:this.game.date,players:this.game.players,numPlayers:this.game.numPlayers,winner:this.game.winner})}catch(t){this.afs.collection(\"Rooms/\"+this.roomId+\"/Games/\").doc(\"game1\").set({date:this.game.date,players:this.game.players,numPlayers:this.game.numPlayers,winner:this.game.winner})}this.goBack()},t.prototype.updateWinnerStats=function(){var t=this,e=JSON.parse(this.winner);this.currentRoom.subscribe(function(n){t.minPlayers=n.minPlayers,t.maxPlayers=n.maxPlayers;for(var r=t.minPlayers;r<=t.maxPlayers;r++)t.winTypes[r+\"PlayerWins\"]=t.gamePlayers.length==r?e.winTypes[r+\"PlayerWins\"]+1:e.winTypes[r+\"PlayerWins\"];t.afs.doc(\"Rooms/\"+t.roomId+\"/Players/\"+e.acctId).update({winTypes:t.winTypes})}),this.winnerGLobal=this.afs.doc(\"Players/\"+e.acctId),this.winnerGlobalVC=this.winnerGLobal.valueChanges(),this.winnerGlobalVC.take(1).subscribe(function(e){t.globalWins=e.totalWins,t.winnerGLobal.update({totalWins:t.globalWins+1})}),this.afs.doc(\"Rooms/\"+this.roomId+\"/Players/\"+e.acctId).update({totalWins:e.totalWins+1})},t.prototype.updateAllStats=function(){return $m(this,void 0,void 0,function(){var t=this;return tg(this,function(e){switch(e.label){case 0:return[4,Promise.all(this.gamePlayers.map(function(e){return $m(t,void 0,void 0,function(){var t,n;return tg(this,function(r){switch(r.label){case 0:return t=this.afs.doc(\"Players/\"+JSON.parse(e).acctId).ref,[4,this.afs.firestore.runTransaction(function(e){return e.get(t).then(function(n){e.update(t,{gamesPlayed:n.get(\"gamesPlayed\")+1})})})];case 1:return r.sent(),n=this.afs.doc(\"Rooms/\"+this.roomId+\"/Players/\"+JSON.parse(e).acctId).ref,[4,this.afs.firestore.runTransaction(function(t){return t.get(n).then(function(e){t.update(n,{gamesPlayed:e.get(\"gamesPlayed\")+1})})})];case 2:return r.sent(),[2]}})})}))];case 1:return e.sent(),[2]}})})},t.prototype.goBack=function(){this.router.navigate([\"/room\",{roomId:this.roomId}])},t.prototype.ngOnInit=function(){var t=this;this.gamePlayers=[],this.route.paramMap.subscribe(function(e){var n=e.get(\"roomId\");t.roomId=n}),this.getRoomInfo(),this.numPlayers=2},t.prototype.getRoomInfo=function(){this.roomDoc=this.afs.doc(\"Rooms/\"+this.roomId),this.currentRoom=this.roomDoc.valueChanges(),this.getPlayersInfo()},t.prototype.getPlayersInfo=function(){this.playersCol=this.afs.collection(\"Rooms/\"+this.roomId+\"/Players/\"),this.players=this.playersCol.valueChanges()},t.prototype.onCheckChange=function(t){var e=this;t.target.checked?this.gamePlayers.push(t.target.value):this.gamePlayers.forEach(function(n){if(n!=t.target.value);else{var r=e.gamePlayers.indexOf(t.target.value);r>-1&&e.gamePlayers.splice(r,1)}}),this.temp=this.gamePlayers.length,console.log(this.gamePlayers)},t.prototype.isChecked=function(t){for(var e=0,n=this.gamePlayers;e<n.length;e++)if(JSON.parse(n[e]).UserName==t)return!1;return!0},t}(),ng=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"moveInLeft\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(-100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s .2s ease-in-out\"}],options:null}],options:{}}]}});function rg(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function ig(t){return la(0,[(t()(),Wi(0,0,null,null,4,\"div\",[],null,null,null,null,null)),(t()(),Wi(1,0,null,null,3,\"label\",[],null,null,null,null,null)),(t()(),Wi(2,0,null,null,1,\"input\",[[\"type\",\"checkbox\"]],[[8,\"value\",0],[8,\"disabled\",0]],[[null,\"change\"]],function(t,e,n){var r=!0;return\"change\"===e&&(r=!1!==t.component.onCheckChange(n)&&r),r},null,null)),Do(0,xu,[]),(t()(),aa(4,null,[\"\",\" \"]))],null,function(t,e){var n=e.component;t(e,2,0,Bi(1,\"\",hi(e,2,0,wo(e,3).transform(e.context.$implicit)),\"\"),n.temp>=4&&n.isChecked(e.context.$implicit.UserName)),t(e,4,0,e.context.$implicit.UserName)})}function og(t){return la(0,[(t()(),Wi(0,0,null,null,5,\"option\",[[\"placeholder\",\"winner\"]],[[8,\"disabled\",0]],null,null,null,null)),Ro(1,147456,null,0,Lp,[Un,jn,[2,Mp]],{value:[0,\"value\"]},null),Do(0,xu,[]),Ro(3,147456,null,0,jp,[Un,jn,[8,null]],{value:[0,\"value\"]},null),Do(0,xu,[]),(t()(),aa(5,null,[\"\",\"\"]))],function(t,e){t(e,1,0,hi(e,1,0,wo(e,2).transform(e.context.$implicit))),t(e,3,0,hi(e,3,0,wo(e,4).transform(e.context.$implicit)))},function(t,e){t(e,0,0,e.component.isChecked(e.context.$implicit.UserName)),t(e,5,0,e.context.$implicit.UserName)})}function ag(t){return la(0,[(t()(),Wi(0,0,null,null,52,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,51,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,48,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,47,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,46,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,7).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,7).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.addGame(i.gForm.value)&&r),r},null,null)),Ro(6,16384,null,0,pd,[],null,null),Ro(7,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(9,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(10,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Add Game\"])),(t()(),Hi(16777216,null,null,1,null,rg)),Ro(13,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(14,0,null,null,30,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,8,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(17,0,null,null,5,\"div\",[[\"class\",\"col-md-8\"]],null,null,null,null,null)),(t()(),Wi(18,0,null,null,1,\"p\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Players\"])),(t()(),Hi(16777216,null,null,2,null,ig)),Ro(21,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn]),(t()(),Wi(23,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(24,0,null,null,20,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(25,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(26,0,null,null,17,\"div\",[[\"class\",\"col-md-8\"]],null,null,null,null,null)),(t()(),Wi(27,0,null,null,1,\"p\",[[\"class\",\"mt-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Winner\"])),(t()(),Wi(29,0,null,null,14,\"select\",[[\"name\",\"winner-select\"],[\"required\",\"\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],function(t,e,n){var r=!0,i=t.component;return\"change\"===e&&(r=!1!==wo(t,30).onChange(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,30).onTouched()&&r),\"ngModelChange\"===e&&(r=!1!==(i.winner=n)&&r),r},null,null)),Ro(30,16384,null,0,Mp,[jn,Un],null,null),Ro(31,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Mp]),Ro(34,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(36,16384,null,0,Xp,[[4,Ap]],null,null),(t()(),Wi(37,0,null,null,3,\"option\",[[\"disabled\",\"\"],[\"value\",\"\"]],null,null,null,null,null)),Ro(38,147456,null,0,Lp,[Un,jn,[2,Mp]],{value:[0,\"value\"]},null),Ro(39,147456,null,0,jp,[Un,jn,[8,null]],{value:[0,\"value\"]},null),(t()(),aa(-1,null,[\"Choose player\"])),(t()(),Hi(16777216,null,null,2,null,og)),Ro(42,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn]),(t()(),Wi(44,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(45,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(46,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,47).click(n)&&r),r},null,null)),Ro(47,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Add Game\"])),(t()(),Wi(49,0,null,null,2,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(50,0,null,null,1,\"a\",[[\"id\",\"goback\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.goBack()&&r),r},null,null)),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(52,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,13,0,n.error),t(e,21,0,hi(e,21,0,wo(e,22).transform(n.players))),t(e,31,0,\"\"),t(e,34,0,\"winner-select\",n.winner),t(e,38,0,\"\"),t(e,39,0,\"\"),t(e,42,0,hi(e,42,0,wo(e,43).transform(n.players)))},function(t,e){var n=e.component;t(e,5,0,wo(e,9).ngClassUntouched,wo(e,9).ngClassTouched,wo(e,9).ngClassPristine,wo(e,9).ngClassDirty,wo(e,9).ngClassValid,wo(e,9).ngClassInvalid,wo(e,9).ngClassPending),t(e,29,0,wo(e,31).required?\"\":null,wo(e,36).ngClassUntouched,wo(e,36).ngClassTouched,wo(e,36).ngClassPristine,wo(e,36).ngClassDirty,wo(e,36).ngClassValid,wo(e,36).ngClassInvalid,wo(e,36).ngClassPending),t(e,46,0,n.temp<2||void 0==n.winner)})}var sg=uo(\"app-game-form\",eg,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-game-form\",[],null,null,null,ag,ng)),Ro(1,114688,null,0,eg,[Yy,Pf,_m,Kh,fd],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),ug=function(){function t(t,e,n){var r=this;this.af=t,this.router=e,this.afs=n,this.roomPassword=\"\",this.exists=!1,this.winTypes={},this.af.authState.subscribe(function(t){t?(r.name=t.displayName,r.photoUrl=t.photoURL,r.acctId=t.uid,r.getPlayerInfo()):r.router.navigateByUrl(\"/login\")})}return t.prototype.ngOnInit=function(){this.getGames()},t.prototype.getGames=function(){this.gamesCol=this.afs.collection(\"Games\"),this.games=this.gamesCol.valueChanges()},t.prototype.getPlayerInfo=function(){var t=this;this.playerDoc=this.afs.doc(\"Players/\"+this.acctId),this.playerVC=this.playerDoc.valueChanges(),this.playerVC.subscribe(function(e){t.player=e})},t.prototype.addRoom=function(){for(var t=this,e=JSON.parse(this.gameType).minPlayers;e<=JSON.parse(this.gameType).maxPlayers;e++)this.winTypes[e+\"PlayerWins\"]=0;this.afs.doc(\"Rooms/\"+this.roomName).ref.get().then(function(e){!0===e.exists?t.error=\"This already exists.\":(t.addRoomDoc(),t.goBack())})},t.prototype.addRoomDoc=function(){this.isLocked=\"\"!=this.roomPassword,this.afs.collection(\"Rooms\").doc(this.roomName).set({roomName:this.roomName,roomPassword:this.roomPassword,isLocked:this.isLocked,gameType:JSON.parse(this.gameType).name,playerCount:1,minPlayers:JSON.parse(this.gameType).minPlayers,maxPlayers:JSON.parse(this.gameType).maxPlayers,admin:this.acctId}),this.afs.collection(\"Rooms/\"+this.roomName+\"/Players\").doc(this.acctId).set({UserName:this.player.UserName,acctId:this.player.acctId,isAdmin:!0,totalWins:0,winPercent:0,winTypes:this.winTypes,gamesPlayed:0})},t.prototype.goBack=function(){this.router.navigateByUrl(\"/members\")},t}(),lg=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"moveInLeft\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(-100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s .2s ease-in-out\"}],options:null}],options:{}}]}});function cg(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function hg(t){return la(0,[(t()(),Wi(0,0,null,null,7,\"option\",[[\"placeholder\",\"game type\"]],null,null,null,null,null)),Ro(1,147456,null,0,Lp,[Un,jn,[2,Mp]],{value:[0,\"value\"]},null),Do(0,xu,[]),Ro(3,147456,null,0,jp,[Un,jn,[8,null]],{value:[0,\"value\"]},null),Do(0,xu,[]),(t()(),aa(5,null,[\"\",\" \"])),(t()(),Wi(6,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),aa(7,null,[\"\",\"-\",\" Players\"]))],function(t,e){t(e,1,0,hi(e,1,0,wo(e,2).transform(e.context.$implicit))),t(e,3,0,hi(e,3,0,wo(e,4).transform(e.context.$implicit)))},function(t,e){t(e,5,0,e.context.$implicit.name),t(e,7,0,e.context.$implicit.minPlayers,e.context.$implicit.maxPlayers)})}function fg(t){return la(0,[(t()(),Wi(0,0,null,null,73,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,72,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,69,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,68,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,67,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,7).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,7).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.addRoom()&&r),r},null,null)),Ro(6,16384,null,0,pd,[],null,null),Ro(7,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(9,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(10,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"New Room\"])),(t()(),Hi(16777216,null,null,1,null,cg)),Ro(13,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(14,0,null,null,12,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,0,\"i\",[[\"class\",\"fa fa-file-text prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,8,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"roomName\"],[\"placeholder\",\"Room Name\"],[\"required\",\"\"],[\"type\",\"text\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,17)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,17).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,17)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,17)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,24).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,24).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,24).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,24).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.roomName=n)&&r),r},null,null)),Ro(17,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(18,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(21,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(23,16384,null,0,Xp,[[4,Ap]],null,null),Ro(24,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(25,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardEmailEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Room Name\"])),(t()(),Wi(27,0,null,null,10,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(28,0,null,null,0,\"i\",[[\"class\",\"fa fa-lock prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(29,0,null,null,6,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"roomPassword\"],[\"placeholder\",\"optional\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,30)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,30).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,30)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,30)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,35).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,35).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,35).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,35).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.roomPassword=n)&&r),r},null,null)),Ro(30,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(32,671744,null,0,ld,[[2,fp],[8,null],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(34,16384,null,0,Xp,[[4,Ap]],null,null),Ro(35,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(36,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Room Password\"])),(t()(),Wi(38,0,null,null,18,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(39,0,null,null,2,\"p\",[[\"class\",\"grey-text\"],[\"for\",\"winner-select\"]],null,null,null,null,null)),(t()(),Wi(40,0,null,null,0,\"i\",[[\"class\",\"fa fa-gamepad grey-text\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\" Game Type\"])),(t()(),Wi(42,0,null,null,14,\"select\",[[\"name\",\"winner-select\"],[\"required\",\"\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],function(t,e,n){var r=!0,i=t.component;return\"change\"===e&&(r=!1!==wo(t,43).onChange(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,43).onTouched()&&r),\"ngModelChange\"===e&&(r=!1!==(i.gameType=n)&&r),r},null,null)),Ro(43,16384,null,0,Mp,[jn,Un],null,null),Ro(44,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Mp]),Ro(47,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(49,16384,null,0,Xp,[[4,Ap]],null,null),(t()(),Wi(50,0,null,null,3,\"option\",[[\"disabled\",\"\"],[\"value\",\"\"]],null,null,null,null,null)),Ro(51,147456,null,0,Lp,[Un,jn,[2,Mp]],{value:[0,\"value\"]},null),Ro(52,147456,null,0,jp,[Un,jn,[8,null]],{value:[0,\"value\"]},null),(t()(),aa(-1,null,[\"Choose game type\"])),(t()(),Hi(16777216,null,null,2,null,hg)),Ro(55,802816,null,0,wu,[Qn,zn,mr],{ngForOf:[0,\"ngForOf\"]},null),Do(131072,Nu,[Xn]),(t()(),Wi(57,0,null,null,7,\"a\",[[\"class\",\"text-center py-4\"],[\"routerLink\",\"/game-type-form\"],[\"routerLinkActive\",\"active\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,58).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(58,671744,[[2,4]],0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),Ro(59,1720320,null,2,Ff,[Pf,Un,jn,Xn],{routerLinkActive:[0,\"routerLinkActive\"]},null),Yo(603979776,1,{links:1}),Yo(603979776,2,{linksWithHrefs:1}),(t()(),aa(-1,null,[\"Don't see the game you are looking for? \"])),(t()(),Wi(63,0,null,null,1,\"strong\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Add a new option here\"])),(t()(),Wi(65,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(66,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,67).click(n)&&r),r},null,null)),Ro(67,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Create Room\"])),(t()(),Wi(69,0,null,null,3,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(70,0,null,null,2,\"a\",[[\"id\",\"goback\"],[\"routerLink\",\"/members\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,71).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(71,671744,null,0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(73,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,13,0,n.error),t(e,18,0,\"\"),t(e,21,0,\"roomName\",n.roomName),t(e,24,0,\"\",\"Room Name\"),t(e,32,0,\"roomPassword\",n.roomPassword),t(e,35,0,\"\",\"optional\"),t(e,44,0,\"\"),t(e,47,0,\"winner-select\",n.gameType),t(e,51,0,\"\"),t(e,52,0,\"\"),t(e,55,0,hi(e,55,0,wo(e,56).transform(n.games))),t(e,58,0,\"/game-type-form\"),t(e,59,0,\"active\"),t(e,71,0,\"/members\")},function(t,e){t(e,5,0,wo(e,9).ngClassUntouched,wo(e,9).ngClassTouched,wo(e,9).ngClassPristine,wo(e,9).ngClassDirty,wo(e,9).ngClassValid,wo(e,9).ngClassInvalid,wo(e,9).ngClassPending),t(e,16,0,wo(e,18).required?\"\":null,wo(e,23).ngClassUntouched,wo(e,23).ngClassTouched,wo(e,23).ngClassPristine,wo(e,23).ngClassDirty,wo(e,23).ngClassValid,wo(e,23).ngClassInvalid,wo(e,23).ngClassPending),t(e,29,0,wo(e,34).ngClassUntouched,wo(e,34).ngClassTouched,wo(e,34).ngClassPristine,wo(e,34).ngClassDirty,wo(e,34).ngClassValid,wo(e,34).ngClassInvalid,wo(e,34).ngClassPending),t(e,42,0,wo(e,44).required?\"\":null,wo(e,49).ngClassUntouched,wo(e,49).ngClassTouched,wo(e,49).ngClassPristine,wo(e,49).ngClassDirty,wo(e,49).ngClassValid,wo(e,49).ngClassInvalid,wo(e,49).ngClassPending),t(e,57,0,wo(e,58).target,wo(e,58).href),t(e,66,0,!wo(e,7).valid),t(e,70,0,wo(e,71).target,wo(e,71).href)})}var pg=uo(\"app-room-form\",ug,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-room-form\",[],null,null,null,fg,lg)),Ro(1,114688,null,0,ug,[Yy,Pf,_m],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),dg=function(){function t(t,e,n){var r=this;this.af=t,this.router=e,this.afs=n,this.af.authState.subscribe(function(t){t?(r.userName=t.displayName,r.photoUrl=t.photoURL,r.acctId=t.uid,r.getPlayerInfo()):r.router.navigateByUrl(\"/login\")})}return t.prototype.ngOnInit=function(){},t.prototype.getPlayerInfo=function(){var t=this;this.playerDoc=this.afs.doc(\"Players/\"+this.acctId),this.playerVC=this.playerDoc.valueChanges(),this.playerVC.subscribe(function(e){t.player=e})},t.prototype.addGame=function(){var t=this;this.afs.doc(\"Games/\"+this.name).ref.get().then(function(e){!0===e.exists?t.error=\"This already exists.\":(t.afs.collection(\"Games\").doc(t.name).set({name:t.name,minPlayers:t.minPlayers,maxPlayers:t.maxPlayers}),t.error=\"Game Added!\")})},t}(),yg=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"moveInLeft\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(-100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s .2s ease-in-out\"}],options:null}],options:{}}]}});function mg(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function gg(t){return la(0,[(t()(),Wi(0,0,null,null,63,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,62,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,59,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,58,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,57,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,7).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,7).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.addGame()&&r),r},null,null)),Ro(6,16384,null,0,pd,[],null,null),Ro(7,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(9,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(10,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"New Game\"])),(t()(),Hi(16777216,null,null,1,null,mg)),Ro(13,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(14,0,null,null,12,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,0,\"i\",[[\"class\",\"fa fa-file-text prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,8,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"name\"],[\"placeholder\",\"Game Name\"],[\"required\",\"\"],[\"type\",\"text\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,17)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,17).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,17)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,17)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,24).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,24).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,24).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,24).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.name=n)&&r),r},null,null)),Ro(17,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(18,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(21,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(23,16384,null,0,Xp,[[4,Ap]],null,null),Ro(24,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(25,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardEmailEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Game Name\"])),(t()(),Wi(27,0,null,null,13,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(28,0,null,null,0,\"i\",[[\"class\",\"fa fa-sort-up prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(29,0,null,null,9,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"maxPlayers\"],[\"placeholder\",\"max\"],[\"required\",\"\"],[\"type\",\"number\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"change\"],[null,\"focus\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,30)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,30).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,30)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,30)._compositionEnd(n.target.value)&&r),\"change\"===e&&(r=!1!==wo(t,31).onChange(n.target.value)&&r),\"input\"===e&&(r=!1!==wo(t,31).onChange(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,31).onTouched()&&r),\"focus\"===e&&(r=!1!==wo(t,38).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,38).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,38).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,38).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.maxPlayers=n)&&r),r},null,null)),Ro(30,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(31,16384,null,0,Ip,[jn,Un],null,null),Ro(32,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t,e){return[t,e]},[Sp,Ip]),Ro(35,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(37,16384,null,0,Xp,[[4,Ap]],null,null),Ro(38,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(39,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Maximum Players\"])),(t()(),Wi(41,0,null,null,13,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(42,0,null,null,0,\"i\",[[\"class\",\"fa fa-sort-down prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(43,0,null,null,9,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"min\",\"2\"],[\"name\",\"minPlayers\"],[\"placeholder\",\"min\"],[\"required\",\"\"],[\"type\",\"number\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"change\"],[null,\"focus\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,44)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,44).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,44)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,44)._compositionEnd(n.target.value)&&r),\"change\"===e&&(r=!1!==wo(t,45).onChange(n.target.value)&&r),\"input\"===e&&(r=!1!==wo(t,45).onChange(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,45).onTouched()&&r),\"focus\"===e&&(r=!1!==wo(t,52).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,52).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,52).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,52).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.minPlayers=n)&&r),r},null,null)),Ro(44,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(45,16384,null,0,Ip,[jn,Un],null,null),Ro(46,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t,e){return[t,e]},[Sp,Ip]),Ro(49,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(51,16384,null,0,Xp,[[4,Ap]],null,null),Ro(52,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(53,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Minimum Players\"])),(t()(),Wi(55,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(56,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,57).click(n)&&r),r},null,null)),Ro(57,16384,null,0,uy,[Un],null,null),(t()(),aa(-1,null,[\"Add New Game\"])),(t()(),Wi(59,0,null,null,3,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(60,0,null,null,2,\"a\",[[\"id\",\"goback\"],[\"routerLink\",\"/members\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,61).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(61,671744,null,0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(63,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,13,0,n.error),t(e,18,0,\"\"),t(e,21,0,\"name\",n.name),t(e,24,0,\"\",\"Game Name\"),t(e,32,0,\"\"),t(e,35,0,\"maxPlayers\",n.maxPlayers),t(e,38,0,\"\",\"max\"),t(e,46,0,\"\"),t(e,49,0,\"minPlayers\",n.minPlayers),t(e,52,0,\"\",\"min\"),t(e,61,0,\"/members\")},function(t,e){t(e,5,0,wo(e,9).ngClassUntouched,wo(e,9).ngClassTouched,wo(e,9).ngClassPristine,wo(e,9).ngClassDirty,wo(e,9).ngClassValid,wo(e,9).ngClassInvalid,wo(e,9).ngClassPending),t(e,16,0,wo(e,18).required?\"\":null,wo(e,23).ngClassUntouched,wo(e,23).ngClassTouched,wo(e,23).ngClassPristine,wo(e,23).ngClassDirty,wo(e,23).ngClassValid,wo(e,23).ngClassInvalid,wo(e,23).ngClassPending),t(e,29,0,wo(e,32).required?\"\":null,wo(e,37).ngClassUntouched,wo(e,37).ngClassTouched,wo(e,37).ngClassPristine,wo(e,37).ngClassDirty,wo(e,37).ngClassValid,wo(e,37).ngClassInvalid,wo(e,37).ngClassPending),t(e,43,0,wo(e,46).required?\"\":null,wo(e,51).ngClassUntouched,wo(e,51).ngClassTouched,wo(e,51).ngClassPristine,wo(e,51).ngClassDirty,wo(e,51).ngClassValid,wo(e,51).ngClassInvalid,wo(e,51).ngClassPending),t(e,56,0,!wo(e,7).valid),t(e,60,0,wo(e,61).target,wo(e,61).href)})}var vg=uo(\"app-game-type-form\",dg,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-game-type-form\",[],null,null,null,gg,yg)),Ro(1,114688,null,0,dg,[Yy,Pf,_m],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),bg=function(){function t(t,e,n,r){var i=this;this.af=t,this.router=e,this.afs=n,this.route=r,this.af.authState.subscribe(function(t){t?(i.name=t.displayName,i.photoUrl=t.photoURL,i.acctId=t.uid):i.router.navigateByUrl(\"/login\")})}return t.prototype.getRoomId=function(){var t=this;this.route.paramMap.subscribe(function(e){var n=e.get(\"roomId\");t.roomId=n})},t.prototype.getRoomInfo=function(){this.roomDoc=this.afs.doc(\"Rooms/\"+this.roomId),this.room=this.roomDoc.valueChanges()},t.prototype.logInToRoom=function(){var t=this;this.roomDoc.valueChanges().subscribe(function(e){t.roomPass==e.roomPassword?t.router.navigate([\"/room\",{roomId:t.roomId}]):t.error=\"Wrong Password\"})},t.prototype.checkIfPlayerInRoom=function(){var t=this;this.playerCol=this.afs.collection(\"Rooms/\"+this.roomId+\"/Players/\"),this.playerCol.valueChanges().subscribe(function(e){for(var n=0,r=e;n<r.length;n++)t.acctId==r[n].acctId&&t.router.navigate([\"/room\",{roomId:t.roomId}])})},t.prototype.logout=function(){this.af.auth.signOut(),this.router.navigateByUrl(\"/login\")},t.prototype.goHome=function(){this.router.navigateByUrl(\"/members\")},t.prototype.ngOnInit=function(){this.getRoomId(),this.getRoomInfo(),this.checkIfPlayerInRoom()},t}(),wg=di({encapsulation:0,styles:[[\"\"]],data:{animation:[{type:7,name:\"moveIn\",definitions:[{type:0,name:\"void\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:0,name:\"*\",styles:{type:6,styles:{position:\"fixed\",width:\"100%\"},offset:null},options:void 0},{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"fallIn\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateY(40px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateY(0)\"},offset:null},timings:\".4s .2s ease-in-out\"}],options:null},{type:1,expr:\":leave\",animation:[{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"0\",transform:\"translateX(-200px)\"},offset:null},timings:\".3s ease-in-out\"}],options:null}],options:{}},{type:7,name:\"moveInLeft\",definitions:[{type:1,expr:\":enter\",animation:[{type:6,styles:{opacity:\"0\",transform:\"translateX(-100px)\"},offset:null},{type:4,styles:{type:6,styles:{opacity:\"1\",transform:\"translateX(0)\"},offset:null},timings:\".6s .2s ease-in-out\"}],options:null}],options:{}}]}});function _g(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"span\",[[\"class\",\"animated slideInDown\"]],null,null,null,null,null)),(t()(),aa(1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.error)})}function Eg(t){return la(0,[(t()(),Wi(0,0,null,null,35,\"div\",[[\"class\",\"container animated slideInLeft\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,34,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),Wi(2,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null)),(t()(),Wi(3,0,null,null,31,\"div\",[[\"class\",\"card col-md-8\"]],null,null,null,null,null)),(t()(),Wi(4,0,null,null,30,\"div\",[[\"class\",\"card-body\"]],null,null,null,null,null)),(t()(),Wi(5,0,null,null,1,\"p\",[[\"class\",\"h4 text-center py-4\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Sign in\"])),(t()(),Hi(16777216,null,null,1,null,_g)),Ro(8,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"]},null),(t()(),Wi(9,0,null,null,21,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(t,e,n){var r=!0,i=t.component;return\"submit\"===e&&(r=!1!==wo(t,11).onSubmit(n)&&r),\"reset\"===e&&(r=!1!==wo(t,11).onReset()&&r),\"ngSubmit\"===e&&(r=!1!==i.logInToRoom()&&r),r},null,null)),Ro(10,16384,null,0,pd,[],null,null),Ro(11,4210688,[[\"formData\",4]],0,od,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),Mo(2048,null,fp,null,[od]),Ro(13,16384,null,0,Yp,[[4,fp]],null,null),(t()(),Wi(14,0,null,null,12,\"div\",[[\"class\",\"md-form\"]],null,null,null,null,null)),(t()(),Wi(15,0,null,null,0,\"i\",[[\"class\",\"fa fa-lock prefix grey-text\"]],null,null,null,null,null)),(t()(),Wi(16,0,null,null,8,\"input\",[[\"class\",\"form-control\"],[\"mdbInputDirective\",\"\"],[\"name\",\"roomPass\"],[\"placeholder\",\"Room Password\"],[\"required\",\"\"],[\"type\",\"text\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"focus\"],[null,\"change\"],[null,\"keydown\"]],function(t,e,n){var r=!0,i=t.component;return\"input\"===e&&(r=!1!==wo(t,17)._handleInput(n.target.value)&&r),\"blur\"===e&&(r=!1!==wo(t,17).onTouched()&&r),\"compositionstart\"===e&&(r=!1!==wo(t,17)._compositionStart()&&r),\"compositionend\"===e&&(r=!1!==wo(t,17)._compositionEnd(n.target.value)&&r),\"focus\"===e&&(r=!1!==wo(t,24).onfocus()&&r),\"blur\"===e&&(r=!1!==wo(t,24).onblur()&&r),\"change\"===e&&(r=!1!==wo(t,24).onchange()&&r),\"keydown\"===e&&(r=!1!==wo(t,24).onkeydown(n)&&r),\"ngModelChange\"===e&&(r=!1!==(i.roomPass=n)&&r),r},null,null)),Ro(17,16384,null,0,Sp,[jn,Un,[2,Ep]],null,null),Ro(18,16384,null,0,hd,[],{required:[0,\"required\"]},null),Mo(1024,null,dp,function(t){return[t]},[hd]),Mo(1024,null,wp,function(t){return[t]},[Sp]),Ro(21,671744,null,0,ld,[[2,fp],[6,dp],[8,null],[6,wp]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),Mo(2048,null,Ap,null,[ld]),Ro(23,16384,null,0,Xp,[[4,Ap]],null,null),Ro(24,12795904,null,0,_d,[Un,jn,Ge],{mdbInputDirective:[0,\"mdbInputDirective\"],placeholder:[1,\"placeholder\"]},null),(t()(),Wi(25,0,null,null,1,\"label\",[[\"class\",\"font-weight-light\"],[\"for\",\"materialFormCardPasswordEx\"]],null,null,null,null,null)),(t()(),aa(-1,null,[\"Room password\"])),(t()(),Wi(27,0,null,null,3,\"div\",[[\"class\",\"text-center py-4 mt-3\"]],null,null,null,null,null)),(t()(),Wi(28,0,null,null,2,\"button\",[[\"class\",\"btn btn-blue waves-light\"],[\"mdbWavesEffect\",\"\"],[\"type\",\"submit\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,29).click(n)&&r),r},null,null)),Ro(29,16384,null,0,uy,[Un],null,null),(t()(),aa(30,null,[\"Log into \",\"\"])),(t()(),Wi(31,0,null,null,3,\"div\",[[\"class\",\"text-center mb-3\"]],null,null,null,null,null)),(t()(),Wi(32,0,null,null,2,\"a\",[[\"id\",\"goback\"],[\"routerLink\",\"/members\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==wo(t,33).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ro(33,671744,null,0,Lf,[Pf,Kh,$s],{routerLink:[0,\"routerLink\"]},null),(t()(),aa(-1,null,[\"Go back\"])),(t()(),Wi(35,0,null,null,0,\"div\",[[\"class\",\"col-md-2\"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.error),t(e,18,0,\"\"),t(e,21,0,\"roomPass\",n.roomPass),t(e,24,0,\"\",\"Room Password\"),t(e,33,0,\"/members\")},function(t,e){t(e,9,0,wo(e,13).ngClassUntouched,wo(e,13).ngClassTouched,wo(e,13).ngClassPristine,wo(e,13).ngClassDirty,wo(e,13).ngClassValid,wo(e,13).ngClassInvalid,wo(e,13).ngClassPending),t(e,16,0,wo(e,18).required?\"\":null,wo(e,23).ngClassUntouched,wo(e,23).ngClassTouched,wo(e,23).ngClassPristine,wo(e,23).ngClassDirty,wo(e,23).ngClassValid,wo(e,23).ngClassInvalid,wo(e,23).ngClassPending),t(e,28,0,!wo(e,11).valid),t(e,30,0,e.context.$implicit.roomName),t(e,32,0,wo(e,33).target,wo(e,33).href)})}function Sg(t){return la(0,[(t()(),Wi(0,0,null,null,11,\"div\",[[\"class\",\"form-container\"],[\"id\",\"toolbar\"]],null,null,null,null,null)),(t()(),Wi(1,0,null,null,4,\"header\",[],[[24,\"@fallIn\",0]],null,null,null,null)),(t()(),Wi(2,0,null,null,1,\"button\",[[\"class\",\"basic-btn\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),aa(-1,null,[\"Logout\"])),(t()(),Wi(4,0,null,null,1,\"button\",[[\"class\",\"basic-btn\"]],null,[[null,\"click\"]],function(t,e,n){var r=!0;return\"click\"===e&&(r=!1!==t.component.goHome()&&r),r},null,null)),(t()(),aa(-1,null,[\"Home\"])),(t()(),Wi(6,0,null,null,3,\"div\",[[\"id\",\"page\"]],[[24,\"@moveInLeft\",0]],null,null,null,null)),(t()(),Wi(7,0,null,null,2,\"h2\",[],null,null,null,null,null)),(t()(),Wi(8,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null)),(t()(),aa(9,null,[\"Hey \",\"!\"])),(t()(),Wi(10,0,null,null,1,\"h3\",[],null,null,null,null,null)),(t()(),aa(-1,null,[\"Looks like we couldn't load this room!\"]))],null,function(t,e){var n=e.component;t(e,1,0,n.state),t(e,6,0,n.state),t(e,8,0,Bi(1,\"\",n.photoUrl,\"\")),t(e,9,0,n.name)})}function Cg(t){return la(0,[(t()(),Hi(16777216,null,null,2,null,Eg)),Ro(1,16384,null,0,Eu,[Qn,zn],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),Do(131072,Nu,[Xn]),(t()(),Hi(0,[[\"nocontent\",2]],null,0,null,Sg))],function(t,e){var n=e.component;t(e,1,0,hi(e,1,0,wo(e,2).transform(n.room)),wo(e,3))},null)}var Tg=uo(\"app-room-sign-in\",bg,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-room-sign-in\",[],null,null,null,Cg,wg)),Ro(1,114688,null,0,bg,[Yy,Pf,_m,Kh],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ig=di({encapsulation:0,styles:[[\"\"]],data:{}});function kg(t){return la(0,[(t()(),Wi(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Ro(1,212992,null,0,Bf,[Uf,Qn,rn,[8,null],Xn],null,null)],function(t,e){t(e,1,0)},null)}var Ag=uo(\"app-root\",Ys,function(t){return la(0,[(t()(),Wi(0,0,null,null,1,\"app-root\",[],null,null,null,kg,Ig)),Ro(1,49152,null,0,Ys,[],null,null)],null,null)},{},{},[]),Og=function(){},Ng=\"*\";function xg(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function Pg(t){return{type:6,styles:t,offset:null}}function Rg(t){Promise.resolve(null).then(t)}var Dg=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;Rg(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e=\"start\"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Mg=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?Rg(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e=\"start\"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Lg=\"!\";function Vg(){return\"undefined\"!=typeof window&&void 0!==window.document}function Fg(t){switch(t.length){case 0:return new Dg;case 1:return t[0];default:return new Mg(t)}}function jg(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,l=null;if(r.forEach(function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if(\"offset\"!==n)switch(r=e.normalizePropertyName(r,a),s){case Lg:s=i[n];break;case Ng:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s}),r||s.push(c),l=c,u=n}),a.length)throw new Error(\"Unable to animate due to the following errors:\\n - \"+a.join(\"\\n - \"));return s}function Ug(t,e,n,r){switch(e){case\"start\":t.onStart(function(){return r(n&&Bg(n,\"start\",t))});break;case\"done\":t.onDone(function(){return r(n&&Bg(n,\"done\",t))});break;case\"destroy\":t.onDestroy(function(){return r(n&&Bg(n,\"destroy\",t))})}}function Bg(t,e,n){var r=n.totalTime,i=qg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function qg(t,e,n,r,i,o,a){return void 0===i&&(i=\"\"),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Hg(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Wg(t){var e=t.indexOf(\":\");return[t.substring(1,e),t.substr(e+1)]}var Gg=function(t,e){return!1},Kg=function(t,e){return!1},zg=function(t,e,n){return[]};if(Vg()){if(Gg=function(t,e){return t.contains(e)},Element.prototype.matches)Kg=function(t,e){return t.matches(e)};else{var Qg=Element.prototype,Xg=Qg.matchesSelector||Qg.mozMatchesSelector||Qg.msMatchesSelector||Qg.oMatchesSelector||Qg.webkitMatchesSelector;Xg&&(Kg=function(t,e){return Xg.apply(t,[e])})}zg=function(t,e,n){var r=[];if(n)r.push.apply(r,u(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r}}var Yg=null,Jg=!1;function Zg(t){Yg||(Yg=$g()||{},Jg=!!Yg.style&&\"WebkitAppearance\"in Yg.style);var e=!0;return Yg.style&&!function(t){return\"ebkit\"==t.substring(1,6)}(t)&&!(e=t in Yg.style)&&Jg&&(e=\"Webkit\"+t.charAt(0).toUpperCase()+t.substr(1)in Yg.style),e}function $g(){return\"undefined\"!=typeof document?document.body:null}var tv=Kg,ev=Gg,nv=zg;function rv(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,\"$1-$2\");e[r]=t[n]}),e}var iv=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Zg(t)},t.prototype.matchesElement=function(t,e){return tv(t,e)},t.prototype.containsElement=function(t,e){return ev(t,e)},t.prototype.query=function(t,e,n){return nv(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||\"\"},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new Dg(n,r)},t}(),ov=function(){function t(){}return t.NOOP=new iv,t}(),av=1e3;function sv(t){if(\"number\"==typeof t)return t;var e=t.match(/^(-?[\\.\\d]+)(m?s)/);return!e||e.length<2?0:uv(parseFloat(e[1]),e[2])}function uv(t,e){switch(e){case\"s\":return t*av;default:return t}}function lv(t,e,n){return t.hasOwnProperty(\"duration\")?t:function(t,e,n){var r,i=0,o=\"\";if(\"string\"==typeof t){var a=t.match(/^(-?[\\.\\d]+)(m?s)(?:\\s+(-?[\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i);if(null===a)return e.push('The provided timing value \"'+t+'\" is invalid.'),{duration:0,delay:0,easing:\"\"};r=uv(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=uv(Math.floor(parseFloat(s)),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push(\"Duration values below 0 are not allowed for this animation step.\"),l=!0),i<0&&(e.push(\"Delay values below 0 are not allowed for this animation step.\"),l=!0),l&&e.splice(c,0,'The provided timing value \"'+t+'\" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function cv(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function hv(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else cv(t,n);return n}function fv(t,e){t.style&&Object.keys(e).forEach(function(n){var r=wv(n);t.style[r]=e[n]})}function pv(t,e){t.style&&Object.keys(e).forEach(function(e){var n=wv(e);t.style[n]=\"\"})}function dv(t){return Array.isArray(t)?1==t.length?t[0]:xg(t):t}var yv=new RegExp(\"{{\\\\s*(.+?)\\\\s*}}\",\"g\");function mv(t){var e=[];if(\"string\"==typeof t){for(var n=t.toString(),r=void 0;r=yv.exec(n);)e.push(r[1]);yv.lastIndex=0}return e}function gv(t,e,n){var r=t.toString(),i=r.replace(yv,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push(\"Please provide a value for the animation param \"+r),i=\"\"),i.toString()});return i==r?t:i}function vv(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var bv=/-+([a-z0-9])/g;function wv(t){return t.replace(bv,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function _v(t,e){return 0===t||0===e}function Ev(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=Cv(t,e)})},s=1;s<e.length;s++)a()}return e}function Sv(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(\"Unable to resolve animation metadata node #\"+e.type)}}function Cv(t,e){return window.getComputedStyle(t)[e]}var Tv=\"*\",Iv=new Set([\"true\",\"1\"]),kv=new Set([\"false\",\"0\"]);function Av(t,e){var n=Iv.has(t)||kv.has(t),r=Iv.has(e)||kv.has(e);return function(i,o){var a=t==Tv||t==i,s=e==Tv||e==o;return!a&&n&&\"boolean\"==typeof i&&(a=i?Iv.has(t):kv.has(t)),!s&&r&&\"boolean\"==typeof o&&(s=o?Iv.has(e):kv.has(e)),a&&s}}var Ov=new RegExp(\"s*:selfs*,?\",\"g\");function Nv(t,e,n){return new xv(t).build(e,n)}var xv=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new Pv(e);return this._resetContextStyleTimingState(n),Sv(this,dv(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector=\"\",t.collectedStyles={},t.collectedStyles[\"\"]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return\"@\"==t.name.charAt(0)&&e.errors.push(\"animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))\"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\\s*,\\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push(\"only state() and transition() definitions can sit inside of a trigger()\")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Rv(t)){var e=t;Object.keys(e).forEach(function(t){mv(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=vv(i.values());e.errors.push('state(\"'+t.name+'\", ...) must define default values for all the following style substitutions: '+a.join(\", \"))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Sv(this,dv(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],\"string\"==typeof n?n.split(/\\s*,\\s*/).forEach(function(t){return function(t,e,n){if(\":\"==t[0]){var r=function(t,e){switch(t){case\":enter\":return\"void => *\";case\":leave\":return\"* => void\";case\":increment\":return function(t,e){return parseFloat(e)>parseFloat(t)};case\":decrement\":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value \"'+t+'\" is not supported'),\"* => *\"}}(t,n);if(\"function\"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\\*|[-\\w]+)\\s*(<?[=-]>)\\s*(\\*|[-\\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression \"'+t+'\" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(Av(o,s)),\"<\"!=a[0]||o==Tv&&s==Tv||e.push(Av(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Dv(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Sv(n,t,e)}),options:Dv(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=Sv(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:Dv(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty(\"duration\"))n=t;else if(\"number\"==typeof t)return Mv(lv(t,e).duration,0,\"\");var r=t;if(r.split(/\\s+/).some(function(t){return\"{\"==t.charAt(0)&&\"{\"==t.charAt(1)})){var i=Mv(0,0,\"\");return i.dynamic=!0,i.strValue=r,i}return Mv((n=n||lv(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Pg({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Pg(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){\"string\"==typeof t?t==Ng?n.push(t):e.errors.push(\"The provided style string value \"+t+\" is not allowed.\"):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Rv(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf(\"{{\")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){\"string\"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l=e.collectedStyles[e.currentQuerySelector],c=l[r],h=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(e.errors.push('The CSS property \"'+r+'\" that exists between the times of \"'+c.startTime+'ms\" and \"'+c.endTime+'ms\" is also being animated in a parallel animation between the times of \"'+o+'ms\" and \"'+i+'ms\"'),h=!1),o=c.startTime),h&&(l[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=mv(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push(\"Unable to resolve the local animation param \"+t+\" in the given list of values\")}))}else e.errors.push('The provided animation property \"'+r+'\" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(\"keyframes() must be placed inside of a call to animate()\"),r;var i=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if(\"string\"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Rv(t)&&t.hasOwnProperty(\"offset\")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Rv(t)&&t.hasOwnProperty(\"offset\")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r});s&&e.errors.push(\"Please ensure that all keyframe offsets are between 0 and 1\"),a&&e.errors.push(\"Please ensure that all keyframe offsets are in order\");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push(\"Not all style() steps within the declared keyframes() contain offsets\"):0==i&&(h=1/(c-1));var f=c-1,p=e.currentTime,d=e.currentAnimateTimings,y=d.duration;return l.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*y;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:Sv(this,dv(t.animation),e),options:Dv(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:Dv(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dv(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=s(function(t){var e=!!t.split(/\\s*,\\s*/).find(function(t){return\":self\"==t});return e&&(t=t.replace(Ov,\"\")),[t=t.replace(/@\\*/g,\".ng-trigger\").replace(/@\\w+/g,function(t){return\".ng-trigger-\"+t.substr(1)}).replace(/:animating/g,\".ng-animating\"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+\" \"+o:o,Hg(e.collectedStyles,e.currentQuerySelector,{});var u=Sv(this,dv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:Dv(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push(\"stagger() can only be used inside of query()\");var n=\"full\"===t.timings?{duration:0,delay:0,easing:\"full\"}:lv(t.timings,e.errors,!0);return{type:12,animation:Sv(this,dv(t.animation),e),timings:n,options:null}},t}(),Pv=function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Rv(t){return!Array.isArray(t)&&\"object\"==typeof t}function Dv(t){var e;return t?(t=cv(t)).params&&(t.params=(e=t.params)?cv(e):null):t={},t}function Mv(t,e,n){return{duration:t,delay:e,easing:n}}function Lv(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Vv=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,u(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),Fv=new RegExp(\":enter\",\"g\"),jv=new RegExp(\":leave\",\"g\");function Uv(t,e,n,r,i,o,a,s,u,l){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===l&&(l=[]),(new Bv).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}var Bv=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,l){void 0===l&&(l=[]),u=u||new Vv;var c=new Hv(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Sv(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Lv(e,[],[],[],0,0,\"\",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?sv(n.duration):null,o=null!=n.delay?sv(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Sv(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qv);var a=sv(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return Sv(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?sv(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Sv(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return lv(e.params?gv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?sv(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qv);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Sv(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?\"reverse\":i.easing){case\"reverse\":s=a-s;break;case\"full\":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Sv(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)},t}(),qv={},Hv=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new Wv(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,\"params\",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=sv(r.duration)),null!=r.delay&&(i.delay=sv(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=gv(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=qv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:\"\"},i=new Gv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Fv,\".\"+this._enterClassName)).replace(jv,\".\"+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,u(s))}return i||0!=a.length||o.push('`query(\"'+e+'\")` returned zero elements. (Use `query(\"'+e+'\", { optional: true })` if you wish to allow this.)'),a},t}(),Wv=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,\"currentTime\",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||Ng,e._currentKeyframe[t]=Ng}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){\"*\"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=Ng}):hv(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=gv(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:Ng),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,\"properties\",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=hv(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==Lg?e.add(t):r==Ng&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?vv(e.values()):[],a=n.size?vv(n.values()):[];if(r){var s=i[0],u=cv(s);s.offset=0,u.offset=1,i=[s,u]}return Lv(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),Gv=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return i(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=hv(t[0],!1);u.offset=0,o.push(u);var l=hv(t[0],!1);l.offset=Kv(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=hv(t[h],!1);f.offset=Kv((n+f.offset*r)/a),o.push(f)}r=a,n=0,i=\"\",t=o}return Lv(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(Wv);function Kv(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var zv=function(){},Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.normalizePropertyName=function(t,e){return wv(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i=\"\",o=n.toString().trim();if(Xv[e]&&0!==n&&\"0\"!==n)if(\"number\"==typeof n)i=\"px\";else{var a=n.match(/^[+-]?[\\d\\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(\"Please provide a CSS unit value for \"+t+\":\"+n)}return o+i},e}(zv),Xv=function(t){var e={};return\"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective\".split(\",\").forEach(function(t){return e[t]=!0}),e}();function Yv(t,e,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Jv={},Zv=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles[\"*\"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,i,a,s,u,l,c){var h=[],f=this.ast.options&&this.ast.options.params||Jv,p=this.buildStyles(n,s&&s.params||Jv,h),d=u&&u.params||Jv,y=this.buildStyles(r,d,h),m=new Set,g=new Map,v=new Map,b=\"void\"===r,w={params:o({},f,d)},_=c?[]:Uv(t,e,this.ast.animation,i,a,p,y,w,l,h),E=0;if(_.forEach(function(t){E=Math.max(t.duration+t.delay,E)}),h.length)return Yv(e,this._triggerName,n,r,b,p,y,[],[],g,v,E,h);_.forEach(function(t){var n=t.element,r=Hg(g,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Hg(v,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&m.add(n)});var S=vv(m.values());return Yv(e,this._triggerName,n,r,b,p,y,_,S,g,v,E)},t}(),$v=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=cv(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if(\"string\"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=gv(o,r,e)),n[t]=o})}}),n},t}(),tb=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new $v(t.style,t.options&&t.options.params||{})}),eb(this.states,\"true\",\"1\"),eb(this.states,\"false\",\"0\"),e.transitions.forEach(function(e){n.transitionFactories.push(new Zv(t,e,n.states))}),this.fallbackTransition=new Zv(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,\"containsQueries\",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function eb(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var nb=new Vv,rb=function(){function t(t,e){this._driver=t,this._normalizer=e,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=Nv(this._driver,e,n);if(n.length)throw new Error(\"Unable to build the animation due to the following errors: \"+n.join(\"\\n\"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=jg(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=Uv(this._driver,e,a,\"ng-enter\",\"ng-leave\",{},{},n,nb,o)).forEach(function(t){var e=Hg(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push(\"The requested animation doesn't exist or has already been destroyed\"),i=[]),o.length)throw new Error(\"Unable to create the animation due to the following errors: \"+o.join(\"\\n\"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,Ng)})});var u=Fg(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error(\"Unable to find the timeline player referenced by \"+t);return e},t.prototype.listen=function(t,e,n,r){var i=qg(e,\"\",\"\",\"\");return Ug(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if(\"register\"!=n)if(\"create\"!=n){var i=this._getPlayer(t);switch(n){case\"play\":i.play();break;case\"pause\":i.pause();break;case\"reset\":i.reset();break;case\"restart\":i.restart();break;case\"finish\":i.finish();break;case\"init\":i.init();break;case\"setPosition\":i.setPosition(parseFloat(r[0]));break;case\"destroy\":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),ib=[],ob={namespaceId:\"\",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ab={namespaceId:\"\",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sb=\"__ng_removed\",ub=function(){function t(t,e){void 0===e&&(e=\"\"),this.namespaceId=e;var n=t&&t.hasOwnProperty(\"value\");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=cv(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,\"params\",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),lb=new ub(\"void\"),cb=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName=\"ng-tns-\"+t,vb(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event \"'+n+'\" because the animation trigger \"'+e+\"\\\" doesn't exist!\");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger \"'+e+'\" because the provided event is undefined!');if(\"start\"!=(i=n)&&\"done\"!=i)throw new Error('The provided animation trigger event \"'+n+'\" for the animation trigger \"'+e+'\" is not supported!');var a=Hg(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Hg(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(vb(t,\"ng-trigger\"),vb(t,\"ng-trigger-\"+e),u[e]=lb),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger \"'+t+'\" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new fb(this.id,e,t),s=this._engine.statesByElement.get(t);s||(vb(t,\"ng-trigger\"),vb(t,\"ng-trigger-\"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new ub(n,this.id);if(!(n&&n.hasOwnProperty(\"value\"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=lb),\"void\"===l.value||u.value!==l.value){var c=Hg(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(vb(t,\"ng-animate-queued\"),a.onStart(function(){bb(t,\"ng-animate-queued\")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var p=[],d=o.matchStyles(u.value,u.params,p),y=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){pv(t,d),fv(t,y)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,\".ng-trigger\",!0).forEach(function(t){if(!t[sb]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,\"void\",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Fg(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||lb,s=new ub(\"void\"),u=new fb(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){vb(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=qg(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Ug(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),hb=function(){function t(t,e){this.driver=t,this._normalizer=e,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,\"queuedPlayers\",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new cb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(pb(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(pb(e)){var i=e[sb];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vb(t,\"ng-animate-disabled\")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bb(t,\"ng-animate-disabled\"))},t.prototype.removeNode=function(t,e,n){if(pb(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[sb]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return pb(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,\".ng-trigger\",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,\".ng-animating\",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return Fg(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[sb];if(n&&n.setForRemoval){if(t[sb]=ob,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,\".ng-animate-disabled\")&&this.markElementAsDisabled(t,!1),this.driver.query(t,\".ng-animate-disabled\",!0).forEach(function(n){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)vb(this.collectedEnterElements[r],\"ng-star-inserted\");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?Fg(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error(\"Unable to process animations due to the following failed trigger transitions\\n \"+t.join(\"\\n\"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new Vv,i=[],a=new Map,s=[],l=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(function(t){f.add(t);for(var e=n.driver.query(t,\".ng-animate-queued\",!0),r=0;r<e.length;r++)f.add(e[r])});var p=$g(),d=Array.from(this.statesByElement.keys()),y=mb(d,this.collectedEnterElements),m=new Map,g=0;y.forEach(function(t,e){var n=\"ng-enter\"+g++;m.set(e,n),t.forEach(function(t){return vb(t,n)})});for(var v=[],b=new Set,w=new Set,_=0;_<this.collectedLeaveElements.length;_++)(F=(V=this.collectedLeaveElements[_])[sb])&&F.setForRemoval&&(v.push(V),b.add(V),F.hasAnimation?this.driver.query(V,\".ng-star-inserted\",!0).forEach(function(t){return b.add(t)}):w.add(V));var E=new Map,S=mb(d,Array.from(b));S.forEach(function(t,e){var n=\"ng-leave\"+g++;E.set(e,n),t.forEach(function(t){return vb(t,n)})}),t.push(function(){y.forEach(function(t,e){var n=m.get(e);t.forEach(function(t){return bb(t,n)})}),S.forEach(function(t,e){var n=E.get(e);t.forEach(function(t){return bb(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var C=[],T=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(C.push(e),n.collectedEnterElements.length){var a=o[sb];if(a&&a.setForMove)return void e.destroy()}var u=!p||!n.driver.containsElement(p,o),f=E.get(o),d=m.get(o),y=n._buildInstruction(t,r,d,f,u);if(y.errors&&y.errors.length)T.push(y);else{if(u)return e.onStart(function(){return pv(o,y.fromStyles)}),e.onDestroy(function(){return fv(o,y.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return pv(o,y.fromStyles)}),e.onDestroy(function(){return fv(o,y.toStyles)}),void i.push(e);y.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach(function(t){return Hg(l,t,[]).push(e)}),y.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),y.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=h.get(e);r||h.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(T.length){var k=[];T.forEach(function(t){k.push(\"@\"+t.triggerName+\" has failed due to:\\n\"),t.errors.forEach(function(t){return k.push(\"- \"+t+\"\\n\")})}),C.forEach(function(t){return t.destroy()}),this.reportError(k)}var A=new Map,O=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(O.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Hg(A,e,[]).push(t),t.destroy()})});var N=v.filter(function(t){return _b(t,c,h)}),x=new Map;yb(x,this.driver,w,h,Ng).forEach(function(t){_b(t,c,h)&&N.push(t)});var P=new Map;y.forEach(function(t,e){yb(P,n.driver,new Set(t),c,Lg)}),N.forEach(function(t){var e=x.get(t),n=P.get(t);x.set(t,o({},e,n))});var R=[],D=[],M={};s.forEach(function(t){var e=t.element,o=t.player,s=t.instruction;if(r.has(e)){if(f.has(e))return o.onDestroy(function(){return fv(e,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=M;if(O.size>1){for(var l=e,c=[];l=l.parentNode;){var h=O.get(l);if(h){u=h;break}c.push(l)}c.forEach(function(t){return O.set(t,u)})}var p=n._buildAnimation(o.namespaceId,s,A,a,P,x);if(o.setRealPlayer(p),u===M)R.push(o);else{var d=n.playersByElement.get(u);d&&d.length&&(o.parentPlayer=Fg(d)),i.push(o)}}else pv(e,s.fromStyles),o.onDestroy(function(){return fv(e,s.toStyles)}),D.push(o),f.has(e)&&i.push(o)}),D.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Fg(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var L=0;L<v.length;L++){var V,F=(V=v[L])[sb];if(bb(V,\"ng-leave\"),!F||!F.hasAnimation){var j=[];if(l.size){var U=l.get(V);U&&U.length&&j.push.apply(j,u(U));for(var B=this.driver.query(V,\".ng-animating\",!0),q=0;q<B.length;q++){var H=l.get(B[q]);H&&H.length&&j.push.apply(j,u(H))}}var W=j.filter(function(t){return!t.destroyed});W.length?wb(this,V,W):this.processLeaveNode(V)}}return v.length=0,R.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),R},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[sb];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||\"void\"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,i,o=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,l=function(t){var r=t.element,i=r!==o,a=Hg(n,r,[]);c._getPreviousPlayers(r,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})},c=this;try{for(var h=a(e.timelines),f=h.next();!f.done;f=h.next())l(f.value)}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}pv(o,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;c.add(f);var p=f[sb];if(p&&p.removedBeforeQueried)return new Dg(e.duration,e.delay);var d,y,m=f!==u,g=(d=(n.get(f)||ib).map(function(t){return t.getRealPlayer()}),y=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof Mg?t(i.players,n):n.push(i)}}(d,y),y).filter(function(t){return!!t.element&&t.element===f}),v=i.get(f),b=o.get(f),w=jg(0,a._normalizer,0,e.keyframes,v,b),_=a._buildPlayer(e,w,g);if(e.subTimeline&&r&&h.add(f),m){var E=new fb(t,s,f);E.setRealPlayer(_),l.push(E)}return _});l.forEach(function(t){Hg(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return vb(t,\"ng-animating\")});var p=Fg(f);return p.onDestroy(function(){c.forEach(function(t){return bb(t,\"ng-animating\")}),fv(u,e.toStyles)}),h.forEach(function(t){Hg(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Dg(t.duration,t.delay)},t}(),fb=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Dg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Ug(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback(\"start\")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){Hg(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent(\"done\",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent(\"start\",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent(\"destroy\",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function pb(t){return t&&1===t.nodeType}function db(t,e){var n=t.style.display;return t.style.display=null!=e?e:\"none\",n}function yb(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(db(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[sb]=ab,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return db(t,o[s++])}),a}function mb(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var gb=\"$$classes\";function vb(t,e){if(t.classList)t.classList.add(e);else{var n=t[gb];n||(n=t[gb]={}),n[e]=!0}}function bb(t,e){if(t.classList)t.classList.remove(e);else{var n=t[gb];n&&delete n[e]}}function wb(t,e,n){Fg(n).onDone(function(){return t.processLeaveNode(e)})}function _b(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var Eb=function(){function t(t,e){var n=this;this._driver=t,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new hb(t,e),this._timelineEngine=new rb(t,e),this._transitionEngine.onRemovalComplete=function(t,e){return n.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+\"-\"+r,a=this._triggerCache[o];if(!a){var s=[],u=Nv(this._driver,i,s);if(s.length)throw new Error('The animation trigger \"'+r+'\" has failed to build due to the following errors:\\n - '+s.join(\"\\n - \"));a=function(t,e){return new tb(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if(\"@\"==n.charAt(0)){var i=s(Wg(n),2);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,i){if(\"@\"==n.charAt(0)){var o=s(Wg(n),2);return this._timelineEngine.listen(o[0],e,o[1],i)}return this._transitionEngine.listen(t,e,n,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,\"players\",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),Sb=\"animation\",Cb=\"animationend\",Tb=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+\"ms \"+this._easing+\" \"+this._delay+\"ms 1 normal \"+this._fillMode+\" \"+this._name,(n=xb(t=this._element,\"\").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)\",\"===t.charAt(n)&&0}(n),e=n+\", \"+e),Nb(t,\"\",e),Ob(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){Ib(this._element,this._name,\"paused\")},t.prototype.resume=function(){Ib(this._element,this._name,\"running\")},t.prototype.setPosition=function(t){var e=kb(this._element,this._name);this._position=t*this._duration,Nb(this._element,\"Delay\",\"-\"+this._position+\"ms\",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),Ob(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=Ab(n=xb(t=this._element,\"\").split(\",\"),e))>=0&&(n.splice(r,1),Nb(t,\"\",n.join(\",\"))))},t}();function Ib(t,e,n){Nb(t,\"PlayState\",n,kb(t,e))}function kb(t,e){var n=xb(t,\"\");return n.indexOf(\",\")>0?Ab(n.split(\",\"),e):Ab([n],e)}function Ab(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ob(t,e,n){n?t.removeEventListener(Cb,e):t.addEventListener(Cb,e)}function Nb(t,e,n,r){var i=Sb+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(\",\");a[r]=n,n=a.join(\",\")}}t.style[i]=n}function xb(t,e){return t.style[Sb+e]}var Pb=\"linear\",Rb=function(t){return t[t.INITIALIZED=1]=\"INITIALIZED\",t[t.STARTED=2]=\"STARTED\",t[t.FINISHED=3]=\"FINISHED\",t[t.DESTROYED=4]=\"DESTROYED\",t}({}),Db=function(){function t(t,e,n,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this.state=0,this.easing=o||Pb,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this.state>=Rb.DESTROYED||(this.state=Rb.DESTROYED,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this.state>=Rb.FINISHED||(this.state=Rb.FINISHED,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this.state>=Rb.STARTED},t.prototype.init=function(){this.state>=Rb.INITIALIZED||(this.state=Rb.INITIALIZED,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this.state=Rb.STARTED),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new Tb(this.element,this.animationName,this._duration,this._delay,this.easing,\"forwards\",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e=\"start\"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this.state>=Rb.FINISHED;Object.keys(this._finalStyles).forEach(function(r){\"offset\"!=r&&(e[r]=n?t._finalStyles[r]:Cv(t.element,r))})}this.currentSnapshot=e},t}(),Mb=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=rv(n),r}return i(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(Dg),Lb=function(){function t(){this._count=0,this._head=document.querySelector(\"head\"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return Zg(t)},t.prototype.matchesElement=function(t,e){return tv(t,e)},t.prototype.containsElement=function(t,e){return ev(t,e)},t.prototype.query=function(t,e,n){return nv(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){var r=\"@keyframes \"+e+\" {\\n\",i=\"\";(n=n.map(function(t){return rv(t)})).forEach(function(t){i=\" \";var e=parseFloat(t.offset);r+=\"\"+i+100*e+\"% {\\n\",i+=\" \",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case\"offset\":return;case\"easing\":return void(n&&(r+=i+\"animation-timing-function: \"+n+\";\\n\"));default:return void(r+=\"\"+i+e+\": \"+n+\";\\n\")}}),r+=i+\"}\\n\"}),r+=\"}\\n\";var o=document.createElement(\"style\");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter(function(t){return t instanceof Db}),u={};_v(n,r)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){\"offset\"!=n&&\"easing\"!=n&&(e[n]=t[n])})}),e}(e=Ev(t,e,u));if(0==n)return new Mb(t,l);var c=\"gen_css_kf_\"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector(\"head\").appendChild(h);var f=new Db(t,e,c,n,r,i,l);return f.onDestroy(function(){var t;(t=h).parentNode.removeChild(t)}),f},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn(\"@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\\n\",\"  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill.\"),this._warningIssued=!0)},t}(),Vb=function(){function t(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener(\"finish\",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,\"totalTime\",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){\"offset\"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Cv(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e=\"start\"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Fb=function(){function t(){this._isNativeImpl=/\\{\\s*\\[native\\s+code\\]\\s*\\}/.test(jb().toString()),this._cssKeyframesDriver=new Lb}return t.prototype.validateStyleProperty=function(t){return Zg(t)},t.prototype.matchesElement=function(t,e){return tv(t,e)},t.prototype.containsElement=function(t,e){return ev(t,e)},t.prototype.query=function(t,e,n){return nv(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?\"both\":\"forwards\"};i&&(s.easing=i);var u={},l=o.filter(function(t){return t instanceof Vb});return _v(n,r)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})}),e=Ev(t,e=e.map(function(t){return hv(t,!1)}),u),new Vb(t,e,s)},t}();function jb(){return Vg()&&Element.prototype.animate||{}}var Ub=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:\"0\",encapsulation:le.None,styles:[],data:{animation:[]}}),r}return i(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?xg(t):t;return Hb(this._renderer,null,e,\"register\",[n]),new Bb(e,this._renderer)},e}(Og),Bb=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return i(e,t),e.prototype.create=function(t,e){return new qb(this._id,t,e||{},this._renderer)},e}(function(){}),qb=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command(\"create\",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,\"@@\"+this.id+\":\"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Hb(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen(\"done\",t)},t.prototype.onStart=function(t){this._listen(\"start\",t)},t.prototype.onDestroy=function(t){this._listen(\"destroy\",t)},t.prototype.init=function(){this._command(\"init\")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command(\"play\"),this._started=!0},t.prototype.pause=function(){this._command(\"pause\")},t.prototype.restart=function(){this._command(\"restart\")},t.prototype.finish=function(){this._command(\"finish\")},t.prototype.destroy=function(){this._command(\"destroy\")},t.prototype.reset=function(){this._command(\"reset\")},t.prototype.setPosition=function(t){this._command(\"setPosition\",t)},t.prototype.getPosition=function(){return 0},t}();function Hb(t,e,n,r,i){return t.setProperty(e,\"@@\"+n+\":\"+r,i)}var Wb=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Gb(\"\",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+\"-\"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new Kb(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=s(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),Gb=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,\"data\",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){\"@\"==e.charAt(0)&&\"@.disabled\"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),Kb=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return i(e,t),e.prototype.setProperty=function(t,e,n){\"@\"==e.charAt(0)?\".\"==e.charAt(1)&&\"@.disabled\"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,i,o,a=this;if(\"@\"==e.charAt(0)){var u=function(t){switch(t){case\"body\":return document.body;case\"document\":return document;case\"window\":return window;default:return t}}(t),l=e.substr(1),c=\"\";return\"@\"!=l.charAt(0)&&(l=(r=s((i=l,o=i.indexOf(\".\"),[i.substring(0,o),i.substr(o+1)]),2))[0],c=r[1]),this.engine.listen(this.namespaceId,u,l,c,function(t){a.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(Gb),zb=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(Eb);function Qb(){return\"function\"==typeof jb()?new Fb:new Lb}function Xb(){return new Qv}function Yb(t,e,n){return new Wb(t,e,n)}var Jb=new dt(\"AnimationModuleType\"),Zb=function(){},$b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),tw=function(t){return t[t.Get=0]=\"Get\",t[t.Post=1]=\"Post\",t[t.Put=2]=\"Put\",t[t.Delete=3]=\"Delete\",t[t.Options=4]=\"Options\",t[t.Head=5]=\"Head\",t[t.Patch=6]=\"Patch\",t}({}),ew=function(t){return t[t.Basic=0]=\"Basic\",t[t.Cors=1]=\"Cors\",t[t.Default=2]=\"Default\",t[t.Error=3]=\"Error\",t[t.Opaque=4]=\"Opaque\",t}({}),nw=function(t){return t[t.NONE=0]=\"NONE\",t[t.JSON=1]=\"JSON\",t[t.FORM=2]=\"FORM\",t[t.FORM_DATA=3]=\"FORM_DATA\",t[t.TEXT=4]=\"TEXT\",t[t.BLOB=5]=\"BLOB\",t[t.ARRAY_BUFFER=6]=\"ARRAY_BUFFER\",t}({}),rw=function(t){return t[t.Text=0]=\"Text\",t[t.Json=1]=\"Json\",t[t.ArrayBuffer=2]=\"ArrayBuffer\",t[t.Blob=3]=\"Blob\",t}({}),iw=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split(\"\\n\").forEach(function(t){var e=t.indexOf(\":\");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(\",\")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,u(t.split(\",\")))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},t.prototype.entries=function(){throw new Error('\"entries\" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),ow=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,i=t.statusText,o=t.type,a=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),aw=function(t){function e(){return t.call(this,{status:200,statusText:\"Ok\",type:ew.Default,headers:new iw})||this}return i(e,t),e}(ow),sw=function(){};function uw(t){if(\"string\"!=typeof t)return t;switch(t.toUpperCase()){case\"GET\":return tw.Get;case\"POST\":return tw.Post;case\"PUT\":return tw.Put;case\"DELETE\":return tw.Delete;case\"OPTIONS\":return tw.Options;case\"HEAD\":return tw.Head;case\"PATCH\":return tw.Patch}throw new Error('Invalid request method. The method \"'+t+'\" is not supported.')}var lw=function(t){return t>=200&&t<300},cw=function(){function t(){}return t.prototype.encodeKey=function(t){return hw(t)},t.prototype.encodeValue=function(t){return hw(t)},t}();function hw(t){return encodeURIComponent(t).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/gi,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%2B/gi,\"+\").replace(/%3D/gi,\"=\").replace(/%3F/gi,\"?\").replace(/%2F/gi,\"/\")}var fw=function(){function t(t,e){void 0===t&&(t=\"\"),void 0===e&&(e=new cw),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t=\"\");var e=new Map;return t.length>0&&t.split(\"&\").forEach(function(t){var n=t.indexOf(\"=\"),r=s(-1==n?[t,\"\"]:[t.slice(0,n),t.slice(n+1)],2),i=r[0],o=r[1],a=e.get(i)||[];a.push(o),e.set(i,a)}),e}(t)}return t.prototype.clone=function(){var e=new t(\"\",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+\"=\"+t.queryEncoder.encodeValue(n))})}),e.join(\"&\")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),pw=function(){function t(){}return t.prototype.json=function(){return\"string\"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t=\"legacy\"),this._body instanceof fw)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case\"legacy\":return String.fromCharCode.apply(null,new Uint16Array(this._body));case\"iso-8859\":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error(\"Invalid value for encodingHint: \"+t)}return null==this._body?\"\":\"object\"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error(\"The request body isn't either a blob or an array buffer\")},t}(),dw=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return i(e,t),e.prototype.toString=function(){return\"Response with status: \"+this.status+\" \"+this.statusText+\" for URL: \"+this.url},e}(pw),yw=/^\\)\\]\\}',?\\n/,mw=function(){function t(t,e,n){var r=this;this.request=t,this.response=new N(function(i){var o=e.build();o.open(tw[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var a=function(){var e=1223===o.status?204:o.status,r=null;204!==e&&\"string\"==typeof(r=void 0===o.response?o.responseText:o.response)&&(r=r.replace(yw,\"\")),0===e&&(e=r?200:0);var a,s=iw.fromResponseHeaderString(o.getAllResponseHeaders()),u=(\"responseURL\"in(a=o)?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader(\"X-Request-URL\"):null)||t.url,l=new ow({body:r,status:e,headers:s,statusText:o.statusText||\"OK\",url:u});null!=n&&(l=n.merge(l));var c=new dw(l);if(c.ok=lw(e),c.ok)return i.next(c),void i.complete();i.error(c)},s=function(t){var e=new ow({body:t,type:ew.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),i.error(new dw(e))};if(r.setDetectedContentType(t,o),null==t.headers&&(t.headers=new iw),t.headers.has(\"Accept\")||t.headers.append(\"Accept\",\"application/json, text/plain, */*\"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(\",\"))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case rw.ArrayBuffer:o.responseType=\"arraybuffer\";break;case rw.Json:o.responseType=\"json\";break;case rw.Text:o.responseType=\"text\";break;case rw.Blob:o.responseType=\"blob\";break;default:throw new Error(\"The selected responseType is not supported\")}return o.addEventListener(\"load\",a),o.addEventListener(\"error\",s),o.send(r.request.getBody()),function(){o.removeEventListener(\"load\",a),o.removeEventListener(\"error\",s),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get(\"Content-Type\"))switch(t.contentType){case nw.NONE:break;case nw.JSON:e.setRequestHeader(\"content-type\",\"application/json\");break;case nw.FORM:e.setRequestHeader(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\");break;case nw.TEXT:e.setRequestHeader(\"content-type\",\"text/plain\");break;case nw.BLOB:var n=t.blob();n.type&&e.setRequestHeader(\"content-type\",n.type)}},t}(),gw=function(){function t(t,e){void 0===t&&(t=\"XSRF-TOKEN\"),void 0===e&&(e=\"X-XSRF-TOKEN\"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=_l().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),vw=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new mw(t,this._browserXHR,this._baseResponseOptions)},t}(),bw=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,i=t.url,o=t.search,a=t.params,s=t.withCredentials,u=t.responseType;this.method=null!=e?uw(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||o),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,\"search\",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new iw(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof fw?t.clone():\"string\"==typeof t?new fw(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new fw;return Object.keys(t).forEach(function(r){var i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){\"string\"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),ww=function(t){function e(){return t.call(this,{method:tw.Get,headers:new iw})||this}return i(e,t),e}(bw),_w=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var i,o=e.params||e.search;if(o&&(i=\"object\"!=typeof o||o instanceof fw?o.toString():function(t){var e=new fw;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}(o).toString()).length>0){var a=\"?\";-1!=n.url.indexOf(\"?\")&&(a=\"&\"==n.url[n.url.length-1]?\"\":\"&\"),n.url=r+a+i}return n._body=e.body,n.method=uw(e.method),n.headers=new iw(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return i(e,t),e.prototype.detectContentType=function(){switch(this.headers.get(\"content-type\")){case\"application/json\":return nw.JSON;case\"application/x-www-form-urlencoded\":return nw.FORM;case\"multipart/form-data\":return nw.FORM_DATA;case\"text/plain\":case\"text/html\":return nw.TEXT;case\"application/octet-stream\":return this._body instanceof Iw?nw.ARRAY_BUFFER:nw.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?nw.NONE:this._body instanceof fw?nw.FORM:this._body instanceof Cw?nw.FORM_DATA:this._body instanceof Tw?nw.BLOB:this._body instanceof Iw?nw.ARRAY_BUFFER:this._body&&\"object\"==typeof this._body?nw.JSON:nw.TEXT},e.prototype.getBody=function(){switch(this.contentType){case nw.JSON:case nw.FORM:return this.text();case nw.FORM_DATA:return this._body;case nw.TEXT:return this.text();case nw.BLOB:return this.blob();case nw.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(pw),Ew=function(){},Sw=\"object\"==typeof window?window:Ew,Cw=Sw.FormData||Ew,Tw=Sw.Blob||Ew,Iw=Sw.ArrayBuffer||Ew;function kw(t,e){return t.createConnection(e).response}function Aw(t,e,n,r){return t.merge(new bw(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}var Ow=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if(\"string\"==typeof t)n=kw(this._backend,new _w(Aw(this._defaultOptions,e,tw.Get,t)));else{if(!(t instanceof _w))throw new Error(\"First argument must be a url string or Request instance.\");n=kw(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new _w(Aw(this._defaultOptions,e,tw.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new _w(Aw(this._defaultOptions.merge(new bw({body:e})),n,tw.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new _w(Aw(this._defaultOptions.merge(new bw({body:e})),n,tw.Put,t)))},t.prototype.delete=function(t,e){return this.request(new _w(Aw(this._defaultOptions,e,tw.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new _w(Aw(this._defaultOptions.merge(new bw({body:e})),n,tw.Patch,t)))},t.prototype.head=function(t,e){return this.request(new _w(Aw(this._defaultOptions,e,tw.Head,t)))},t.prototype.options=function(t,e){return this.request(new _w(Aw(this._defaultOptions,e,tw.Options,t)))},t}();function Nw(){return new gw}function xw(t,e){return new Ow(t,e)}var Pw=function(){},Rw=function(){function t(){}return t.prototype.create=function(t){return\"undefined\"==typeof MutationObserver?null:new MutationObserver(t)},t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:\"root\"}),t}(),Dw=function(){};function Mw(t,e,n){return Ju(t,e,n)(this)}N.prototype.do=Mw,N.prototype._do=Mw,N.prototype.take=function(t){return fl(t)(this)};var Lw=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(){var t=this;return this.auth.authState.take(1).map(function(t){return!!t}).do(function(e){e||t.router.navigate([\"/login\"])})},t}(),Vw=function(){};\"undefined\"!=typeof Intl&&Intl;var Fw=function(){},jw=new dt(\"mat-sanity-checks\",{providedIn:\"root\",factory:function(){return!0}}),Uw=function(){function t(t){this._sanityChecksEnabled=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document=\"object\"==typeof document&&document?document:null,this._window=\"object\"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&An()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn(\"Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.\")},t.prototype._checkThemeIsPresent=function(){if(this._document&&\"function\"==typeof getComputedStyle){var t=this._document.createElement(\"div\");t.classList.add(\"mat-theme-loaded-marker\"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&\"none\"!==e.display&&console.warn(\"Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming\"),this._document.body.removeChild(t)}},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn(\"Could not find HammerJS. Certain Angular Material components may not work correctly.\"),this._hasCheckedHammer=!0)},t}(),Bw=function(){},qw=function(){},Hw=function(){},Ww=function(){},Gw=function(){},Kw=function(t,e,n){return new ms(Xs,[Ys],function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Le&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[ci(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([$i(512,rn,on,[[8,[lp,by,Ey,Ty,Ay,Py,em,am,hm,Pm,Vm,Zm,sg,pg,vg,Tg,Ag]],[3,rn],sn]),$i(5120,Er,Tr,[[3,Er]]),$i(4608,mu,gu,[Er,[2,yu]]),$i(5120,Be,qe,[]),$i(5120,mr,Sr,[]),$i(5120,gr,Cr,[]),$i(4608,bc,wc,[Du]),$i(6144,Yr,null,[bc]),$i(4608,pc,dc,[]),$i(5120,Ul,function(t,e,n,r,i,o,a){return[new hc(t,e,n),new vc(r),new yc(i,o,a)]},[Du,dn,[2,Ge],Du,Du,pc,ze]),$i(4608,Bl,Bl,[Ul,dn]),$i(135680,Wl,Wl,[Du]),$i(4608,Jl,Jl,[Bl,Wl]),$i(5120,ov,Qb,[]),$i(5120,zv,Xb,[]),$i(4608,Eb,zb,[ov,zv]),$i(5120,Vn,Yb,[Jl,Eb,dn]),$i(6144,Hl,null,[Wl]),$i(4608,En,En,[dn]),$i(4608,Pl,Pl,[Du]),$i(4608,Ll,Ll,[Du]),$i(4608,Op,Op,[]),$i(4608,$b,$b,[]),$i(4608,ow,aw,[]),$i(5120,sw,Nw,[]),$i(4608,vw,vw,[$b,ow,sw]),$i(4608,bw,ww,[]),$i(5120,Ow,xw,[vw,bw]),$i(4608,Yy,Yy,[Gy,[2,Ky],Ge,dn]),$i(5120,zy,Qy,[Gy,[2,Ky]]),$i(4608,_m,_m,[Gy,[2,Ky],[2,gm],[2,vm],Ge,dn]),$i(4608,Og,Ub,[Vn,Ol]),$i(4608,fd,fd,[]),$i(4608,Rw,Rw,[]),$i(4608,Sd,Sd,[]),$i(4608,Bd,Bd,[]),$i(4608,Rd,Rd,[]),$i(4608,Dd,Dd,[rn,dn,zt,Rd,Dn]),$i(4608,Md,Md,[]),$i(4608,Zd,Zd,[Dd,Un,Qn,jn]),$i(4608,ty,ty,[]),$i(4608,iy,iy,[]),$i(5120,Kh,np,[Pf]),$i(4608,Gf,Gf,[]),$i(6144,Hf,null,[Gf]),$i(135680,Kf,Kf,[Pf,Bn,Xe,zt,Hf]),$i(4608,Wf,Wf,[]),$i(5120,ap,op,[rp]),$i(5120,Ke,function(t){return[t]},[ap]),$i(4608,Lw,Lw,[Yy,Pf]),$i(1073742336,Ru,Ru,[]),$i(1024,ge,Ac,[]),$i(1024,On,function(){return[Yf()]},[]),$i(512,rp,rp,[zt]),$i(1024,je,function(t,e){return[(n=t,Vl(\"probe\",jl),Vl(\"coreTokens\",o({},Fl,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return jl}),ip(e)];var n},[[2,On],rp]),$i(512,Ue,Ue,[[2,je]]),$i(131584,Dn,Dn,[dn,ze,zt,ge,rn,Ue]),$i(1073742336,Ir,Ir,[Dn]),$i(1073742336,Oc,Oc,[[3,Oc]]),$i(1073742336,dd,dd,[]),$i(1073742336,yd,yd,[]),$i(1073742336,Pw,Pw,[]),$i(1073742336,Jy,Jy,[]),$i(1073742336,Xy,Xy,[]),$i(1073742336,Em,Em,[]),$i(1073742336,Zb,Zb,[]),$i(1073742336,md,md,[]),$i(1024,Qf,$f,[[3,Pf]]),$i(512,dh,yh,[]),$i(512,Uf,Uf,[]),$i(256,zf,{},[]),$i(1024,$s,Zf,[Js,[2,tu],zf]),$i(512,eu,eu,[$s]),$i(512,Xe,Xe,[]),$i(512,Bn,Gn,[Xe,[2,Hn]]),$i(1024,If,function(){return[[{path:\"\",redirectTo:\"login\",pathMatch:\"full\"},{path:\"login\",component:Zy},{path:\"signup\",component:nm},{path:\"login-email\",component:sm},{path:\"members\",component:Sm},{path:\"registration\",component:Rm},{path:\"room\",component:Bm},{path:\"add-game\",component:eg},{path:\"room-form\",component:ug},{path:\"game-type-form\",component:dg},{path:\"room-sign-in\",component:bg}]]},[]),$i(1024,Pf,ep,[Dn,dh,Uf,eu,zt,Bn,Xe,If,zf,[2,Af],[2,Cf]]),$i(1073742336,Jf,Jf,[[2,Qf],[2,Pf]]),$i(1073742336,Vw,Vw,[]),$i(1073742336,Uw,Uw,[[2,jw]]),$i(1073742336,Fw,Fw,[]),$i(1073742336,Bw,Bw,[]),$i(1073742336,qw,qw,[]),$i(1073742336,Dw,Dw,[]),$i(1073742336,Hw,Hw,[]),$i(1073742336,Ww,Ww,[]),$i(1073742336,Gw,Gw,[]),$i(1073742336,bd,bd,[]),$i(1073742336,wd,wd,[]),$i(1073742336,ly,ly,[]),$i(1073742336,Ed,Ed,[]),$i(1073742336,kd,kd,[]),$i(1073742336,Ud,Ud,[]),$i(1073742336,qd,qd,[]),$i(1073742336,Hd,Hd,[]),$i(1073742336,Wd,Wd,[]),$i(1073742336,$d,$d,[]),$i(1073742336,ry,ry,[]),$i(1073742336,sy,sy,[]),$i(1073742336,cy,cy,[]),$i(1073742336,hy,hy,[]),$i(1073742336,Xs,Xs,[]),$i(256,Le,!0,[]),$i(256,Gy,{apiKey:\"AIzaSyBoIS_aIZhjpaBUpU-DGvAZQ17_IsGb5AU\",authDomain:\"dominioncounter.firebaseapp.com\",databaseURL:\"https://dominioncounter.firebaseio.com\",storageBucket:\"dominioncounter.appspot.com\",messagingSenderId:\"450009917595\",projectId:\"dominioncounter\"},[]),$i(256,Ky,void 0,[]),$i(256,Jb,\"BrowserAnimations\",[]),$i(256,Vd,{autoClose:!0},[])])})}();(function(){if(In)throw new Error(\"Cannot enable prod mode after platform setup.\");Tn=!1})(),kc().bootstrapModuleFactory(Kw).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"+7AZ\"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:\"${JSCORE_VERSION}\"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error(\"Firebase Database (\"+i.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+\"+/=\"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+\"-_.\"},HAS_NATIVE_SUPPORT:\"function\"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error(\"encodeByteArray takes an array as a parameter\");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join(\"\")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join(\"\")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(t){console.error(\"base64Decode failed: \",t)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),\"function\"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.userAgent?navigator.userAgent:\"\"},p=Error.captureStackTrace,d=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=\"FirebaseError\",Object.defineProperty(this,\"stack\",{get:function(){return t.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name=\"FirebaseError\";var y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\\{\\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+\"/\"+t;n=void 0===r?\"Error\":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():\"<\"+n+\"?>\"});var o=new d(i,n=this.serviceName+\": \"+n+\" (\"+i+\").\");for(var a in e)e.hasOwnProperty(a)&&\"_\"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function m(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i=\"\";try{var o=t.split(\".\");e=m(l(o[0])||\"\"),n=m(l(o[1])||\"\"),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(t,e){return v(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},_=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if(\"string\"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if(\"string\"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){this.blockSize=-1}),E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error(\"Missing Observer.\");void 0===(r=function(t,e){if(\"object\"!=typeof t||null===t)return!1;for(var n=0,r=[\"next\",\"error\",\"complete\"];n<r.length;n++){var i=r[n];if(i in t&&\"function\"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){\"undefined\"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function C(t,e,n){var r=\"\";switch(e){case 1:r=n?\"first\":\"First\";break;case 2:r=n?\"second\":\"Second\";break;case 3:r=n?\"third\":\"Third\";break;case 4:r=n?\"fourth\":\"Fourth\";break;default:throw new Error(\"errorPrefix called with argumentNumber > 4.  Need to update it?\")}return t+\" failed: \"+r+\" argument \"}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return\"undefined\"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return\"object\"==typeof navigator&&\"ReactNative\"===navigator.product},e.ErrorFactory=y,e.FirebaseError=d,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=m,e.stringify=function(t){return JSON.stringify(t)},e.decode=g,e.isAdmin=function(t){var e=g(t).claims;return\"object\"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=g(t).claims;return\"object\"==typeof e&&e.hasOwnProperty(\"iat\")?e.iat:null},e.isValidFormat=function(t){var e=g(t),n=e.claims;return!!e.signature&&!!n&&\"object\"==typeof n&&n.hasOwnProperty(\"iat\")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,i=Math.floor((new Date).getTime()/1e3);return\"object\"==typeof r&&(r.hasOwnProperty(\"nbf\")?e=r.nbf:r.hasOwnProperty(\"iat\")&&(e=r.iat),n=r.hasOwnProperty(\"exp\")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return\"object\"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(n))}),e.length?\"&\"+e.join(\"&\"):\"\"},e.querystringDecode=function(t){var e={};return t.replace(/^\\?/,\"\").split(\"&\").forEach(function(t){if(t){var n=t.split(\"=\");e[n[0]]=n[1]}}),e},e.Sha1=_,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.errorPrefix=C,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i=\"at least \"+e:r>n&&(i=0===n?\"none\":\"no more than \"+n),i)throw new Error(t+\" failed: Was called with \"+r+(1===r?\" argument.\":\" arguments.\")+\" Expects \"+i+\".\")},e.validateCallback=function(t,e,n,r){if((!r||n)&&\"function\"!=typeof n)throw new Error(C(t,e,r)+\"must be a valid function.\")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&(\"object\"!=typeof n||null===n))throw new Error(C(t,e,r)+\"must be a valid context object.\")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&\"string\"!=typeof n)throw new Error(C(t,e,r)+\"must be a valid firebase namespace.\")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,\"Surrogate pair missing trail surrogate.\"),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}}},[[6,0]]]);","extractedComments":[]}